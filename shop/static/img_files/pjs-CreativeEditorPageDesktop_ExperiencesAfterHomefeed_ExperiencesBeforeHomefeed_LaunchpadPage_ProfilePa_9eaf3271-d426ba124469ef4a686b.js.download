(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~LaunchpadPage~ProfilePa~9eaf3271"],{"2rhI":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return u});var r=n("hvnN"),o=n.n(r),a=n("QJ2d"),i={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},c=function(e){return e.facebook_id?i.FACEBOOK:e.google_open_id_token?i.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?i.GOOGLE:e.email?i.EMAIL:i.OTHER},s=(o.a.shape({credentials:o.a.shape({}),userData:o.a.shape({}),type:o.a.oneOf(Object.values(i))}),function(e){return e in a.a.settings.MINIMUM_AGE_BY_EU_COUNTRY}),u=function(e){return a.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)}},"3nbW":function(e,t,n){"use strict";var r=n("f5ca"),o=n("D+W/"),a=n("oFGA"),i=n("/YZq"),c=n("ePT2"),s=n("ggpB"),u=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[105,"FACEBOOK_ACCOUNT_NOT_LINKED"],[12,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[16,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[77,"INVALID_PASSWORD_FB_USER"],[78,"INVALID_PASSWORD_ERROR_CODE"],[79,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[83,"LOGIN_POLICY_VIOLATION_USER"],[85,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[93,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[8,"API_LIMIT_EXCEEDED_ERROR"],[9,"API_EVENT_BLOCKED_ERROR"],[19,"USER_IN_SAFE_MODE"],[84,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[85,"LOGIN_BAD_PASSWORD_ASK_RESET"],[1201,"LOGIN_MFA_REQUIRED"],[30,"LOGIN_USER_NOT_FOUND"],[88,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"]]);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown_source",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var a=e.http_status===o.a.RESPONSE_CODE_TOO_MANY_REQUESTS?o.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code,i=a;u.has(a)&&(i=u.get(a));var c=t.container;r?Object(s.a)("unauth_web_client_cctld_login_api_error.".concat(String(i),".").concat(c||"unknow_container",".").concat(n)):Object(s.a)("unauth_web_client_login_api_error.".concat(String(i),".").concat(c||"unknow_container",".").concat(n))}}var d=n("DU5A"),f=n("2rhI");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=i.a.getLogger("UserLogin"),g=i.a.getLogger("AuthHandshake"),h=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?f.a.FACEBOOK:e.google_open_id_token?f.a.GOOGLE_ONE_TAP:e.gplus_id_token?f.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?f.a.EMAIL:f.a.OTHER},b=function(e,t){var n="referrer_unknown";try{var r=document.referrer;n=r?r.indexOf("/t.co/")>-1?"twitter":r.indexOf("google.")>-1?"google":r.indexOf("bing.")>-1?"bing":r.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}var o=h(e),a=t===Object(t)?t.hybridTier:"tier_unknown",i=t===Object(t)?t.container:"container_unknown";Object(s.a)("login.referrer."+n+"."+o),Object(s.a)("login.container."+i+"."+o),Object(s.a)("login.type."+o);var c=h(e)||"method_unknown",u=t.page||"page_unknown";e.gplus_autologin?Object(s.a)("web_autologin_google"):e.facebook_autologin?Object(s.a)("web_autologin_facebook"):Object(s.a)("web_login.".concat(c,".success.").concat(u,".").concat(i,".").concat(n,".").concat(a))},_=function(e,t){Object(s.a)("web_cross_domain_login.".concat(e,".").concat(h(t)))};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0;if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)&&-1!==o.a.GEN.templateConst.settings.CORS_HANDSHAKE_DOMAINS.indexOf(a.a.instance.origin))return function(e,t){return _("attempt",e),r.default.loginUser(e).then(function(n){if(n&&n.data){_("success_with_token",e);var o=n.data;return r.default.exchangeTokenAndSetSession(o).then(function(n){return _("success_token_exchanged",e),b(e,t),g.debug("Cross domain login successful"),Promise.resolve()},function(t){throw _("success_token_not_exchanged",e),g.error("Failed to set session for current user; "+t.message),t})}throw _("success_without_token",e),g.error("No custom access token in cross domain login response"),new Error},function(n){throw _("failure",e),l(n,t,h(e),!0),g.error("Failed to login user; "+n.message),n})}(e,t);e.switch_account&&(e.get_user=!!n||e.get_user);var f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}({},e,{app_type_from_client:5,visited_pages_before_login:null,recaptchaToken:s,tokenV3:u});i&&(f.visited_pages_before_login=JSON.stringify(i));return c.a.create("UserSessionResource",f).callCreate({showError:!1,async:!0}).then(function(n){return p.debug("Login, successful",n),b(e,t),Object(d.f)(!1),n},function(n){return l(n,t,h(e)),Promise.reject(n)})}},"73jm":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("hvnN"),o={login:"login",loginMfa:"loginMfa",signup:"signup",signupOrPersonalizedLogin:"signupOrPersonalizedLogin",socialSignupWithAge:"socialSignupWithAge",FBEmailRerequest:"FBEmailRerequest",emailConfirmation:"emailConfirmation",magicLinkConfirmation:"magicLinkConfirmation",respondMessage:"respondMessage"},a={boardPage:"boardPage",boardInvite:"boardInvite",defaultSource:"defaultSource",homePage:"homePage",mwebDefaultSource:"mwebDefaultSource",invite:"invite",login:"login",userFollow:"userFollow",userProfilePage:"userProfilePage",saveButton:"saveButton",actionButton:"actionButton",signupButton:"signupButton",personalizedFlyout:"personalizedFlyout",navigateBoard:"navigateBoard",navigatePin:"navigatePin",navigateInterest:"navigateInterest",unauthHeader:"unauthHeader",unauthBanner:"unauthBanner",giftWrap:"giftWrap",loginMfa:"loginMfa"};n.n(r).a.oneOf([a.boardPage,a.boardInvite,a.defaultSource,a.giftWrap,a.homePage,a.invite,a.login,a.mwebDefaultSource,a.navigateBoard,a.navigatePin,a.navigateInterest,a.saveButton,a.signupButton,a.unauthBanner,a.unauthHeader,a.userFollow,a.userProfilePage])},DU5A:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return f});var r=n("WQSK"),o=n("PhUE"),a=n("2cJX");function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";arguments.length>3&&arguments[3],arguments.length>4&&arguments[4];return t?a.a.tier1:n&&n.includes("yahoo.co.jp")&&"JP"===e?a.a.tier1:(e=e||"",a.e.has(e)?a.a.tier1:a.g.has(e)?a.a.tier2:a.a.tier3)}function c(){r.set("hasBeenShownLoginModalInOpen","true",a.c)}function s(e){o.b.localStorage.setItem("uimb",!!e)}function u(){return o.b.localStorage.getItem("uimb")||!1}function l(e){o.b.localStorage.setItem("uoiou",!!e)}function d(){return o.b.localStorage.getItem("uoiou")||!1}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d()||!e&&u()}},IItM:function(e,t,n){"use strict";t.a={ACCOUNT_SWITCHER_FLYOUT:"account_switcher_flyout",ACCOUNT_SWITCHER_MODAL:"account_switcher_modal",ACCOUNT_RECOVERY:"account_recovery",BOARD_INVITE:"board_invite",CLOSEUP:"closeup",CLOSEUP_BANNER:"closeup_banner",FOLLOW_BUTTON:"followbtn",GOOGLE_ONE_TAP:"google_one_tap_modal",LOGIN_PAGE:"login_page",INSPIRED_BANNER:"inspired_banner",MFA_LOGIN_PAGE:"mfa_login_page",HYBRID_CLICKTHROUGH:"hybrid_clickthrough",HYBRID_BANNER:"hybrid_banner",PIN_CLICKTHROUGH:"pin_clickthrough",PIN_GRID:"pin_grid",PIN_IMAGE:"pin_image",RECIPE_CONTENT:"recipe_content",RESPONSE_FLYOUT:"response_flyout",TOPIC_PICKER:"topic_picker",UNAUTH_BANNER:"unauth_banner",UNAUTH_HEADER:"unauth_header",ON_PAGE_SCROLL:"on_page_scroll"}},KOHj:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("+U6O"),i=function(e){if(e.viewerId===e.account.id)return null;var t=e.account.imageMediumUrl&&!e.account.imageMediumUrl.includes("static/images/user/default");return o.a.createElement(a.b,{alignItems:"center",direction:"row",display:"flex",height:"100%",width:"100%"},o.a.createElement(a.b,{paddingX:1},o.a.createElement(a.a,{name:e.account.fullName||e.account.username,src:t?e.account.imageMediumUrl:"",size:e.large?"lg":"md"})),o.a.createElement(a.b,{marginLeft:3,flex:"grow"},o.a.createElement(a.K,{bold:!0,color:"darkGray",size:"md",truncate:!0},e.account.fullName||e.account.username),e.account.email&&o.a.createElement(a.K,{color:"darkGray",size:"md",truncate:!0},e.account.email)))},c=n("rBws"),s=function(e){var t=Object.keys(e.accounts).length;return o.a.createElement(a.b,{position:"relative"},o.a.createElement(a.b,{color:"lightGray",height:20*t*4,position:"absolute",width:1,dangerouslySetInlineStyle:{__style:{bottom:48,left:52}}}),o.a.createElement("ul",null,Object.keys(e.accounts).map(function(t){var n=e.accounts[t];return o.a.createElement("li",{key:t},o.a.createElement(a.P,{onTouch:function(){return e.onClick(n)}},o.a.createElement("div",{className:"ConversationListItemReact",style:{padding:"8px 16px 8px 28px"}},o.a.createElement(i,{account:n}))))})))},u=n("XQD6"),l=n("IItM"),d=n("Qo1m"),f=n("V0Gb"),m=n("3nbW"),p=n("iJ35"),g=n("ePT2"),h=n("lglE"),b=n("cUng"),_=n("k9eC"),y=n("lixz"),E=n("NmcB"),w=n("Y2BC"),v=n("rlRx");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){function t(){var e,n,r,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,f=new Array(s),w=0;w<s;w++)f[w]=arguments[w];return r=this,c=(e=x(t)).call.apply(e,[this].concat(f)),n=!c||"object"!==O(c)&&"function"!=typeof c?N(r):c,C(N(N(n)),"state",{failedAccount:null,showLoginModal:!1,isLoading:!1}),C(N(N(n)),"handleAddAccount",function(){Object(v.h)("add_account_click",null,n.props.container),n.props.container===l.a.ACCOUNT_SWITCHER_MODAL&&n.props.showLogin?n.props.showLogin():n.setState({showLoginModal:!0})}),C(N(N(n)),"trackProfileNavigateClick",function(e){Object(y.e)(14),Object(v.h)("current_profile_".concat(e,"_click"),null,n.props.container)}),C(N(N(n)),"handleSwitch",function(e){n.setState({isLoading:!0}),Object(E.a)(101,{component:13369,element:11196}),Object(v.h)("switch_account_click",{destination_user_id:e.id},n.props.container);var t={get_user:!0,switch_account:e.id};Object(m.a)(t,{container:"account_switcher"},null,!0).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.resource_response&&t.resource_response.data&&t.resource_response.data.success?(Object(v.h)("switch_account_success",{destination_user_id:e.id},n.props.container),Object(u.a)("/".concat(e.username))):(Object(v.h)("switch_account_failure",{destination_user_id:e.id},n.props.container),n.setState({failedAccount:e,isLoading:!1}))},function(t){throw Object(v.h)("switch_account_failure",{destination_user_id:e.id},n.props.container),n.setState({isLoading:!1}),t})}),C(N(N(n)),"handleLinkedAccountSwitch",function(e){if(n.setState({isLoading:!0}),Object(E.a)(101,{component:13369,element:e.partner&&e.partner.isLinkedBusiness?11195:11194}),e.partner&&e.partner.isLinkedBusiness){var t={business_id:e.id,get_user:!0};Object(m.a)(t,{container:"account_switcher"},null,!0).then(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=new _.d(n.props.requestContext,"biz_growth_biz_hub_redirect_from_home").enabledWithNoActivation()||new _.d(n.props.requestContext,"biz_growth_biz_hub_landing_page_creates").enabledWithNoActivation()?"/":"/".concat(e.username);Object(u.a)(t)},function(e){throw n.setState({isLoading:!1}),e})}else g.a.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(function(){Object(v.g)(n.props.viewer.id),Object(u.a)("/".concat(e.username))},function(e){throw n.setState({isLoading:!1}),e})}),C(N(N(n)),"handleCloseModal",function(){return n.setState({showLoginModal:!1})}),C(N(N(n)),"handleReauthAccount",function(){Object(v.h)("switch_failure_prompt.login_click",null,n.props.container),n.setState({failedAccount:null,showLoginModal:!0})}),C(N(N(n)),"handleRemoveUnauthAccount",function(e){Object(v.h)("switch_failure_prompt.account_removed",{removed_user_id:e},n.props.container),Object(v.g)(e),n.setState({failedAccount:null})}),C(N(N(n)),"getBusinessAccounts",function(){var e=n.props,t=e.businessUser,r=e.viewer.partner;return t.data?(r&&r.is_linked_business?t.data.owners:t.data.businesses).reduce(function(e,t){return e[t.id]=Object(b.a)(h.a,!0)(t),t.partner&&t.partner.is_linked_business&&(e[t.id].email=t.partner.biz_ownership_email),e},{}):null}),C(N(N(n)),"renderAccounts",function(e){return Object.keys(e).map(function(t,r){return o.a.createElement("li",{key:r},o.a.createElement(a.P,{onTouch:function(){n.handleSwitch(e[t])}},o.a.createElement("div",{className:"ConversationListItemReact",style:{height:"auto"}},o.a.createElement(i,{large:!0,account:e[t],viewerId:n.props.viewer.id}))),r!==v.a-2&&o.a.createElement(a.j,null))})}),C(N(N(n)),"renderPinnerButtons",function(e){var t=n.props.onNavigateButtonClick;return o.a.createElement(p.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:"/".concat(e,"/")},o.a.createElement(a.c,{text:d.a._("View profile","Visit a user profile from account switcher"),accessibilityLabel:d.a._("Go to current profile","Visit a current user profile from account switcher"),size:"sm",color:"red",onClick:function(){n.trackProfileNavigateClick("button"),t&&t()}}))}),C(N(N(n)),"renderBusinessButtons",function(e){var t=n.props.onNavigateButtonClick;return o.a.createElement(a.b,{display:"flex"},o.a.createElement(a.b,{marginEnd:2},o.a.createElement(p.b,{to:"/business/hub/",onClick:function(){Object(E.a)(101,{element:11236}),t&&t()}},o.a.createElement(a.c,{key:"biz-hub-button",text:d.a._("Business hub","Link to Business hub from account switcher"),accessibilityLabel:d.a._("Go to Business hub","Visit the Business hub for the current business user"),size:"sm",color:"red"}))),o.a.createElement(p.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:"/".concat(e,"/")},o.a.createElement(a.c,{text:d.a._("Profile","Visit a user profile from account switcher"),accessibilityLabel:d.a._("Go to current user profile","Visit a current user profile from account switcher"),size:"sm",onClick:function(){n.trackProfileNavigateClick("button"),t&&t()}})))}),n}var n,w,P;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(w=[{key:"componentDidMount",value:function(){this.props.container===l.a.ACCOUNT_SWITCHER_MODAL&&Object(v.h)("modal.shown")}},{key:"componentWillUnmount",value:function(){this.props.container===l.a.ACCOUNT_SWITCHER_MODAL&&Object(v.h)("modal.dismiss")}},{key:"renderLoadingIndicator",value:function(){return this.state.isLoading?o.a.createElement(f.a,null):null}},{key:"render",value:function(){var e=this,t=this.props.viewer.partner,n=this.state,r=n.failedAccount,u=n.isLoading,l=n.showLoginModal,f=Object(v.e)(),m=this.getBusinessAccounts(),g=Object.keys(f).length,h=f[this.props.viewer.id];delete f[h.id];var b=h.imageLargeUrl&&!h.imageLargeUrl.includes("static/images/user/default");return o.a.createElement(a.b,{flex:"grow"},l&&o.a.createElement(c.a,{container:this.props.container,onClose:this.handleCloseModal,email:r?r.email:""}),r?o.a.createElement(a.b,{paddingX:4,paddingY:4,flex:"grow"},o.a.createElement(a.b,{marginBottom:3},o.a.createElement(a.K,null,d.a._("Oh no! You're no longer logged into","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it"))),o.a.createElement(i,{viewerId:h.id,account:r}),o.a.createElement(a.b,{marginTop:4},o.a.createElement(a.c,{text:d.a._("Log in again","Text on button allowing user to log into an account after failing to switch to that account"),color:"red",onClick:this.handleReauthAccount})),o.a.createElement(a.b,{marginTop:3},o.a.createElement(a.c,{text:d.a._("Remove account","Text on button allowing user to remove an account from their account switcher after failing to switch to it"),onClick:function(){return e.handleRemoveUnauthAccount(r.id)}}))):o.a.createElement(a.b,null,u&&this.renderLoadingIndicator(),o.a.createElement(a.b,null,o.a.createElement(a.b,{alignItems:"center",direction:"row",display:"flex",marginTop:1,padding:4,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:1}}},o.a.createElement(a.b,{marginRight:4},o.a.createElement(p.b,{className:"dangerouslyDisableFocusStyle",focusOnBody:!0,to:"/".concat(h.username,"/")},o.a.createElement(a.P,{onTouch:function(){return e.trackProfileNavigateClick("avatar")}},o.a.createElement(a.a,{name:h.fullName||h.username,size:"lg",src:b?h.imageLargeUrl:""})))),o.a.createElement(a.b,{flex:"grow"},o.a.createElement(a.b,{marginBottom:2},o.a.createElement(a.K,{bold:!0,color:"darkGray",size:"md",truncate:!0},h.fullName||h.username),h.email&&o.a.createElement(a.K,{color:"darkGray",size:"md",truncate:!0},h.email)),t?this.renderBusinessButtons(h.username):this.renderPinnerButtons(h.username))),m?o.a.createElement(s,{accounts:m,onClick:this.handleLinkedAccountSwitch}):null,o.a.createElement(a.j,null),t&&t.is_linked_business?null:o.a.createElement(a.b,null,o.a.createElement("ul",null,this.renderAccounts(f)))),g<v.a&&!(t&&t.is_linked_business)&&o.a.createElement(a.b,{paddingX:4,paddingY:3},o.a.createElement(a.c,{text:d.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account"),onClick:function(){return e.handleAddAccount()}}))))}}])&&S(n.prototype,w),P&&S(n,P),t}();t.a=Object(w.b)({key:"businessUser",name:"UserResource",options:function(e){return{field_set_key:"linked_partner",user_id:e.viewer.id}}})(P)},UY39:function(e,t,n){},f5ca:function(e,t,n){"use strict";n.r(t);n("oiDG");var r=n("D+W/"),o=n("oFGA"),a=n("/YZq"),i=n("ePT2"),c=n("ggpB"),s=n("q579"),u=a.a.getLogger("AuthHandshake"),l={_parseJson:function(e){return e.json()},_throwError:function(e){var t=new Error(e.statusText);throw t.response=e,l._reconstructError(t),t},_checkStatus:function(e){return 200===e.status||401===e.status?e:(l._throwError(e),{})},_crossDomainRequest:function(e,t,n){if("GET"!==n&&"POST"!==n)return Promise.resolve({});var a={credentials:"include",mode:"cors"};return"POST"===n&&(a.method="POST",a.body=t,a.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":o.a.instance.unauth_id},o.a.instance.unauth_id||Object(c.a)("unauth.auth_handshake.cross_domain.no_unauth_id.".concat(n))),fetch(e,a).then(l._checkStatus).then(l._parseJson).then(function(e){return"success"===e.status?Promise.resolve(e):e.code===r.a.LOGIN_MFA_REQUIRED?(e.api_error_code=e.code,Promise.reject(e)):(l._throwError(e),{})}).catch(function(e){throw e})},_reconstructError:function(e){!e.api_error_code&&e.response&&(e.api_error_code=e.response.code,e.message=e.response.message)},_verifyAndGetToken:function(){var e=r.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/verify/";return l._crossDomainRequest(e,"","GET")},exchangeTokenAndSetSession:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate()},verifyLoggedInStatus:function(){l._verifyAndGetToken().then(function(e){if(e&&e.data){var t=e.data;l.exchangeTokenAndSetSession(t).then(function(e){window.location.reload()},function(e){u.error("Failed to set session for current user; "+e.message)})}else u.error("No custom access token in cross domain verify response")},function(e){})},_setUpRegisterParameters:function(e){var t={};if(t.email=e.email||"",t.username=e.username||"",t.password=e.password||"",t.first_name=e.first_name||"",t.last_name=e.last_name||"",t.country=e.country||"",t.locale=o.a.instance.locale,t.referrer=o.a.instance.referrer,e.age){var n=new Date;n.setFullYear(n.getFullYear()-e.age);var r=parseInt(n/1e3,10);t.birthday=r.toString()}if(e.custom_gender&&(t.custom_gender=e.custom_gender),e.gender&&(t.gender=e.gender),e.business_name&&(t.account_type=e.account_type,t.business_name=e.business_name,t.first_name=e.business_name),o.a.instance.invite_code&&(t.invite_code=o.a.instance.invite_code),e.facebook_id){var a=o.a.instance.facebook_token||e.facebook_token||"";a||u.debug("Facebook token is not being set during login call."),t.facebook_id=e.facebook_id,t.facebook_token=a,t.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(t.password=e.password||"",t.one_time_code=e.gplus_code,t.id_token=e.gplus_id_token,t.redirect_uri=e.gplus_redirect_uri);return s.a.getQueryStringFromObject(t)},_setUpLoginParameters:function(e){var t={};if(e.username_or_email&&(t.username_or_email=e.username_or_email.trim(),t.password=e.password,t.referrer=o.a.instance.referrer),e.facebook_id){var n=o.a.instance.facebook_token||e.facebook_token||"";n||u.debug("Facebook token is not being set during login call."),t.facebook_id=e.facebook_id,t.facebook_token=n,t.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(t.gplus_id_token=e.gplus_id_token,t.gplus_access_token=e.gplus_access_token,t.gplus_expires_at=e.gplus_expires_at,t.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(t.mfa_token=e.mfa_token),s.a.getQueryStringFromObject(t)},_getRegisterRequestUrl:function(e){var t="/v3/register/email/handshake/";return e.facebook_id&&(t="/v3/register/facebook/handshake/"),(e.gplus_code||e.gplus_id_token)&&(t="/v3/register/gplus/handshake/"),e.business_name&&(t="/v3/register/partner/handshake/"),r.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+t},_getLoginRequestUrl:function(e){var t="/v3/login/handshake/";return e.facebook_id&&(t="/v3/login/facebook/handshake/"),e.gplus_id_token&&(t="/v3/login/gplus/handshake/"),e.mfa_token&&(t="/v3/login/mfa/handshake/"),r.a.GEN.templateConst.settings.ACCOUNTS_PINTEREST_URL+t},registerUser:function(e){var t=l._getRegisterRequestUrl(e),n=l._setUpRegisterParameters(e);return l._crossDomainRequest(t,n,"POST")},loginUser:function(e){var t=l._getLoginRequestUrl(e),n=l._setUpLoginParameters(e);return l._crossDomainRequest(t,n,"POST")}};t.default=l},kpxY:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u});var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("T/Yn"),c=n("+U6O"),s=Object(i.a)({chunkName:function(){return"app-common-react-components-growth-unauth-signup-FullPageSignup-FullPageSignup"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardSectionPageDesktop~BrowserButtonCreatePinPageDesktop~Bus~76242007"),n.e(4),n.e(5),n.e(9),n.e("app-common-react-components-growth-unauth-signup-FullPageSignup-FullPageSignup")]).then(n.bind(null,"JpAB"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function(){return"JpAB"}});function u(e){return o.a.createElement(s,Object.assign({},e,{fallback:o.a.createElement(c.b,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(c.G,{accessibilityLabel:a.a._("Loading signup form"),show:!0}))}))}}).call(this,"/")},lx8N:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("KOHj"),i=n("rBws"),c=n("IItM"),s=n("Qo1m"),u=n("dsfX"),l=n("kIql"),d=n("+U6O"),f=n("9Y9K"),m=n("rlRx"),p=n("Y2BC");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=b(t).call(this,e),n=!o||"object"!==g(o)&&"function"!=typeof o?y(r):o,E(y(y(n)),"componentDidMount",function(){Object(m.f)(n.props.viewer,n.props.businessUser.data)}),E(y(y(n)),"showLogin",function(){return n.setState({showLoginModal:!0})}),E(y(y(n)),"hideLogin",function(){return n.setState({showLoginModal:!1})});var a=n.props.showAddAccount;return n.state={showLoginModal:!!a},n}var n,l,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(l=[{key:"render",value:function(){var e=this.props,t=e.customTaglineText,n=e.onDismiss,r=e.showAddAccount,l=e.viewer;return this.state.showLoginModal?o.a.createElement(i.a,{container:c.a.ACCOUNT_SWITCHER_MODAL,onClose:r?n:this.hideLogin,customTaglineText:t}):o.a.createElement(d.b,{position:"relative"},o.a.createElement(u.a,{accessibilityModalLabel:s.a._("View, add, and switch logged in users","modal which allows user to add and switch multiple accounts"),size:"sm",heading:s.a._("Switch accounts","Short title on modal that allows a user to switch between different Pinterest accounts"),accessibilityCloseLabel:s.a._("Dismiss selection","Label for dismissing the modal"),onDismiss:n},o.a.createElement(a.a,{container:c.a.ACCOUNT_SWITCHER_MODAL,showLogin:this.showLogin,viewer:l})))}}])&&h(n.prototype,l),f&&h(n,f),t}();t.a=Object(f.compose)(l.a,Object(p.b)({name:"UserResource",key:"businessUser",options:function(e){return{username:e.viewer.username,field_set_key:"linked_partner"}}}))(w)},rBws:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=n("kpxY"),c=n("Qo1m"),s=n("plGG"),u=(n("hvnN"),n("ggpB")),l=n("+U6O"),d={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}},f=function(e){var t=function(e){Object(u.a)("unauth.account_switcher_modal.".concat(e))},n=e.renderContent;return o.a.createElement("div",{style:d.mask},o.a.createElement(s.a,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),o.a.createElement("div",{className:"AccountSwitcherModal",onClick:function(){t("empty_space_click"),(0,e.onCloseClick)()},role:"dialog",style:d.scroller},o.a.createElement("div",{onClick:function(e){e.stopPropagation()},role:"dialog",style:d.modalContainer},n(),o.a.createElement("button",{"aria-label":c.a._("close","accessible label for close button"),onClick:function(){t("close_button_click"),(0,e.onCloseClick)()},style:d.closeButton},o.a.createElement(l.n,{accessibilityLabel:c.a._("close","accessible label for close button"),color:"white",icon:"cancel",inline:!0})))))},m=n("73jm");t.a=Object(a.connect)()(function(e){return r.createElement(f,{onCloseClick:function(){e.onClose&&e.onClose()},renderContent:function(){return r.createElement(l.b,{display:"flex",justifyContent:"center",flex:"grow"},r.createElement(i.a,{container:e.container,email:e.email,isAccountSwitch:!0,isModal:!0,type:m.a.login,signupSource:m.a.login,customLoginTagline:e.customTaglineText||c.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account")}))}})})},rlRx:function(e,t,n){"use strict";var r=n("D+W/"),o=n("IItM"),a=function(e){return"undefined"!=typeof window?window.localStorage.getItem(e):null},i=function(e,t){"undefined"!=typeof window&&window.localStorage.setItem(e,t)},c={getAccounts:function(){return a(r.a.MULTIPLE_ACCOUNTS)},getAccountsJSON:function(){return c.getAccounts()?JSON.parse(c.getAccounts()):{}},getGroupId:function(){var e=a(r.a.MULTIPLE_ACCOUNTS_GROUP);return e?JSON.parse(e):null},setAccounts:function(e){return i(r.a.MULTIPLE_ACCOUNTS,e)},setGroupId:function(e){return i(r.a.MULTIPLE_ACCOUNTS_GROUP,JSON.stringify(e))}},s=c,u=n("QzGC"),l=n.n(u),d=n("ggpB");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return m}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"h",function(){return b}),n.d(t,"b",function(){return _}),n.d(t,"g",function(){return y}),n.d(t,"f",function(){return E});var m=4,p=function(){return s.getAccountsJSON()},g=function(){return Object.keys(p()).length},h=function(){var e;return f(e={},r.a.MULTIPLE_ACCOUNTS,s.getAccountsJSON()),f(e,r.a.MULTIPLE_ACCOUNTS_GROUP,s.getGroupId()),e},b=function(e,t,n){var r=s.getGroupId();r||(r=function(){var e=l()();return Object(d.c)("".concat("web_account_switcher",".utils.group_created"),{group_id:e,group_count:g()}),e}(),s.setGroupId(r));var a={group_id:r,group_count:g()},i="";n&&(i=n===o.a.ACCOUNT_SWITCHER_MODAL?"modal.":"flyout."),Object(d.c)("".concat("web_account_switcher",".").concat(i).concat(e),Object.assign({},t,a))},_=function(e,t,n){var r=s.getAccountsJSON();r[e.id]=function(e){var t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||b("utils.incomplete_user_values"),t}(e),s.setAccounts(JSON.stringify(r)),t&&n&&b("new_account_add_success",{method:t,user_added:e.id},n)},y=function(e){var t=s.getAccountsJSON();delete t[e],s.setAccounts(JSON.stringify(t))},E=function(e,t){if(!s.getAccounts()||e&&!(e.id in p())){if(e.partner&&e.partner.is_linked_business&&t)return void _(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},e,{email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""}));_(e)}}},"xd+Y":function(e,t,n){},xjFC:function(e,t,n){},zEno:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=(n("UY39"),n("VSY/")),c=n("KrKF"),s=n("pjsG"),u=n("Qo1m"),l=n("7Tih"),d=(n("xjFC"),n("+U6O")),f=3,m=10,p=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"];var g=o.a.memo(function(){var e=function(){for(var e=[],t=0,n=0;n<m;n+=1){e.push([]);for(var r=0;r<f;r+=1){var a=p[t];e[n].push(o.a.createElement("div",{key:n+r,className:"NuxEducationLoaderGrid__column".concat(r)},o.a.createElement(d.b,{color:a,height:155,width:105,dangerouslySetInlineStyle:{__style:{borderRadius:8}}}))),(t+=1)>=p.length&&(t=0)}}return e}();return o.a.createElement("div",{className:"NuxEducationLoaderGrid"},e)});var h=o.a.memo(function(e){var t=e.selectedInterest,n={label:u.a._("Food and Drink","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},r={},a=t||n,i=a.label,c=a.images["400x"],s=c.url,l=c.height,f=c.width;r.domain=i.trim().toLowerCase().replace(/\s/g,"").concat(".com"),r.imageHeight=l,r.imageWidth=f,r.imageUrl=s;var m=r.domain,p=r.imageUrl,g=r.imageHeight,h=r.imageWidth;return o.a.createElement("div",{className:"NuxEducationLoaderPin","data-test-id":"nux-loader-pin"},o.a.createElement(d.b,{position:"relative"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinImage"},o.a.createElement(d.u,{shape:"rounded",height:310,width:210},o.a.createElement(d.p,{alt:u.a._("Pin image","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:g,naturalWidth:h,src:p})),o.a.createElement(d.b,{position:"absolute",top:!0,right:!0,marginTop:1,marginRight:1},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinSaveButton"},o.a.createElement(d.c,{accessibilityLabel:u.a._("Save button"),color:"red",text:u.a._("Save","save button for nux loading step"),size:"md"}))),o.a.createElement(d.b,{position:"absolute",bottom:!0,left:!0,margin:2,maxWidth:"90%"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinLinkButton"},o.a.createElement(d.b,{padding:2,color:"lightGray",display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},o.a.createElement(d.b,null,o.a.createElement(d.n,{icon:"arrow-up-right",accessibilityLabel:u.a._("link","Pin website url link for nux loading step"),size:14,color:"darkGray"})),o.a.createElement(d.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},o.a.createElement(d.K,{bold:!0,size:"sm",truncate:!0},m))))))))}),b={backgroundColor:"#efefef"},_={transition:"width .4s ease-out"};function y(e,t){return Object.assign({},b,{height:e+"px",borderRadius:t})}function E(e,t,n){return Object.assign({},_,{backgroundColor:e,width:t+"%",borderRadius:n})}var w=function(e){var t=e.color,n=e.height,r=e.progress,a=e.outerBorderRadius,i=e.innerBorderRadius;return o.a.createElement(d.b,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:y(n,a)}},o.a.createElement(d.b,{height:"inherit",dangerouslySetInlineStyle:{__style:E(t,r,i)}}))};w.defaultProps={color:"#333",height:8,progress:0,outerBorderRadius:"10px",innerBorderRadius:"inherit"};var v=w,O=n("ePT2"),S=n("kIql"),x=n("9Y9K"),k=n("NmcB"),N=n("8Hll"),C=n("zlIe");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=A(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==P(o)&&"function"!=typeof o?R(r):o,L(R(R(n)),"state",{progressPercent:0}),L(R(R(n)),"incrementStepAndCompleteLoading",function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux;(t(),r)||O.a.create("UserStateResource",{state:C.t,value:C.b}).callCreate()}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatchSetNuxStepProgress,r=t.isRenux;r||O.a.create("UserStateResource",{state:C.t,value:C.y}).callCreate();n("loader"),Object(k.a)(13,{view:r?213:24,viewParameter:261}),this.intervalId=setInterval(function(){return e.setState(function(e){return{progressPercent:Math.min(e.progressPercent+100/17,100)}})},300)}},{key:"componentDidUpdate",value:function(e,t){this.state.progressPercent>=100&&(clearInterval(this.intervalId),setTimeout(this.incrementStepAndCompleteLoading,1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props,t=e.isRenux,n=e.selectedInterests,r=e.showProgressBar,a=this.state.progressPercent;return o.a.createElement("div",{className:"NuxEducationLoader","data-test-id":"nux-complete-loader"},o.a.createElement(d.b,{display:"flex",direction:"row",justifyContent:"center",alignItems:"center",overflow:"hidden"},o.a.createElement(d.b,{position:"relative",marginLeft:10,marginRight:4},o.a.createElement("div",{className:"NuxEducationLoader__loadingCopyContainer"},o.a.createElement(d.m,{size:"sm"},u.a._("All set!","Title for nux loading step")),o.a.createElement(d.b,{marginTop:4},t?u.a._("We're refreshing your home feed with lots of new Pins...","Details for ReNUX loading step"):u.a._("We're building your home feed with lots of Pins...","Details for nux loading step"))),o.a.createElement("div",{className:"NuxEducationLoader__pinEducationCopyContainer"},o.a.createElement(d.m,{size:"sm"},u.a._("Pins are ideas.","Pin education on NUX loading step")),o.a.createElement(d.b,{marginTop:5},u.a._("They are links saved from around the web","Pin education on NUX loading step")))),o.a.createElement(d.b,{marginRight:5,marginLeft:5,width:344},o.a.createElement(g,null)),o.a.createElement(d.b,null,o.a.createElement(h,{selectedInterest:n[0]}))),r?null:o.a.createElement(d.b,{position:"absolute",top:!0,width:"100%"},o.a.createElement(v,{height:8,color:"#e60023",progress:a})))}}])&&I(n.prototype,a),i&&I(n,i),t}(),G=Object(x.compose)(Object(a.connect)(null,function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(N.a)(t))}}}),S.a)(j),U=n("vEea"),D=(n("xd+Y"),n("UmN8")),B=n("k9eC"),M=n("2YES"),F=n("rPo8");function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){var t,n=e.isChecked,a=e.label,i=e.selectGender,c=e.value,s=e.isHorizontal;switch(a){case C.h:t="end";break;case C.c:t="start";break;default:t="center"}var u=o.a.createElement(d.b,{alignItems:"center",display:"flex","data-test-id":"nux-gender-".concat(a,"-label"),height:40,justifyContent:t,width:"calc(800px / 3)"},o.a.createElement(d.q,{htmlFor:a},o.a.createElement(d.b,{alignItems:"center",display:"flex"},o.a.createElement(d.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(d.b,{marginStart:2,width:a===C.c&&225},c))));return s?u:o.a.createElement(r.Fragment,null,o.a.createElement(d.b,{"data-test-id":"nux-gender-".concat(a,"-label")},o.a.createElement(d.q,{htmlFor:a},o.a.createElement("div",{className:"NuxGenderSelector"},o.a.createElement(d.b,{alignItems:"center",display:"flex",flex:"none",paddingX:8,paddingY:6},o.a.createElement(d.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(d.b,{display:"flex",flex:"grow",marginStart:10},c))))),o.a.createElement(d.j,null))},X=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),l=0;l<c;l++)s[l]=arguments[l];return a=this,i=(e=W(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==H(i)&&"function"!=typeof i?K(a):i,q(K(K(n)),"state",{customGender:"",gender:"",showCustomGenderDoneButton:!1,showCustomGenderTextfield:!1}),q(K(K(n)),"setCustomGender",function(e){e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):n.setState({showCustomGenderDoneButton:!1})}),q(K(K(n)),"updateCustomGender",function(e){var t=e.value;return n.setState({customGender:t,showCustomGenderDoneButton:t.length>0})}),q(K(K(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.customGender,i=t.gender,c=t.showCustomGenderDoneButton,s=t.showCustomGenderTextfield;return o.a.createElement(r.Fragment,null,o.a.createElement(d.m,{overflow:"normal",size:"sm"},e),o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%"},o.a.createElement(d.b,{alignItems:"around",display:"flex",height:"100%",marginTop:10},o.a.createElement(V,{isChecked:!s&&i.toLowerCase()===C.h,label:C.h,selectGender:function(){return n.onSelectGender(C.h)},value:n.renderGenderLabel(u.a._("Female"),!0),isHorizontal:!0}),o.a.createElement(V,{isChecked:!s&&i.toLowerCase()===C.l,label:C.l,selectGender:function(){return n.onSelectGender(C.l)},value:n.renderGenderLabel(u.a._("Male"),!0),isHorizontal:!0}),o.a.createElement(V,{isChecked:s,label:C.c,selectGender:function(){return n.onSelectGender(C.c)},value:s?o.a.createElement(d.b,{"data-test-id":"nux-gender-custom-input"},o.a.createElement(d.M,{id:"customGender",onChange:n.updateCustomGender,placeholder:u.a._("Enter custom gender","placeholder text for custom gender text field"),type:"text",value:a})):n.renderGenderLabel(u.a._("Non-binary","Non-binary label for custom gender"),!0),isHorizontal:!0})),c&&o.a.createElement(d.b,{"data-test-id":"nux-gender-custom-done-btn"},o.a.createElement(d.c,{color:"red",disabled:!i&&!a,inline:!0,onClick:function(){return n.updateGenderCompleteStep()},text:u.a._("Done","button text for entering a custom gender type")}))))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxGenderProgress;t("gender"),n||r(C.y),Object(k.a)(13,{view:n?213:24,viewParameter:3120})}},{key:"onSelectGender",value:function(e){var t=this.props.requestContext,n=this.state.showCustomGenderTextfield;e===C.c&&new B.d(t,"web_hide_custom_gender_field").enabled()?this.setState({gender:C.D,showCustomGenderTextfield:!1},this.updateGenderCompleteStep):e===C.c||n?this.setState({gender:"",customGender:"",showCustomGenderTextfield:!n,showCustomGenderDoneButton:!1}):this.setState({gender:e},this.updateGenderCompleteStep)}},{key:"setUserStateCompletedGenderStep",value:function(){var e=this.props,t=e.isRenux,n=e.setNuxGenderProgress;t||n(C.b)}},{key:"updateGenderCompleteStep",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.isRenux,o=t.updateGenderInfo,a=this.state,i=a.customGender,c=a.gender;o(a.showCustomGenderTextfield?{custom_gender:i.slice(0,30)}:{gender:c}).then(function(){e.setUserStateCompletedGenderStep(),Object(k.a)(101,{component:17,element:241,view:r?213:24,viewParameter:3120}),n()})}},{key:"submitHandler",value:function(e){e.preventDefault()}},{key:"renderGenderLabel",value:function(e,t){return t?o.a.createElement(d.K,{size:"xl"},e):o.a.createElement(d.m,{size:"sm"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRenux,a=t.personalizationCopy,i=a.headerText,c=a.subHeaderText,s=this.state,l=s.showCustomGenderDoneButton,f=s.showCustomGenderTextfield,m=f?o.a.createElement(r.Fragment,null,o.a.createElement(d.b,{marginEnd:5},o.a.createElement("input",{className:"NuxGenderSelector","data-test-id":"nux-gender-custom-input",id:"customGender",onChange:this.setCustomGender,placeholder:u.a._("Enter custom gender","placeholder text for custom gender text field"),style:l?C.k:C.j,type:"text"})),l&&o.a.createElement("div",{"data-test-id":"nux-gender-custom-done-btn"},o.a.createElement(d.c,{color:"red",inline:!0,onClick:function(){return e.updateGenderCompleteStep()},text:u.a._("Done","button text for entering a custom gender type")}))):this.renderGenderLabel(u.a._("Non-binary","Non-binary label for custom gender"));return o.a.createElement(D.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(d.b,{display:"flex",direction:"column",height:"100%",justifyContent:"around",paddingY:8,width:"100%"},o.a.createElement(d.b,{direction:"column",display:"flex",paddingX:8,dangerouslySetInlineStyle:{__style:{textAlign:"center"}}},o.a.createElement(d.m,{size:n?"xs":"sm"},i),n&&o.a.createElement(d.K,{align:"center",size:"xl"},c)),o.a.createElement(d.b,null,o.a.createElement(d.j,null),o.a.createElement(V,{isChecked:!f&&e.state.gender.toLowerCase()===C.h,label:C.h,selectGender:function(){return e.onSelectGender(C.h)},value:e.renderGenderLabel(u.a._("Female"))}),o.a.createElement(V,{isChecked:!f&&e.state.gender.toLowerCase()===C.l,label:C.l,selectGender:function(){return e.onSelectGender(C.l)},value:e.renderGenderLabel(u.a._("Male"))}),o.a.createElement(V,{isChecked:f,label:C.c,selectGender:function(){return e.onSelectGender(C.c)},value:m})))})}}])&&z(n.prototype,a),i&&z(n,i),t}(),J=Object(x.compose)(Object(a.connect)(null,function(e,t){return{dispatchSetNuxStepProgress:function(t){return e(Object(N.a)(t))},setNuxGenderProgress:function(t){return e(Object(F.a)(C.s,t))},updateGenderInfo:function(t){return e(Object(F.f)({updateUserData:t}))}}}),M.e)(X),Q=n("JnXh"),Z=n("TJ9f"),$=n("0oyM"),ee=n("lx8N"),te=function(e,t){return function(e,t,n){return{x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}}(t/2,e/2,2*Math.random()*Math.PI)};var ne,re,oe={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#4A90E2",purple:"#B469EB"},ae="DelightfulBubbles__",ie=["".concat(ae,"fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n"),"".concat(ae,"growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n"),"".concat(ae,"swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n")].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(ne=Object.keys(oe).map(function(e){var t,n,r,o,a=(t=Object.keys(oe),n=e,r=t.length,o=t.indexOf(n)+1>=r?0:t.indexOf(n)+1,t[o]);return"".concat(ae,"colorChange_").concat(e," {\n      0% {\n        background-color: ").concat(oe[e],";\n      }\n      50% {\n        background-color: ").concat(oe[a],";\n      }\n    }\n    ")}))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(ne)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),ce=(re=ie,["@-webkit-keyframes","@keyframes"].map(function(e){return re.map(function(t){return e+" "+t}).join("\n")}).join("\n"));function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){var t=e.delay,n=e.diameter,r=e.height,a=e.initialColor,i=e.width,c=e.xOffset,s=e.yOffset,u=function(e,t,n,r,o,a,i,c){return{bubblePositionStyles:{position:"absolute",marginLeft:"".concat(a/2-o,"px"),marginTop:"".concat(n/2-o,"px"),left:"".concat(i,"px"),top:"".concat(c,"px")},bubbleSwirlStyles:{animation:"".concat(ae,"swirl 6s ease-in-out ").concat(e,"s infinite forwards"),WebkitAnimation:"".concat(ae,"swirl 6s ease-in-out ").concat(e,"s infinite forwards")},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:"".concat(ae,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate"),WebkitAnimation:"".concat(ae,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate")},bubbleShapeStyles:{height:"".concat(t,"px"),width:"".concat(t,"px"),borderRadius:"50%",backgroundColor:oe[r],opacity:0,animation:"".concat(ae,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(ae,"fadeIn 3s linear ").concat(e,"s 1 forwards"),WebkitAnimation:"".concat(ae,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(ae,"fadeIn 3s linear ").concat(e,"s 1 forwards")}}}(t,n,r,a,Math.floor(n/2),i,c,s);return o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:u.bubblePositionStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:u.bubbleSwirlStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:u.bubbleGrowShrinkStyles}},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:u.bubbleShapeStyles}}))))},ge=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,n=!(o=(e=le(t)).call.apply(e,[this].concat(i)))||"object"!==se(o)&&"function"!=typeof o?fe(r):o,me(fe(fe(n)),"state",{isInitialized:!1}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.requestAnimationFrameId=window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"shouldComponentUpdate",value:function(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}},{key:"getSize",value:function(){return void 0!==this.props.width&&void 0!==this.props.height?{height:this.props.height,width:this.props.width}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{}}},{key:"createBubbles",value:function(e,t){for(var n,r,a=this.props,i=a.bubbleSize,c=a.delayFactor,s=a.delayOffset,u=a.numBubbles,l=a.xRadiusAdjustment,d=e+2*a.yRadiusAdjustment,f=t+2*l,m=[],p=Object.keys(oe),g=0;g<u;g+=1){var h=i+(n=-4,r=4,Math.floor(Math.random()*(r-n+1))+n),b=p[g%p.length],_=te(d,f),y=_.x,E=_.y;m.push(o.a.createElement(pe,{delay:g*c+s,diameter:h,initialColor:b,xOffset:y,yOffset:E,height:e,width:t,key:g}))}return m}},{key:"render",value:function(){var e=this,t=this.getSize();return o.a.createElement(d.b,Object.assign({},t,{position:"relative"}),o.a.createElement("style",{dangerouslySetInnerHTML:{__html:ce}}),o.a.createElement("div",{ref:function(t){return e.containerElement=t}},this.state.isInitialized&&this.createBubbles(t.height||0,t.width||0),o.a.createElement(d.b,{position:"relative"},this.props.children)))}}])&&ue(n.prototype,a),i&&ue(n,i),t}();me(ge,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var he=ge,be=n("ggpB"),_e=n("hCBh");function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=250,ke=function(e){function t(){var e,n,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];return a=this,c=(e=we(t)).call.apply(e,[this].concat(l)),n=!c||"object"!==ye(c)&&"function"!=typeof c?Oe(a):c,Se(Oe(Oe(n)),"state",{name:n.props.firstName,showAccountSwitchModal:!1,showNameInput:!1,showNoNameError:!1,showNameLengthError:!1}),Se(Oe(Oe(n)),"onNameChange",function(e){var t=e.value;n.setState({name:t||"",showNoNameError:!t||i.h(t),showNameLengthError:!!t&&t.length>30})}),Se(Oe(Oe(n)),"toggleNameInput",function(){n.setState(function(e){var t=e.showNameLengthError,n=e.showNoNameError,r=e.showNameInput;return{showNameInput:t||n||!r}}),Object(k.a)(101,{element:136,view:24,viewParameter:259})}),Se(Oe(Oe(n)),"continueAndSave",function(){var e=n.props,t=e.incrementNuxStep,r=e.setNuxNameProgress,o=e.updateNameInfo,a=n.state.name;o(Object(_e.a)(a)).then(function(){r(),Object(k.a)(101,{element:96,view:24,viewParameter:259}),t()})}),Se(Oe(Oe(n)),"getError",function(){var e=n.state,t=e.showNameLengthError,r="";return e.showNoNameError?r=u.a._("And your name is...?","Error flyout when user doesn't input name"):t&&(r=u.a._("Hmm, that's a few characters too long. Try a nickname instead?","Name exceeds 30 character maximum error")),r}),Se(Oe(Oe(n)),"handleHideAccountSwitcher",function(){return n.setState({showAccountSwitchModal:!1})}),Se(Oe(Oe(n)),"handleNotYouClick",function(e){e.event.preventDefault(),Object(be.a)("web.nux.click_login"),n.setState({showAccountSwitchModal:!0})}),Se(Oe(Oe(n)),"renderOnHomefeed",function(){var e=n.props.personalizationCopy,t=e.headerText,a=e.subHeaderText,c=n.state,s=c.name,l=c.showNameInput,f=i.c(u.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:t,name:s}),m=t,p=n.getError(),g=o.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(d.o,{accessibilityLabel:u.a._("Edit name","Icon to edit name inferred from email"),bgColor:"transparent",icon:l?"check":"edit",onClick:n.toggleNameInput,size:"sm"}));return o.a.createElement(r.Fragment,null,o.a.createElement(d.b,{alignItems:"center",display:"flex",maxWidth:"100%"},o.a.createElement(d.m,{size:"sm",truncate:!0},l?m:f),l&&o.a.createElement(d.b,{"data-test-id":"nux-edit-name-input",marginLeft:2,width:xe},o.a.createElement(d.M,{id:"name",errorMessage:p,onChange:n.onNameChange,placeholder:u.a._("Name","Inferred name textfield placeholder"),type:"text",value:s})),g),o.a.createElement(d.K,{align:"center",size:"xl"},a),o.a.createElement(d.b,{"data-test-id":"nux_name_done_btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(d.c,{accessibilityLabel:u.a._("Next","go to next nux step"),color:"red",disabled:!!p,onClick:n.continueAndSave,text:u.a._("Next","next nux step button"),type:"button"})))}),n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchSetNuxStepProgress("welcome"),Object(k.a)(13,{view:24,viewParameter:259})}},{key:"render",value:function(){var e=this,t=this.props,n=t.personalizationCopy,r=n.headerText,a=n.subHeaderText,c=t.userEmail,s=this.state,l=s.name,f=s.showAccountSwitchModal,m=s.showNameInput,p=i.c(u.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:r,name:l}),g=r,h=u.a._("Already have a Pinterest account?","subtitle to ask users who create a new account if they meant to log in to an existing account"),b=this.getError(),_=o.a.createElement(d.b,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(d.o,{accessibilityLabel:"editName",bgColor:"transparent",icon:m?"check":"edit",onClick:this.toggleNameInput,size:"sm"}));return o.a.createElement(D.a,{name:"web_homefeed_nux",activate:!1},function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(D.a,{name:"web_nux_prevent_duplicates",activate:!1},function(t){var n=t.group;return o.a.createElement(o.a.Fragment,null,f&&o.a.createElement(ee.a,{onDismiss:e.handleHideAccountSwitcher,showAddAccount:!0,customTaglineText:u.a._("Log in","Title on modal for users to log in to an existing account after they accidentally created a new account")}),o.a.createElement(d.b,{direction:"column",display:"flex",height:"100%",padding:10,minWidth:"100%"},o.a.createElement(d.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"around",marginBottom:10,width:"100%"},o.a.createElement(he,{delayOffset:-5,xRadiusAdjustment:40},o.a.createElement(d.b,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:100,justifyContent:"end",overflow:"hidden",shape:"circle",width:100},o.a.createElement(d.n,{accessibilityLabel:u.a._("Loading state for any sign up registration"),color:"gray",icon:"person",size:70}))),(n||"").startsWith("enabled_email")&&o.a.createElement(d.b,{alignItems:"center",marginTop:5},o.a.createElement(d.K,{align:"center",size:"lg",truncate:!0},c)),o.a.createElement(d.b,{alignItems:"end",display:"flex",width:"100%"},o.a.createElement(d.b,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",marginStart:9,maxHeight:170,overflow:"hidden",width:"100%"},o.a.createElement(d.q,{htmlFor:"name"},o.a.createElement(d.m,{size:"sm"},m?g:p)),m&&o.a.createElement(d.b,{alignItems:"center","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",padding:1},o.a.createElement(d.b,{width:xe},o.a.createElement(d.M,{id:"name",errorMessage:b,onChange:e.onNameChange,placeholder:u.a._("name"),type:"text",value:l})),_)),!m&&_),o.a.createElement(d.K,{align:"center",size:"xl"},a)),o.a.createElement(d.b,{"data-test-id":"nux_name_done_btn"},o.a.createElement(d.c,{accessibilityLabel:u.a._("Next","go to next nux step"),color:"red",disabled:!!b,onClick:e.continueAndSave,text:u.a._("Next","next nux step button"),type:"button"})),(n||"").startsWith("enabled")&&o.a.createElement(d.b,{marginTop:4},o.a.createElement(d.P,{onTouch:e.handleNotYouClick,fullWidth:!1},o.a.createElement(d.K,{size:"lg",align:"center"},h),o.a.createElement(d.K,{size:"lg",align:"center",bold:!0},o.a.createElement(d.t,{href:"#"},u.a._("Log in instead","Link allowing users who just created a new account the option to log in instead into an existing account")))))))})})}}])&&Ee(n.prototype,a),c&&Ee(n,c),t}(),Ne=Object(a.connect)(function(e){var t=e.viewer;return{firstName:t.firstName?t.firstName:"",userEmail:t.isAuth?t.email:""}},function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(N.a)(t))},updateNameInfo:function(t){return e(Object(F.f)({updateUserData:t}))},setNuxNameProgress:function(){return e(Object(F.a)(C.w,C.b))}}})(ke),Ce=n("LaPN"),Pe=n("iVj4"),Ie=n("JsRk");function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){De(e,t,n[t])})}return e}function Re(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=je(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ae(o)&&"function"!=typeof o?Ue(r):o,De(Ue(Ue(n)),"state",{followedInterests:[],isLoading:!1,nuxStep:n.getNextStepIndex(-1,n.props.steps),selectedInterests:[]}),De(Ue(Ue(n)),"onComplete",function(){var e=n.props,t=e.handleComplete,r=e.isLandingPage,o=e.isRenux,a=e.dispatchUpdateFirstHomeFeedRequestAfterNuxFlag;Object(k.a)(4105,{view:o?213:24,viewParameter:171}),o||a(!0),t(),r&&n.handleNavigate("/")}),De(Ue(Ue(n)),"mounted",!1),De(Ue(Ue(n)),"handleNavigate",function(e){var t=n.props.router;if(t)t.push(e);else{var r=new l.a;s.default.navigate(e,r)}}),De(Ue(Ue(n)),"handleSelectedInterestsChange",function(e,t){n.setState(function(r,o){var a=n.getUpdatedSelectedInterests(r.selectedInterests,e,t),i=n.getUpdatedFollowInterests(r.followedInterests,e,t),c=o.dispatchSetNuxSelectedInterestImages;return o.isRenux||c(a.reduce(function(e,t){if(t&&t.images&&t.images["400x"]){var n={height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e},[])),{selectedInterests:a,followedInterests:i}})}),De(Ue(Ue(n)),"nuxSteps",{NuxGenderStep:J,NuxLocaleCountryStep:Q.a,NuxPicker:$.a,NuxExtensionUpsell:U.a,NuxEducationLoader:G,NuxWelcomeNameStep:Ne}),n}var n,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props.isRenux;this.mounted=!0,Object(k.a)(4104,{view:e?213:24,viewParameter:170})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getUpdatedFollowInterests",value:function(e,t,n){var r=Re(e);return t.forEach(function(e){var t=Te({},e,{is_followed:n}),o=!1;r=r.map(function(e){return e.id===t.id?(o=!0,t):e}),o||r.push(t)}),r}},{key:"getUpdatedSelectedInterests",value:function(e,t,n){var r=Re(e);return t.forEach(function(t){var o=Object(c.b)(r,t);n&&!o?r.push(Te({},t,{is_followed:n})):!n&&o&&(r=e.filter(function(e){return e.id!==t.id}))}),r}},{key:"getPersonalizationCopy",value:function(e){var t,n,r=this.props,o=r.isRenux,a=r.isSimpleRenux,c=r.requestContext,s=r.steps,l=e.moduleName,d=s.map(function(e){return e.moduleName}).indexOf(l)===s.length-2;switch(l){case"NuxWelcomeNameStep":return t=u.a._("Welcome to Pinterest","greeting on welcome name step"),new B.b(c,"web_nux_prevent_duplicates").check("enabled_copy")&&(t=u.a._("Welcome to your new Pinterest account","greeting on welcome name step for new accounts")),{headerText:t,subHeaderText:u.a._("Your answers to the next few questions will help us find the right ideas for you","header on nux welcome and name editing step")};case"NuxGenderStep":return t=u.a._("How do you identify?","Header in NUX gender step."),n="",o&&(t=u.a._("Its time to refresh your feed!","Title on the modal asking user's gender"),n=u.a._("How would you describe yourself?","Subtitle on the modal asking user's gender")),{headerText:t,subHeaderText:n};case"NuxLocaleCountryStep":return{headerText:u.a._("Pick your language and country","Header in NUX locale/country step")};case"NuxPicker":return o&&!a?(t=u.a._("What are you into these days?","Header in ReNUX topic picker step."),n=u.a._("Pick the topics you want to see in your home feed","Subheader in ReNUX topic picker step.")):(t=d?u.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step."):u.a._("Tell us what you're interested in","Header in NUX topic picker step."),n=i.c(u.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(C.f)})),{headerText:t,subHeaderText:n};case"NuxExtensionUpsell":return{headerText:t=d?u.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."):u.a._("Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:u.a._("Quickly save any idea you find around the web","Subheader in NUX browser extension upsell step")};default:return{}}}},{key:"nuxStepToRender",value:function(e,t){var n=this,r=this.state,a=r.followedInterests,i=r.selectedInterests,c=this.props,s=c.isRenux,u=c.isSimpleRenux,l=e.moduleName,d=this.nuxSteps[l],f=this.hasNuxStep("NuxGenderStep");return o.a.createElement(M.a,null,function(r){return o.a.createElement(d,Object.assign({},e.options,{experiments:r.experiments,followedInterests:a,hasGenderStep:f,incrementNuxStep:n.incrementNuxStep(n.state.nuxStep),isSimpleRenux:u,isRenux:s,numberToFollow:s&&!u?C.x:C.f,onSelectedInterestsChange:n.handleSelectedInterestsChange,personalizationCopy:n.getPersonalizationCopy(e),requestContext:r,selectedInterests:i,showTableOfContents:t,toggleLoadingIndicator:function(e){return n.setState({isLoading:e})}}))})}},{key:"getNextStepIndex",value:function(e,t){var n=e+1;if(!this.props.isRenux)for(;n<t.length&&t[n].isCompleted;)n+=1;return n}},{key:"incrementNuxStep",value:function(e){var t=this,n=this.props,r=n.steps,o=n.dispatchSubmitOrientationContextFollow,a=this.getNextStepIndex(e,r);return a>=r.length?this.onComplete:function(){var n=function(n){if(e!==n)return t.setState({nuxStep:n})};r.length>a&&r[a].options&&r[a].options.onStartApi?r[a].options.onStartApi===C.i?o().finally(n):n(a):n(a)}}},{key:"hasNuxStep",value:function(e){return this.props.steps.some(function(t){return t.moduleName===e})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.nuxStep,r=this.props,a=r.handleDismiss,i=r.isLandingPage,c=r.isPartner,s=r.isRenux,u=r.steps,l=function(e){return["NuxEducationLoader"].includes(e)},d=u.filter(function(e){return!l(e.moduleName)}),f=!l(u[n].moduleName)&&!i&&!s,m=f&&d.length>1&&!c,p=f&&!m,g=!(!s||l(u[n].moduleName));return o.a.createElement(Z.a,{displayHide:g,isLoading:t,nuxStep:u[n],onHide:a,showCounter:p,showTableContents:m,steps:d},this.nuxStepToRender(u[n],m))}}])&&Le(n.prototype,a),d&&Le(n,d),t}();De(Be,"defaultProps",{isRenux:!1,isSimpleRenux:!1});t.a=Object(x.compose)(M.e,Object(a.connect)(function(e){var t=e.viewer;return{isPartner:t.isAuth&&t.isPartner}},function(e){return{dispatchSetNuxSelectedInterestImages:function(t){return e(function(e){return{type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:e}}}(t))},dispatchSubmitOrientationContextFollow:function(){return e(Object(F.c)())},dispatchUpdateFirstHomeFeedRequestAfterNuxFlag:function(t){return e(Object(F.d)(t))}}}),S.a,Pe.a,Ce.a,Ie.withRouter)(Be)}}]);