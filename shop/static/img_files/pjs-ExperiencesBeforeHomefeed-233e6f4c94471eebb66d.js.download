(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ExperiencesBeforeHomefeed"],{"3XYW":function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),o=n("Ivf5"),i=n("Qo1m"),l=n("kAB2"),s=n("+U6O");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(a=d(t).call(this,e))||"object"!==c(a)&&"function"!=typeof a?m(r):a,f(m(m(n)),"explosionAnimationDelayMS",800),f(m(m(n)),"completeExperienceDelayMS",3400),f(m(m(n)),"fadeOutAnimationDelayMS",2600),n.state={fadeCelebrationIn:!1},n}var n,o,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this,t=this.props.handleComplete;window.requestAnimationFrame(function(){return e.setState({fadeCelebrationIn:!0})}),setTimeout(function(){return e.setState({fadeCelebrationIn:!1})},this.fadeOutAnimationDelayMS),setTimeout(t,this.completeExperienceDelayMS)}},{key:"render",value:function(){var e,t=this.state.fadeCelebrationIn;return a.a.createElement(s.b,{display:"flex",color:"white",alignItems:"center",justifyContent:"center"},a.a.createElement(s.u,{shape:"rounded",width:"100%",height:"100%"},a.a.createElement(l.a,{delay:this.explosionAnimationDelayMS,startAnimation:t},a.a.createElement(s.b,{width:"100%",dangerouslySetInlineStyle:(e=t,{__style:{transition:"opacity ".concat(e?"0.4":"0.8","s ease"),opacity:e?1:0,padding:"70px"}})},a.a.createElement(s.b,{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},a.a.createElement("h1",{style:{color:"#333",zIndex:9999,fontSize:"3em"}},i.a._("You got this!","Celebratory text to encourage user to keep on completing more actions")))))))}}])&&u(n.prototype,o),h&&u(n,h),t}(),b=(n("hvnN"),n("ePT2")),y=n("9Y9K"),g=n("UmN8");n("IX6r");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var C=function(e){function t(){var e,n,r,a,o,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,n=!(a=(e=v(t)).call.apply(e,[this].concat(c)))||"object"!==w(a)&&"function"!=typeof a?_(r):a,o=_(_(n)),l={completedCheck:!1},(i="state")in o?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"initiateCheckAnimation",value:function(){var e=this,t=this.props,n=t.isCompleted,r=t.idx;n&&setTimeout(function(){window.requestAnimationFrame(function(){e.setState({completedCheck:!0})})},500+500*r)}},{key:"componentDidUpdate",value:function(){this.initiateCheckAnimation()}},{key:"componentDidMount",value:function(){this.initiateCheckAnimation()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.icon,r=e.text,o=e.isCompleted,i=e.inCheckAnimationExp,l=this.state.completedCheck,c=a.a.createElement(a.a.Fragment,null,a.a.createElement(s.b,{marginRight:3},i?a.a.createElement("div",{className:l?"CheckListIcon__completed":"CheckListIcon"},a.a.createElement(s.n,{size:18,icon:l?"check":n,accessibilityLabel:l?"done":t,color:l?"white":"blue"})):a.a.createElement(s.b,{padding:4,color:o?"blue":"white",shape:"circle"},a.a.createElement(s.n,{size:18,icon:o?"check":n,accessibilityLabel:o?"done":t,color:o?"white":"blue"}))),a.a.createElement(s.K,{size:"xl"},r));return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.b,{width:265,alignItems:"center",lgDisplay:"none",mdDisplay:"flex",smDisplay:"flex"},c),a.a.createElement(s.b,{width:265,alignItems:"center",justifyContent:"center",lgDisplay:"flex",mdDisplay:"none",smDisplay:"none"},c))}}])&&E(n.prototype,o),i&&E(n,i),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return I}),n.d(t,"a",function(){return R});function I(e){return new Promise(function(t,n){return b.a.create("UserResource",{user_id:e,field_set_key:"pin_actions"}).callGet().then(t).catch(n)})}function R(e){return new Promise(function(t,n){return b.a.create("UserStateResource",{state:e,value:1}).callCreate().then(t).catch(n)})}var L=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(a=O(t).call(this,e))||"object"!==k(a)&&"function"!=typeof a?j(r):a,T(j(j(n)),"delayBeforeCompletionMS",5e3),T(j(j(n)),"celebrationAnimationDelayMS",3500),n.state={showCelebration:!1,fadeChecklistOut:!1};var o=e.initialDidPinClickthrough,i=e.initialDidPinCloseup,l=e.initialDidPinSave,s=e.updatePinActions,c=e.didPinClickthrough,u=e.didPinCloseup,d=e.didPinSave;return o&&(c=!0),i&&(u=!0),l&&(d=!0),s({didPinClickthrough:c,didPinCloseup:u,didPinSave:d}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"startCelebrationAnimation",value:function(){var e=this;setTimeout(function(){window.requestAnimationFrame(function(){e.setState({fadeChecklistOut:!0}),window.requestAnimationFrame(function(){e.setState({showCelebration:!0})})})},this.celebrationAnimationDelayMS)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.handleComplete,n=e.initialDidPinClickthrough,r=e.initialDidPinCloseup,a=e.initialDidPinSave,o=e.checklistExpGroup,i=this.props,l=i.didPinClickthrough,s=i.didPinCloseup,c=i.didPinSave;(n&&(l=!0),r&&(s=!0),a&&(c=!0),l&&s&&c)&&("check_celebration_animation"===o||"celebration_animation"===o||"enabled"===o?this.startCelebrationAnimation():setTimeout(t,this.delayBeforeCompletionMS))}},{key:"render",value:function(){var e,t=this.props,n=t.didPinClickthrough,a=t.didPinCloseup,o=t.didPinSave,l=t.handleDismiss,c=t.checklistExpGroup,u=t.handleComplete,d=this.state,p=d.showCelebration,m=d.fadeChecklistOut,f="check_animation"===c||"check_celebration_animation"===c||"enabled"===c;e=n&&a&&o?i.a._("You're ready! Keep exploring to find your next great idea","user completed list of actions below the header"):o?i.a._("Saved! Each Pin you save improves your feed","user completed a pin save and the header text is changing"):n?i.a._("See! Every Pin links to the website it came from","user completed a pin clickthrough and the header text is changing"):a?i.a._("Nice find! You can click any Pin to learn more about it","user completed a closeup and the header text is changing"):i.a._("Here's how to get the most out of Pinterest","user has a list of actions below the header to complete");var b=[{accessibilityLabel:"closeup",icon:"arrow-up-right",text:i.a._("Click on a Pin you like","explaining what to do to complete the closeup step of checklist"),isCompleted:a},{accessibilityLabel:"save",icon:"pin",text:i.a._("Save it for later","explaining what to do to complete the pin save step of checklist"),isCompleted:o},{accessibilityLabel:"link",icon:"globe",text:i.a._("Visit the link it's from ","explaining what to do to complete the clickthrough step of checklist"),isCompleted:n}];return r.createElement(s.H,{dangerouslySetZIndex:{__zIndex:2},top:60},p?r.createElement(h,{handleComplete:u}):r.createElement(s.b,{dangerouslySetInlineStyle:m?{__style:{transition:"opacity 0.4s ease",opacity:0,backgroundColor:"white"}}:null},r.createElement(s.b,{color:"lightGray",display:"flex",dangerouslySetInlineStyle:{__style:{overflow:"hidden"}}},r.createElement(s.b,{display:"flex",alignItems:"center",justifyContent:"center",paddingX:12,paddingY:8,color:"blue",maxWidth:550,width:"100%",dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"80px 380px"}}},r.createElement(s.m,{size:"sm",color:"white",overflow:"normal"},e)),r.createElement(s.b,{position:"absolute",top:!0,right:!0,paddingY:2,paddingX:5},r.createElement(s.o,{accessibilityLabel:i.a._("Hide Checklist","hide the checklist of pin actions at the top of the homefeed"),icon:"cancel",onClick:l,size:"sm"})),r.createElement(s.b,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},r.createElement(s.b,{display:"flex",padding:4,marginStart:-4,marginEnd:-4,marginTop:-2,marginBottom:-2,maxWidth:900,width:"100%",wrap:!0},b.map(function(e,t){var n=e.icon,a=e.accessibilityLabel,o=e.text,i=e.isCompleted;return r.createElement(s.h,{key:o,lgSpan:4,span:12},r.createElement(s.b,{display:"flex",justifyContent:"center",paddingX:4,paddingY:2},r.createElement(C,{idx:t,accessibilityLabel:a,icon:n,text:o,isCompleted:i,inCheckAnimationExp:f})))}))))))}}])&&S(n.prototype,a),o&&S(n,o),t}();t.b=Object(y.compose)(Object(o.connect)(function(e){var t=e.ui.checklist;return{didPinCloseup:t.didPinCloseup,didPinClickthrough:t.didPinClickthrough,didPinSave:t.didPinSave}},function(e){return{updatePinActions:function(t){return e({type:"UPDATE_PIN_ACTIONS",payload:t})}}}))(function(e){return r.createElement(g.a,{name:"web_checklist_check_celebration_animation"},function(t){var n=t.group;return r.createElement(L,Object.assign({},e,{checklistExpGroup:n}))})})},"5x9v":function(e,t,n){"use strict";n.r(t);var r=n("GyhR"),a=n.n(r),o=n("Ivf5"),i=n("kiCl"),l=n("pjsG"),s=n("Qo1m"),c=n("9Fbe"),u=n("7Tih"),d=n("QtSf"),p=n("RQRm"),m=n("NmcB"),f=n("rPo8"),h=n("OtLr"),b=n("kIql"),y=n("ovu7"),g=n("+U6O"),w=n("9Y9K");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="age",O="parent_info",x=13,j=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=P(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==E(a)&&"function"!=typeof a?C(r):a,k(C(C(n)),"state",{age:"",ageValidatorError:"",parentEmail:"",parentEmailValidatorError:"",step:n.props.skipAgeStep?O:S}),k(C(C(n)),"handleAgeChange",function(e){var t=e.value;n.setState({age:t,ageValidatorError:""})}),k(C(C(n)),"handleAgeSubmit",function(){var e=[Object(y.a)({message:s.a._("Please enter a valid number.","Error message when user enters invalid age.")})],t=Object(d.a)(n.state.age,e);t?n.setState({age:"",ageValidatorError:t}):parseInt(n.state.age,10)<x?n.setState({age:"",ageValidatorError:s.a._("Age must be at least 13.","Error message when user enters age less than 13")}):n.completeAgeStep()}),k(C(C(n)),"handleParentEmailSubmit",function(){var e=[Object(y.f)({message:s.a._("Hmm... that doesn't look like an email address.","Error message when user enters invalid email address")})],t=Object(d.a)(n.state.parentEmail,e);t?n.setState({age:"",parentEmailValidatorError:t}):n.props.viewer.email===n.state.parentEmail?n.setState({age:"",parentEmailValidatorError:s.a._("Not a valid email.","Invalid email error message")}):n.completeParentConsentStep()}),k(C(C(n)),"handleParentEmailChange",function(e){var t=e.value;n.setState({parentEmail:t,parentEmailValidatorError:""})}),n}var n,o,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){this.contextLogView(3175)}},{key:"contextLogView",value:function(e){Object(m.a)(13,{view:205,viewParameter:e})}},{key:"contextLogClick",value:function(e){Object(m.a)(101,{component:17,element:1112,view:205,viewParameter:e})}},{key:"completeAgeStep",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.experienceClient,a={age:this.state.age};n(Object(f.f)({updateUserData:a})).then(function(){e.contextLogClick(3175),parseInt(e.state.age,10)<16?(r.fetchExperienceForPlacement(30),e.setState({step:O}),e.contextLogView(3176)):(r.completeExperience(30,500735),n(p.a))})}},{key:"completeParentConsentStep",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.experienceClient,a={parent_email:this.state.parentEmail};n(Object(f.f)({updateUserData:a})).then(function(){e.contextLogClick(3176),r.fetchExperienceForPlacement(30);var t=new u.a;t.evt=new i.a("",null,{forceRefresh:1}),l.default.navigate("/",t),n(p.a)})}},{key:"renderAgeStep",value:function(){var e=this,t=s.a._("To continue using Pinterest, let us know how old you are.","Subtext on age step of GDPR flow.");return a.a.createElement(g.b,{alignItems:"center",direction:"column",display:"flex"},a.a.createElement(g.b,{margin:3},a.a.createElement(g.m,{size:"sm"},s.a._("Tell us your age","Prompt asking user to enter age"))),a.a.createElement(g.b,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6},a.a.createElement(g.K,{color:"darkGray",overflow:"normal"},t)),a.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement("div",{ref:function(t){e._ageTextField=t}},a.a.createElement(g.M,{id:"age",onChange:this.handleAgeChange,placeholder:"Age",value:this.state.age,type:"number"})),this.state.ageValidatorError?a.a.createElement(g.k,{color:"red",anchor:this._ageTextField,idealDirection:"right",onDismiss:function(){},size:"xs",shouldFocus:!1},a.a.createElement(g.b,{padding:3},a.a.createElement(g.K,{bold:!0,color:"white"},a.a.createElement("span",null,this.state.ageValidatorError)))):null),a.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement(g.c,{color:"red",disabled:!this.state.age,onClick:this.handleAgeSubmit,text:s.a._("Submit","Text on submit button on GDPR age step"),type:"submit"})))}},{key:"renderParentInfoStep",value:function(){var e=this,t=s.a._("In some countries, you can only use Pinterest if you're old enough to consent to us using your information under the laws of your country, or if your parent or guardian has agreed that you can use Pinterest.","Subtext in parent consent step for underaged users."),n=s.a._("If you'd like for us to contact your parent or guardian, let us know how to reach them.","Prompt in parent consent step asking underaged users for parent information.");return a.a.createElement(g.b,{alignItems:"center",direction:"column",display:"flex"},a.a.createElement(g.b,{margin:3},a.a.createElement(g.m,{size:"sm"},s.a._("Get parental consent","Title text for parent consent information step"))),a.a.createElement(g.b,{marginLeft:12,marginRight:12,marginTop:5,maxWidth:400},a.a.createElement(g.K,{color:"darkGray",overflow:"normal"},t)),a.a.createElement(g.b,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6,maxWidth:400},a.a.createElement(g.K,{color:"darkGray",overflow:"normal"},n)),a.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement("div",{ref:function(t){e._parentEmailField=t}},a.a.createElement(g.M,{id:"email",onChange:this.handleParentEmailChange,placeholder:"Parent's email",value:this.state.parentEmail,type:"email"})),this.state.parentEmailValidatorError?a.a.createElement(g.k,{anchor:this._parentEmailField,color:"red",idealDirection:"right",onDismiss:function(){},size:"xs",shouldFocus:!1},a.a.createElement(g.b,{padding:3},a.a.createElement(g.K,{bold:!0,color:"white"},a.a.createElement("span",null,this.state.parentEmailValidatorError)))):null),a.a.createElement(g.b,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement(g.c,{color:"red",disabled:!this.state.parentEmail,onClick:this.handleParentEmailSubmit,text:s.a._("Send","Text on submit button on GDPR parent consent email step"),type:"submit"})))}},{key:"render",value:function(){return a.a.createElement(g.b,{alignItems:"center",color:"white",direction:"column",display:"flex",height:540,overflow:"hidden",shape:"rounded",width:400},a.a.createElement(g.b,{marginTop:7},Object(c.a)(50,!0)),this.state.step===S?this.renderAgeStep():this.renderParentInfoStep())}}])&&v(n.prototype,o),h&&v(n,h),t}(),T=Object(w.compose)(Object(o.connect)(),h.a,b.a)(j),I=n("QG6s"),R=n("fifU"),L=n("8UPC"),M=Object(r.lazy)(function(){return Promise.all([n.e("CreativeEditorPageDesktop~ExperienceBizNuxContainer~ExperiencesAfterHomefeed~ExperiencesBeforeHomefe~86ed058b"),n.e("CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~LaunchpadPage~ProfilePa~9eaf3271"),n.e("RenuxContainerCommon")]).then(n.bind(null,"IMUx"))});t.default=function(e){var t=e.experience,n=e.isNux,r=e.showGDPRModal,o=e.showGDPRParentConsentModal;return a.a.createElement(a.a.Fragment,null,n||function(e){return!!(e&&e.display_data&&e.display_data.is_partner_renux)}(t)?a.a.createElement(L.f,{placementId:11}):a.a.createElement(R.a,null,a.a.createElement(M,{experience:t})),a.a.createElement(L.g,{placementId:11}),a.a.createElement(L.e,{placementId:11}),a.a.createElement(L.d,{placementId:11}),a.a.createElement(L.c,{placementId:11}),r&&a.a.createElement(I.a,{noButton:!0},a.a.createElement(T,{skipAgeStep:o,additionalChildren:null})))}},"8UPC":function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),o=n("D+W/"),i=n("Qo1m"),l=n("iJ35"),s=(n("hvnN"),n("OLQZ")),c=n.n(s),u=n("ggpB"),d=n("+U6O");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=10,w=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=f(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==p(a)&&"function"!=typeof a?b(r):a,y(b(b(n)),"state",{isVisible:!0}),y(b(b(n)),"onScroll",c()(function(){var e=n.getScrollPos();e>g?n.setState({isVisible:!1}):0===e&&n.setState({isVisible:!0})})),y(b(b(n)),"handleGotItClick",function(){Object(u.a)("auth_eu_cookie_banner_dismissed"),n.props.onGotItClick&&n.props.onGotItClick()}),n}var n,s,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["PureComponent"]),n=t,(s=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll),this.onScroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"getScrollPos",value:function(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}},{key:"hide",value:function(){this.state.isVisible&&this.setState({isVisible:!1})}},{key:"show",value:function(){this.state.isVisible||this.setState({isVisible:!0})}},{key:"handleLearnMoreClick",value:function(){Object(u.a)("auth_eu_cookie_banner_learnmore")}},{key:"handlePrivacyClick",value:function(){Object(u.a)("auth_eu_cookie_banner_privacy")}},{key:"render",value:function(){var e={__style:{animation:this.state.isVisible?"fadeIn .5s":"fadeOutAndHide .5s forwards",backgroundColor:"#1c232c",opacity:.8,zIndex:1e3}};return a.a.createElement("div",{className:"EuCookieBar"},a.a.createElement(d.b,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:e,height:36,justifyContent:"between",position:"fixed",xs:{column:12,display:"flex"}},a.a.createElement(d.b,{deprecatedPadding:{x:2}},a.a.createElement(l.b,{onClick:this.handlePrivacyClick,style:{color:"white"},to:o.a.GEN.templateConst.settings.ABOUT_PRIVACY_URL},i.a._("Privacy","Accessible label for the Privacy link in the EU cookie bar"))),a.a.createElement(d.b,{display:"flex",alignItems:"center"},a.a.createElement(d.b,{deprecatedPadding:{x:1}},a.a.createElement(d.K,{color:"gray",inline:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},i.a._("Pinterest is using cookies to help give you the best experience we can.","Accessible label for the cookie text description in the EU cookie bar"))),a.a.createElement(d.b,{deprecatedPadding:{x:1}},a.a.createElement(l.b,{onClick:this.handleLearnMoreClick,style:{color:"white"},to:o.a.GEN.templateConst.settings.ABOUT_COOKIE_URL},i.a._("Learn More","Accessible label for the Learn More link in the EU cookie bar"))),a.a.createElement(d.b,{deprecatedPadding:{x:1}},a.a.createElement("button",{className:"Button borderless cookieButton",onClick:this.handleGotItClick},i.a._("Got it!","Accessible label for the Got it! button in the EU cookie bar"))))))}}])&&m(n.prototype,s),w&&m(n,w),t}(),E=n("iz36"),v=function(e){var t=e.placementId;return r.createElement(E.a,{experienceIds:[14e3],placementId:t},function(e){var t=e.complete;return r.createElement(w,{onGotItClick:t})})},P=n("G8pY"),_=n("Ljpz"),C=n("dsfX");var k=function(e){var t=e.connectType,n=e.onConfirm,r=e.onHide,o=i.a._("Erase existing password?");return a.a.createElement(C.a,{accessibilityCloseLabel:i.a._("Close"),accessibilityModalLabel:o,onDismiss:r,heading:o,footer:a.a.createElement(d.b,{marginLeft:-1,marginRight:-1},a.a.createElement(d.b,{padding:1},a.a.createElement(d.c,{size:"lg",text:i.a._("Cancel","Button text for canceling connect and erase password"),onClick:r})),a.a.createElement(d.b,{padding:1},a.a.createElement(d.c,{size:"lg",color:"red",text:i.a._("Okay","Button text for accepting connect and erase password"),onClick:n}))),role:"alertdialog"},a.a.createElement(d.b,{padding:4},a.a.createElement(d.K,null,"google"===t?i.a._("Please confirm that you’ll log in with Google—rather than your previous Pinterest password—in the future"):i.a._("Please confirm that you’ll log in with Facebook—rather than your previous Pinterest password—in the future"))))},S=function(e){var t=e.connectType,n=e.onConfirm;return a.a.createElement(C.a,{accessibilityCloseLabel:i.a._("Close","Button text for closing account connect confirmation"),accessibilityModalLabel:i.a._("Successfully connected account","Accessible label for success message after account connect"),onDismiss:n,heading:i.a._("Success!","Title for success message after account connect"),footer:a.a.createElement(d.b,{marginLeft:-1,marginRight:-1},a.a.createElement(d.b,{padding:1},a.a.createElement(d.c,{size:"lg",color:"red",text:i.a._("Got it","Button text for accepting account connect confirmation"),onClick:n}))),role:"alertdialog"},a.a.createElement(d.b,{padding:4},a.a.createElement(d.K,null,"google"===t?i.a._("You can now log into Pinterest with your Google account.","Inform users they should log in with Google after compromised account flow"):i.a._("You can now log into Pinterest with your Facebook account.","Inform users they should log in with Facebook after compromised account flow"))),a.a.createElement(d.b,{paddingBottom:4,paddingX:4},a.a.createElement(d.K,null,i.a._("That means your old password will no longer work.","Inform users they cannot login with a password after using social connect in compromised account flow"))))},O=n("4fCo"),x=function(e){var t=e.onClick,n=e.text;return r.createElement(d.b,{marginStart:2},r.createElement(d.c,{color:"transparent",inline:!0,onClick:t,text:n}))},j=function(e){var t=e.onChangePassword,n=e.onDismiss,a=e.onFacebookConnect,o=e.onGoogleConnect;return r.createElement("div",{className:"gridCentered"},r.createElement(d.b,{marginTop:6,marginEnd:3,marginStart:3,overflow:"hidden",shape:"rounded"},r.createElement(d.b,{color:"darkGray",paddingY:4,paddingX:4},r.createElement(d.b,{display:"flex",alignItems:"start",justifyContent:"between"},r.createElement(d.b,{flex:"grow"},r.createElement(d.K,{color:"white",bold:!0},i.a._("Based on our automatic security checks, it looks like your Pinterest password is the same as one that was stolen from another site.","Notify user their account credentials are compromised")),r.createElement(d.b,{marginTop:3},r.createElement(d.K,{color:"white",bold:!0},i.a._("We recommend you change your password or connect your Google or Facebook account.","Suggest a user change their password or connect to Google / Facebook")))),r.createElement(d.b,{marginTop:-2,marginEnd:-2},r.createElement(d.o,{accessibilityLabel:i.a._("Close","accessibility close label"),onClick:n,icon:"cancel"}))),r.createElement(d.b,{xs:{display:"flexColumn"},sm:{display:"flex"},marginTop:4},r.createElement(d.c,{inline:!0,onClick:t,text:i.a._("Change Password","Shows a form for the user to change their password")}),r.createElement(x,{onClick:o,text:i.a._("Connect with Google")}),r.createElement(x,{onClick:a,text:i.a._("Connect with Facebook")})))))},T=n("9CQp"),I=n("Q9Wq"),R=n("+pqy");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=A(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==L(a)&&"function"!=typeof a?F(r):a,G(F(F(n)),"state",{activeModal:null}),G(F(F(n)),"socialManager",R.a.instance()),G(F(F(n)),"activateModal",function(e){return function(){return n.setState({activeModal:e})}}),G(F(F(n)),"handleConnect",function(e){return function(){n.activateModal(null)(),n.socialManager.handleConnect(e,!0,{success:n.activateModal("google"===e?"connectedGoogle":"connectedFacebook")})}}),G(F(F(n)),"handlePasswordChangeSuccessConfirm",function(){n.activateModal(null)(),n.props.onComplete()}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e,t=this,n=this.props,a=n.onComplete,o=n.onDismiss,i=this.state.activeModal;return"confirmGoogleConnect"===i||"connectedGoogle"===i?e="google":"confirmFacebookConnect"!==i&&"connectedFacebook"!==i||(e="facebook"),r.createElement(r.Fragment,null,r.createElement(j,{onChangePassword:this.activateModal("changePassword"),onDismiss:o,onFacebookConnect:this.activateModal("confirmFacebookConnect"),onGoogleConnect:this.activateModal("confirmGoogleConnect")}),"changePassword"===i&&r.createElement(O.a,null,function(e){return r.createElement(I.a,{hasPassword:!!e.isAuth&&e.hasPassword,onHide:t.activateModal(null),onPasswordForgotModal:t.activateModal("forgotPassword"),onSuccess:t.activateModal("changedPasswordSuccess"),username:e.isAuth?e.username:""})}),"changedPasswordSuccess"===i&&r.createElement(T.a,{onHide:this.handlePasswordChangeSuccessConfirm}),"forgotPassword"===i&&r.createElement(_.a,{variant:"changePassword",onHide:this.activateModal(null)}),("confirmGoogleConnect"===i||"confirmFacebookConnect"===i)&&e&&r.createElement(k,{connectType:e,onConfirm:this.handleConnect(e),onHide:this.activateModal(null)}),("connectedGoogle"===i||"connectedFacebook"===i)&&e&&r.createElement(S,{connectType:e,onConfirm:a}))}}])&&M(n.prototype,a),o&&M(n,o),t}(),B=function(e){var t=e.placementId;return r.createElement(E.a,{experienceIds:[500818],placementId:t},function(e){var t=e.complete,n=e.dismiss;return r.createElement(N,{onComplete:t,onDismiss:n})})},z=n("GjKX"),U=n("zEno"),V=n("lglE"),K=n("cUng");function H(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Y=function(e){var t=e.placementId,n=H(e,["placementId"]);return r.createElement(E.a,{placementId:t,type:9},function(e){var t=e.complete,a=e.dismiss,o=e.display_data;return r.createElement(U.a,Object.assign({},Object(K.a)(V.a,!0)(o),{handleComplete:t,handleDismiss:a},n))})};var q=n("RuD8"),W=n.n(q),Q=n("ePT2"),X=n("Irlq");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re={FIRST:"first",END:"end"},ae=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=$(t).call(this,e),n=!a||"object"!==Z(a)&&"function"!=typeof a?te(r):a,ne(te(te(n)),"onCheck",function(e){var t=e.checked;return n.setState({checked:t})}),ne(te(te(n)),"onTextChange",function(e){var t=e.value;return n.setState({newEmail:t})}),ne(te(te(n)),"closeModal",function(){var e=n.props.handleComplete;setTimeout(e,5e3)}),ne(te(te(n)),"updateEmailAddress",function(){var e=n.props.currentEmail,t=n.state,r=t.checked,a=t.newEmail;e&&a&&e.trim()!==a?Q.a.create("UserSettingsResource",{email:a,email_bounced:!1}).callUpdate({showError:!1}).then(function(){return n.updateNotifSetting(r)},function(e){return n.setState({errorMessage:e.message})}):n.updateNotifSetting(r)}),ne(te(te(n)),"updateNotifSetting",function(e){var t;n.setState({currentStep:re.END}),t=!0===e?{section:"settings_email",option:"ALL",value:!0}:{section:"settings_email",option:"ONLY_REQUIRED",value:!0},Q.a.create("EmailSettingsResource",t).callUpdate(),n.closeModal()}),n.state={currentStep:re.FIRST,newEmail:e.currentEmail,checked:!0},n}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,r["Component"]),n=t,(o=[{key:"getModalText",value:function(e){return e===re.FIRST?i.a._("We're having some trouble reaching you. Is this still your email?","prompt to update email"):i.a._("Thanks! Your email preferences have been saved.","after updating email address")}},{key:"renderStep",value:function(e){var t=this.state,n=t.checked,r=t.errorMessage,o=t.newEmail;return e===re.FIRST?a.a.createElement(d.b,{maxWidth:310},a.a.createElement(d.b,{alignItems:"center",display:"flex",marginBottom:6},a.a.createElement(d.e,{checked:n,id:"notif",onChange:this.onCheck,size:"sm"}),a.a.createElement(d.q,{htmlFor:"notif"},a.a.createElement(d.b,{paddingX:2},a.a.createElement(d.K,{size:"sm"},i.a._("Want to get recommendations and updates in your inbox?","checkbox option in a prompt"))))),a.a.createElement(d.M,{id:"email",type:"email",onChange:this.onTextChange,value:o,errorMessage:r}),a.a.createElement(d.b,{paddingY:1},a.a.createElement(d.c,{color:"red",text:i.a._("Done","done updating email address"),onClick:this.updateEmailAddress}))):a.a.createElement(d.K,{overflow:"normal",size:"lg"},Object(X.b)(i.a._("You can always change them later from your {{settingsLink}}.","link to change email settings"),{settingsLink:a.a.createElement(l.b,{key:"settingsLink",to:"/settings/"},i.a._("Settings","link to edit account settings"))}))}},{key:"render",value:function(){var e=this.props.handleDismiss,t=this.state.currentStep;return a.a.createElement(d.b,{color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},a.a.createElement(d.b,{display:"flex",alignItems:"center"},a.a.createElement(d.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},a.a.createElement(d.b,{width:292,height:479,marginBottom:-6},a.a.createElement(d.p,{alt:i.a._("preview of mobile app","prompt to fix email"),naturalWidth:292,naturalHeight:479,src:W.a}))),a.a.createElement(d.b,{position:"relative"},a.a.createElement(d.b,{display:"flex",alignItems:"center",width:330,height:540},a.a.createElement(d.b,{paddingX:3},a.a.createElement(d.b,{paddingY:6},a.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},this.getModalText(t))),this.renderStep(t))),t===re.FIRST&&a.a.createElement(d.b,{padding:6,position:"absolute",bottom:!0,right:!0},a.a.createElement(d.P,{onTouch:e,fullWidth:!1},a.a.createElement(d.K,{bold:!0},i.a._("Skip for now","Skip prompt to change email address")))))))}}])&&J(n.prototype,o),s&&J(n,s),t}(),oe=n("QG6s"),ie=n("Mr4W"),le=n("UmN8"),se=n("ovu7");function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he={FIRST:"first",END:"end"},be={__style:{width:"382px",height:"112px",fontFamily:"HelveticaNeue",fontSize:"48px",fontWeight:"bold",fontStyle:"normal",fontStretch:"normal",lineHeight:"1.17",color:"#333333"}},ye=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return r=this,a=(e=de(t)).call.apply(e,[this].concat(l)),n=!a||"object"!==ce(a)&&"function"!=typeof a?me(r):a,fe(me(me(n)),"state",{buttonLoading:!1,currentStep:he.FIRST,currentEmail:n.props.currentEmail,newPassword:"",repeatPassword:"",newPasswordErrors:[],repeatPasswordErrors:[]}),fe(me(me(n)),"getFocusFieldRef",function(e){var t=Object(ie.findDOMNode)(e);if(t&&t instanceof HTMLElement){var n=t.querySelector("input");n&&n.focus()}}),fe(me(me(n)),"handleCancel",function(e){Object(u.a)("unauth_web.password_upsell_modal.submit.".concat(e)),n.props.handleDismiss()}),fe(me(me(n)),"handleSubmit",function(e){var t=n.props.handleComplete,r=n.state,a=r.newPassword,o=r.newPasswordErrors,i=r.repeatPassword,l=r.repeatPasswordErrors;if(n.handleButtonLoading(!0),n.handleBlankFields(),o.length||l.length||""===a||""===i)n.handleButtonLoading(!1);else{var s={new_password:a,new_password_confirm:i};Object(u.a)("unauth_web.password_upsell_modal.submit.".concat(e)),Q.a.create("UserPasswordResource",s).callUpdate({showError:!1}).then(function(){n.setState({currentStep:he.END}),setTimeout(t,e)},function(e){Object(u.a)("unauth_web.password_upsell_modal.update_error.".concat(e.api_error_code)),n.setState({newPasswordErrors:[e.message]}),n.handleButtonLoading(!1)})}}),fe(me(me(n)),"handleBlankFields",function(){var e={};""===n.state.newPassword&&(e.newPasswordErrors=[i.a._("Required","Error message to hint user missed a field.")]),""===n.state.repeatPassword&&(e.repeatPasswordErrors=[i.a._("Required","Error message to hint user missed a field.")]),n.setState(e)}),fe(me(me(n)),"runValidators",function(e,t){var n=[],r={};return e.forEach(function(e){var a=e(t);a&&"number"==typeof a.score&&(r={score:a.score}),n=n.concat(a.errors)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fe(e,t,n[t])})}return e}({errors:n},r)}),fe(me(me(n)),"updateAndValidate",function(e,t){var r,a={newPassword:n.state.newPassword,repeatPassword:n.state.repeatPassword};a[e]=t;var o=[],i=[];""!==a.newPassword&&(o=n.validateNewPassword(a.newPassword).errors),""!==a.repeatPassword&&""!==a.newPassword&&(i=n.validateRepeatPassword(a.newPassword,a.repeatPassword).errors),n.setState((fe(r={},e,t),fe(r,"newPasswordErrors",o),fe(r,"repeatPasswordErrors",i),r))}),n}var n,o,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,r["Component"]),n=t,(o=[{key:"getModalText",value:function(e){return e===he.FIRST?i.a._("Oh, no! You haven't set up your password yet.","prompt to upsell social users to setup their password"):i.a._("You are all set! Now you can login in using your email and password.","message to show after user successfully setup  his/her password")}},{key:"handleButtonLoading",value:function(e){this.setState({buttonLoading:e})}},{key:"validateNewPassword",value:function(e){var t=[Object(se.q)(),Object(se.b)({message:i.a.commonStrings.asciiPasswordError}),Object(se.n)({username:this.props.username,samePasswordStr:i.a._("Oops! Your password shouldn’t match your username.","Error message when user set his/her user name as his/her password ")})];return this.runValidators(t,e)}},{key:"validateRepeatPassword",value:function(e,t){var n=[Object(se.q)(),Object(se.g)({targetValue:e,message:i.a._("Passwords don’t match","Error message when the password and typed password are different")})];return this.runValidators(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentEmail,r=t.currentStep,o=t.newPassword,l=t.repeatPassword,s=t.newPasswordErrors,c=t.repeatPasswordErrors,u=o&&l&&0===s.length&&0===c.length;return a.a.createElement(le.a,{name:"upsell_social_user_set_password",activate:!1},function(t){return t.group.startsWith("enabled_var1")?a.a.createElement(d.b,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",width:660,height:540},a.a.createElement(d.b,{display:"flex",alignItems:"center"},a.a.createElement(d.b,{display:"flex",alignItems:"end",justifyContent:"center",width:330,height:540},a.a.createElement(d.b,{width:292,height:479,marginBottom:-6},a.a.createElement(d.p,{alt:i.a._("preview of mobile app","prompt to setup password"),naturalWidth:292,naturalHeight:479,src:W.a}))),a.a.createElement(d.b,{position:"relative"},a.a.createElement(d.b,{display:"flex",alignItems:"center",width:330,height:540},a.a.createElement(d.b,{paddingY:6,marginTop:5},a.a.createElement(d.K,{bold:!0,overflow:"normal",size:"xl"},e.getModalText(r)),r===he.FIRST&&a.a.createElement(d.b,null,a.a.createElement(d.b,null,a.a.createElement(d.b,{display:"flex",marginTop:6},a.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},a.a.createElement(d.q,{htmlFor:"changePasswordNew"},a.a.createElement(d.K,{bold:!0}," ",i.a._("Email","label for email field")))),a.a.createElement(d.K,null,n)),a.a.createElement(d.b,{display:"flex",marginTop:3},a.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},a.a.createElement(d.q,{htmlFor:"changePasswordNew"},a.a.createElement(d.K,{bold:!0},i.a._("Password","label for new password field")))),a.a.createElement(d.b,{width:225},a.a.createElement(d.M,{ref:e.getFocusFieldRef,errorMessage:s[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},type:"password",value:o}))),a.a.createElement(d.b,{display:"flex",marginTop:3},a.a.createElement(d.b,{width:80,display:"flex",alignItems:"center"},a.a.createElement(d.q,{htmlFor:"changePasswordRetype"},a.a.createElement(d.K,{bold:!0},i.a._("Retype","label for retype password field")))),a.a.createElement(d.b,{width:225},a.a.createElement(d.M,{errorMessage:c[0],id:"changePasswordRetype",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},type:"password",value:l})))),a.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:5,marginRight:6},a.a.createElement(d.c,{color:"red",type:"submit",disabled:!u||e.state.buttonLoading,onClick:function(){return e.handleSubmit(2500)},text:i.a._("Set Password","Label text for button that will set password."),size:"md"})),a.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:3,marginRight:6},a.a.createElement(d.c,{onClick:function(){return e.handleCancel(2500)},text:i.a._("Cancel","Label text for button that will set password."),size:"md"})))))))):a.a.createElement(d.b,{display:"flex",direction:"column",color:"white",overflow:"hidden",shape:"rounded",padding:4,width:414,height:436},a.a.createElement(d.b,{display:"flex"},a.a.createElement(d.b,{dangerouslySetInlineStyle:be},i.a._("You need a password","Header text for password upsell for social users.")),a.a.createElement(d.b,null,a.a.createElement(d.o,{accessibilityLabel:i.a._("Close","accessible label for close button"),iconColor:"gray",icon:"cancel",onClick:function(){return e.handleCancel(0)},size:"xl"}))),a.a.createElement(d.b,{marginTop:8},a.a.createElement(d.K,{overflow:"normal",size:"lg"},i.a._("Oh no! Looks like you haven't created a password for this account yet. Set it now to log in with email and password in the future.","Explanatory text to upsell social users to setup their password")),a.a.createElement(d.b,{marginTop:3},a.a.createElement(d.K,{bold:!0,size:"lg"},n)),a.a.createElement(d.b,{marginTop:2},a.a.createElement(d.M,{ref:e.getFocusFieldRef,errorMessage:s[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},placeholder:i.a._("Enter Password","placeholder text for the password textfield"),type:"password",value:o})),a.a.createElement(d.b,{marginTop:2},a.a.createElement(d.M,{errorMessage:c[0],id:"changePasswordRetype",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},placeholder:i.a._("Re-enter Password","placeholder text for the retype password textfield"),type:"password",value:l}))),a.a.createElement(d.b,{display:"flex",justifyContent:"between",marginTop:2},a.a.createElement(d.c,{color:"red",type:"submit",disabled:!u||e.state.buttonLoading,onClick:function(){return e.handleSubmit(0)},text:i.a._("Create Password","Label text for button that will set password."),size:"lg"})))})}}])&&ue(n.prototype,o),l&&ue(n,l),t}();var ge=function(e){var t=e.placementId;return r.createElement(E.a,{experienceIds:[500331,500886],placementId:t},function(e){var t=e.experience_id,n=e.complete,a=e.dismiss,o=e.display_data,i=function(e){return 500886===e?ye:ae}(t);return r.createElement(oe.a,{noButton:!0,onHide:a},r.createElement(i,Object.assign({},Object(K.a)(V.a)(o),{handleComplete:n,handleDismiss:a})))})},we=(n("hGZ8"),n("EDDr"));n.d(t,"a",function(){return v}),n.d(t,"b",function(){return P.a}),n.d(t,"c",function(){return B}),n.d(t,"d",function(){return z.default}),n.d(t,"f",function(){return Y}),n.d(t,"e",function(){return ge}),n.d(t,"g",function(){return we.a})},"9CQp":function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),o=n("Qo1m"),i=n("dsfX"),l=n("+U6O");t.a=function(e){var t=e.onHide,n=o.a._("Password Changed!");return a.a.createElement(i.a,{accessibilityCloseLabel:o.a._("Close"),accessibilityModalLabel:n,onDismiss:t,heading:n,footer:a.a.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"end"},a.a.createElement(l.c,{color:"red",inline:!0,onClick:t,text:o.a._("Okay"),size:"md"}))},a.a.createElement(l.b,{padding:4},a.a.createElement(l.K,null,o.a._("Your password has been changed successfully."))))}},"9Fbe":function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r);t.a=function(e,t,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l="M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",s=a.a.createElement("circle",{cx:"38",cy:"38",fill:"white",r:"40"});return r=t?"-3 -3 82 82":"3 3 70 70",o=n||"#e60023",i?a.a.createElement("svg",{height:e,viewBox:r,width:e},t?s:null,a.a.createElement("path",{d:l,fill:o,fillRule:"evenodd"})):a.a.createElement("svg",{height:e,style:{display:"block"},viewBox:r,width:e},t?s:null,a.a.createElement("path",{d:l,fill:o,fillRule:"evenodd"}))}},EDDr:function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),o=n("iz36"),i=(n("hvnN"),n("2cEh")),l=n("+U6O"),s=[500329,500410,500688];t.a=function(e){var t=e.placementId;return a.a.createElement(o.a,{placementId:t,experienceIds:s},function(e){e.experience_id;var t=e.complete,n=e.dismiss;return e.display_data,i.a.instance().subscribe(t,n),a.a.createElement(l.P,{onTouch:n,fullWidth:!1},a.a.createElement("div",{className:"experienceSystemPushOverlay"}),";")})}},G8pY:function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),o=n("Qo1m"),i=(n("hvnN"),n("+U6O")),l=n("4+0X");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={backgroundColor:"transparent",border:0,right:80},b=function(e){function t(e,n){var r,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=!(o=d(t).call(this,e,n))||"object"!==s(o)&&"function"!=typeof o?m(a):o,f(m(m(r)),"subscribers",[]);var i=e.handleComplete,u=e.transitionEvent,p=["navigateStarted"].concat(c(u?[u]:[]));return r.subscribers=p.map(function(e){return l.b.subscribe("site",e,i)}),r}var n,b,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(b=[{key:"componentWillUnmount",value:function(){this.subscribers.forEach(function(e){return e.unsubscribe()}),this.subscribers=[]}},{key:"render",value:function(){var e=this.props,t=e.bannerText,n=e.canClose,r=e.handleComplete;return a.a.createElement("div",{className:"Module BottomBanner"},a.a.createElement("div",{className:"bannerContainer"},a.a.createElement("div",{className:"bannerText"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),n&&a.a.createElement("button",{className:"absolute closeButton p0",onClick:r,style:h},a.a.createElement(i.n,{accessibilityLabel:o.a._("close","Accessible label for the banner close button"),color:"white",icon:"cancel",inline:!0}))))}}])&&u(n.prototype,b),y&&u(n,y),t}();f(b,"defaultProps",{canClose:!1});var y=b,g=n("iz36"),w=n("lglE"),E=n("cUng"),v=[11019,11023,500207];t.a=function(e){var t=e.placementId;return r.createElement(g.a,{placementId:t,experienceIds:v},function(e){var t=e.complete,n=e.dismiss,a=e.display_data;return r.createElement(y,Object.assign({},Object(E.a)(w.a)(a),{handleComplete:t,handleDismiss:n}))})}},IX6r:function(e,t,n){},Ljpz:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("GyhR"),a=n.n(r),o=n("Qo1m"),i=n("dsfX"),l=n("+U6O");function s(e){var t=e.onHide,n=e.variant,r=o.a._("Please check your email"),s="";switch(n){case"changePassword":s=o.a._("We’ll send instructions for changing your password in just a minute.","Body of email for changing password modal");break;case"setPassword":s=o.a._("We’ll send instructions for setting your password in just a minute.","Body of email for setting password modal");break;case"verifyEmailAddress":s=o.a._("We’ll send you a verification email in just a minute.","Body of email for verifying email address modal")}return a.a.createElement(i.a,{accessibilityCloseLabel:o.a._("Close"),accessibilityModalLabel:r,onDismiss:t,heading:r,size:"md",footer:a.a.createElement(l.b,{display:"flex",justifyContent:"end"},a.a.createElement(l.c,{color:"red",inline:!0,onClick:t,text:o.a._("Okay"),size:"md"}))},a.a.createElement(l.b,{padding:4},a.a.createElement(l.K,null,s)))}},Q9Wq:function(e,t,n){"use strict";var r=n("GyhR"),a=n("UhjI"),o=n("Qo1m"),i=n("dsfX"),l=n("ePT2"),s=n("ovu7"),c=n("+U6O");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=[],r={};return e.forEach(function(e){var a=e(t);a&&a.score&&(r={score:a.score}),n=n.concat(a.errors)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}({errors:n},r)},y=function(e){var t=e.children,n=e.htmlFor,a=e.label,o=e.divide;return r.createElement(c.b,null,r.createElement(c.b,{display:"flex",padding:4},r.createElement(c.b,{alignItems:"center",marginRight:3,xs:{column:4}},r.createElement(c.q,{htmlFor:n},r.createElement(c.K,{bold:!0},a))),t),o?r.createElement(c.j,null):null)},g=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];return r=this,i=(e=p(t)).call.apply(e,[this].concat(d)),n=!i||"object"!==u(i)&&"function"!=typeof i?f(r):i,h(f(f(n)),"state",{buttonLoading:!1,modalLoading:!1,oldPassword:void 0,newPassword:void 0,repeatPassword:void 0,oldPasswordErrors:[],newPasswordErrors:[],repeatPasswordErrors:[]}),h(f(f(n)),"handleSubmit",function(e){e.event.preventDefault();var t=n.state,r=t.oldPassword,a=t.oldPasswordErrors,o=t.newPassword,i=t.newPasswordErrors,s=t.repeatPassword,c=t.repeatPasswordErrors,u=n.props.hasPassword;if(n.handleButtonLoading(!0),n.handleBlankFields(),a.length||i.length||c.length||u&&void 0===r||void 0===o||void 0===s)n.handleButtonLoading(!1);else{var d={new_password:o,new_password_confirm:s,old_password:r};l.a.create("UserPasswordResource",d).callUpdate({showError:!1}).then(function(){n.props.onHide(),n.props.onSuccess&&n.props.onSuccess()},function(e){var t=((e.extra_data||{}).objects||{}).field||"old";n.setState(h({},"".concat(t,"PasswordErrors"),[e.message])),n.handleButtonLoading(!1)})}}),h(f(f(n)),"handleForgotPassword",function(){a.a.trackEvent("forgot_password","click"),n.handleModalLoading(!0),l.a.create("UserResetPasswordResource",{username_or_email:n.props.username}).callCreate({showError:!1}).then(function(){a.a.trackEvent("forgot_password","success"),n.props.onPasswordForgotModal(),n.handleModalLoading(!1)},function(){a.a.trackEvent("forgot_password","error")})}),h(f(f(n)),"handleBlankFields",function(){var e={};void 0===n.state.oldPassword&&(e.oldPasswordErrors=[o.a._("Required")]),void 0===n.state.newPassword&&(e.newPasswordErrors=[o.a._("Required")]),void 0===n.state.repeatPassword&&(e.repeatPasswordErrors=[o.a._("Required")]),n.setState(e)}),h(f(f(n)),"updateAndValidate",function(e,t){var r,a={oldPassword:n.state.oldPassword,newPassword:n.state.newPassword,repeatPassword:n.state.repeatPassword};a[e]=t;var o=[],i=[],l=[];void 0!==a.oldPassword&&(o=Object(s.q)()(a.oldPassword).errors),void 0!==a.newPassword&&(i=n.validateNewPassword(a.newPassword).errors),void 0!==a.repeatPassword&&void 0!==a.newPassword&&(l=n.validateRepeatPassword(a.newPassword,a.repeatPassword).errors),n.setState((h(r={},e,t),h(r,"oldPasswordErrors",o),h(r,"newPasswordErrors",i),h(r,"repeatPasswordErrors",l),r))}),n}var n,g,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(g=[{key:"handleButtonLoading",value:function(e){this.setState({buttonLoading:e})}},{key:"handleModalLoading",value:function(e){this.setState({modalLoading:e})}},{key:"validateNewPassword",value:function(e){var t=[Object(s.q)(),Object(s.b)({message:o.a.commonStrings.asciiPasswordError}),Object(s.n)({username:this.props.username,samePasswordStr:o.a._("Oops! Your password shouldn’t match your username.")})];return b(t,e)}},{key:"validateRepeatPassword",value:function(e,t){var n=[Object(s.q)(),Object(s.g)({targetValue:e,message:o.a._("Passwords don’t match")})];return b(n,t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.oldPasswordErrors,a=t.newPasswordErrors,l=t.repeatPasswordErrors,s=this.props.hasPassword,u=s?o.a._("Change your password"):o.a._("Set your password"),d=s?o.a._("Change Password"):o.a._("Save"),p=(!s||this.state.oldPassword)&&this.state.newPassword&&this.state.repeatPassword&&0===n.length&&0===a.length&&0===l.length,m=r.createElement(c.b,{alignItems:"center",justifyContent:"end",marginLeft:-1,marginRight:-1,display:"flex"},r.createElement(c.b,{paddingX:1},r.createElement(c.c,{inline:!0,onClick:this.props.onHide,text:o.a._("Cancel"),size:"md"})),r.createElement(c.b,{paddingX:1},r.createElement(c.c,{color:"red",disabled:!p||this.state.buttonLoading,inline:!0,type:"submit",onClick:this.handleSubmit,text:d,size:"md"})));return r.createElement(i.a,{accessibilityCloseLabel:o.a._("Close"),accessibilityModalLabel:u,onDismiss:this.props.onHide,heading:u,footer:m,size:"md"},s?r.createElement(c.b,null,r.createElement(c.b,{display:"flex",padding:4},r.createElement(c.b,{marginRight:3,xs:{column:4}},r.createElement(c.q,{htmlFor:"changePasswordOld"},r.createElement(c.K,{bold:!0},o.a._("Old password")))),r.createElement(c.b,{flex:"grow"},r.createElement(c.M,{autoComplete:"current-password",errorMessage:n[0],id:"changePasswordOld",name:"old",onChange:function(t){var n=t.value;return e.updateAndValidate("oldPassword",n)},type:"password",value:this.state.oldPassword}),r.createElement(c.b,{marginTop:1,overflow:"hidden"},r.createElement(c.c,{inline:!0,onClick:this.handleForgotPassword,text:o.a._("Forgot it?"),size:"md"})))),r.createElement(c.j,null)):null,r.createElement(y,{divide:!0,htmlFor:"changePasswordNew",label:o.a._("New password")},r.createElement(c.b,{flex:"grow"},r.createElement(c.M,{autoComplete:"new-password",errorMessage:a[0],id:"changePasswordNew",name:"new",onChange:function(t){var n=t.value;return e.updateAndValidate("newPassword",n)},type:"password",value:this.state.newPassword}))),r.createElement(y,{htmlFor:"changePasswordNewConfirm",label:o.a._("Type it again")},r.createElement(c.b,{flex:"grow"},r.createElement(c.M,{autoComplete:"new-password",errorMessage:l[0],id:"changePasswordNewConfirm",name:"new_confirm",onChange:function(t){var n=t.value;return e.updateAndValidate("repeatPassword",n)},type:"password",value:this.state.repeatPassword}))))}}])&&d(n.prototype,g),w&&d(n,w),t}();t.a=g},QtSf:function(e,t,n){"use strict";t.a=function(e,t){var n;return t.some(function(t){var r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)}),n}},RQRm:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r={type:"OPEN_GDPR_MODAL"},a={type:"OPEN_GDPR_PARENT_CONSENT_MODAL"},o={type:"CLOSE_GDPR_MODAL"},i=function(e){return{openGDPRModal:function(){return e(r)},openGDPRParentConsentModal:function(){return e(a)},closeGDPRModal:function(){return e(o)}}}},RuD8:function(e,t){e.exports="https://s.pinimg.com/webapp/style/images/fix_email-f5fbe7f8.png"},hGZ8:function(e,t,n){"use strict";var r=n("GyhR"),a=n("iz36"),o=n("KCDi"),i=n("2Npu");t.a=Object(i.a)(function(e){return r.createElement(a.a,{placementId:e.placementId,type:10},function(t){var n=t.complete,a=t.dismiss,i=t.display_data,l=i.link||e.linkUrl;return r.createElement(o.a,{duration:i.duration,href:l,text:i.text,onClick:function(){n(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&e.contextLog(101,{objectId:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:function(){e.onHide(),e.completionOnDismissal?n():a()}})})})},kAB2:function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),o=n("+U6O");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=["#4A90E2","#0FA573","#B469EB","#F13535","#E2780D"],m=120,f=800,h=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},b=function(e){return e*(Math.PI/180)},y=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];return a=this,o=(e=s(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==i(o)&&"function"!=typeof o?u(a):o,d(u(u(n)),"animationTimer",null),d(u(u(n)),"canvasRemovalTimer",null),d(u(u(n)),"containerRef",Object(r.createRef)()),d(u(u(n)),"buildCanvas",function(){if(!n.containerRef.current)return null;var e=n.containerRef.current.getBoundingClientRect(),t=e.height,r=e.width,a=2.5*t,o=document.createElement("canvas");return o.style.position="absolute",o.style.left="".concat(0-(a-r)/2,"px"),o.style.top="".concat(0-(a-t)/2,"px"),o.style.pointerEvents="none",o.style.width="".concat(a,"px"),o.style.height="".concat(a,"px"),o.style.overflow="visible",o.width=a,o.height=a,o}),d(u(u(n)),"explode",function(){var e=n.buildCanvas();if(e){var t=n.containerRef.current,r=e.getContext("2d");t.prepend(e);!function e(t,n,r,a){window.requestAnimationFrame(function(){return e(t,n,r,a)}),n.clearRect(0,0,r,a),t.forEach(function(e,t){e.x+=e.speed*Math.cos(b(e.degree)),e.y+=e.speed*Math.sin(b(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(Array.from(Array(m)).map(function(t,n){return{x:e.width/2,y:e.height/2,radius:Math.round(h(10,30)),color:p[Math.floor(Math.random()*p.length)],degree:Number(h(0,360).toFixed(1)),speed:Math.round(h(0,25)),friction:.9,opacity:Number(h(0,.5).toFixed(1)),yVel:0,gravity:.04}}),r,e.width,e.height),n.canvasRemovalTimer=setTimeout(function(){t.removeChild(e)},n.props.delay+f)}}),n}var n,y,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["PureComponent"]),n=t,(y=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,a=e.startAnimation;r&&a!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return a.a.createElement(o.b,{ref:this.containerRef,position:"relative"},this.props.children)}}])&&l(n.prototype,y),g&&l(n,g),t}();d(y,"defaultProps",{delay:0}),t.a=y}}]);