(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinFeedbackButtonCommon",30],{CtGn:function(e,t,n){"use strict";var o=n("GyhR");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),d=0;d<c;d++)s[d]=arguments[d];return o=this,a=(e=i(t)).call.apply(e,[this].concat(s)),n=!a||"object"!==r(a)&&"function"!=typeof a?l(o):a,u(l(l(n)),"state",{hovered:!1,active:!1,focused:!1}),u(l(l(n)),"handleBlur",function(){n.setState({focused:!1})}),u(l(l(n)),"handleFocus",function(){n.setState({focused:!0})}),u(l(l(n)),"handleMouseDown",function(){n.setState({active:!0})}),u(l(l(n)),"handleMouseEnter",function(){n.setState({hovered:!0})}),u(l(l(n)),"handleMouseLeave",function(){n.setState({active:!1,hovered:!1})}),u(l(l(n)),"handleMouseUp",function(){n.setState({active:!1})}),n}var n,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["Component"]),n=t,(s=[{key:"render",value:function(){var e=this.state,t=e.active,n=e.focused,o=e.hovered,r=this.handleBlur,a=this.handleFocus,i=this.handleMouseDown,c=this.handleMouseEnter,l=this.handleMouseLeave,u=this.handleMouseUp;return this.props.children({active:t,focused:n,hovered:o,onBlur:r,onFocus:a,onMouseDown:i,onMouseEnter:c,onMouseLeave:l,onMouseUp:u})}}])&&a(n.prototype,s),d&&a(n,d),t}();t.a=s},Kb0Y:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n("GyhR"),r=n.n(o),a=n("+U6O");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"},f=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return o=this,r=(e=l(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==i(r)&&"function"!=typeof r?s(o):r,d(s(s(n)),"state",{hovered:!1}),d(s(s(n)),"handleMouseEnter",function(e){return n.setState({hovered:!0})}),d(s(s(n)),"handleMouseLeave",function(e){return n.setState({hovered:!1})}),n}var n,f,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["PureComponent"]),n=t,(f=[{key:"render",value:function(){var e=this.props,t=e.bold,n=e.icon,o=e.text,i=e.description,c=e.isContextMenuV2Exp,l=Array.isArray(o)?o.join(""):o;return r.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement(a.b,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",display:"flex",direction:"row",overflow:"hidden",paddingX:4,paddingY:2,marginStart:-1,marginEnd:-1,title:l},!c&&n&&r.a.createElement(a.b,{flex:"none",padding:1},"unfollow"===n?r.a.createElement(a.n,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:p,size:16}):r.a.createElement(a.n,{accessibilityLabel:"",color:"darkGray",icon:n,size:16})),r.a.createElement(a.b,{flex:"grow",display:"flex",direction:c?"row":"column",padding:1,width:"100%",alignItems:c?"center":"start"},r.a.createElement(a.K,{bold:t,size:c?"sm":"md",color:"darkGray"},o),r.a.createElement(a.b,{display:"flex",alignItems:"center"},!c&&i&&r.a.createElement(a.b,{marginTop:1},r.a.createElement(a.K,{color:"darkGray",overflow:"normal"},i))))))}}])&&c(n.prototype,f),b&&c(n,b),t}();d(f,"defaultProps",{bold:!0})},VUfZ:function(e,t){e.exports={ReasonToChoose:{UNKNOWN:0,REPIN_BOARD:1,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,USER_ACTIVITY:4,FOLLOWED_INTEREST:5,RECENT_FOLLOWED_INTEREST:59,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,CLICKTHROUGH:9,BOARD_FOLLOW:35,RECENT_FOLLOWED_BOARD:61,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,LOCAL_REPIN_BOARD:13,SEARCH:46,P2P:14,PROMOTED_PIN:15,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_COMMERCE:21,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLICKTHROUGH:28,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,INSTANT_PFY:34,INSTANT_PFY_NON_MATERIALIZABLE:36,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,RECOMMENDED_TOPICS:65,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS:70,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,NAVBOOST_P2P:88,NAVBOOST_PFY:89,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS:97,NUX_GRAPHSAGE:99,TOPIC_BEST_PINS_V3:101,GEMINI_INTERESTS_FRESH:104,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515}}},aaO7:function(e,t,n){"use strict";function o(e,t,n,o){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:o}}}function r(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function a(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function i(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c})},ce8s:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("CtGn");t.a=function(e){var t=e.accessibilityLabel,n=e.children,o=e.className,i=e.dataTestId,c=e.onClick,l=e.style;return r.a.createElement(a.a,null,function(e){var a=e.active,u=e.focused,s=e.hovered,d=e.onBlur,p=e.onFocus,f=e.onMouseDown,b=e.onMouseEnter,m=e.onMouseLeave,_=e.onMouseUp;return r.a.createElement("button",{"data-test-id":i,"aria-label":t,style:l,onBlur:d,onFocus:p,onMouseDown:f,onMouseEnter:b,onMouseLeave:m,onMouseUp:_,onClick:c,className:o},n({active:a,focused:u,hovered:s}))})}},d9lF:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("ce8s"),i=n("+U6O");function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},s=function(e){var t=e.accessibilityLabel,n=e.active,o=e.focused,a=e.hovered,l=e.icon,s=e.isSVG,d={borderRadius:"50%"};return a&&(d=c({},d,{backgroundColor:"rgb(226, 226, 226)"})),n&&(d=c({},d,{backgroundColor:"rgb(218, 218, 218)"})),o&&(d=c({},d,u)),r.a.createElement(i.b,{"data-test-id":"lego-icon-wrapper",color:"transparent",shape:"circle",dangerouslySetInlineStyle:{__style:d}},r.a.createElement(i.b,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:44,minWidth:44}}},s&&r.a.createElement(i.n,{accessibilityLabel:t,dangerouslySetSvgPath:{__path:l},color:"darkGray",inline:!0,size:20}),!s&&r.a.createElement(i.n,{accessibilityLabel:t,icon:l,color:"darkGray",inline:!0,size:20})))};t.a=function(e){var t=e.accessibilityLabel,n=e.handleClick,o=e.icon,i=e.isSVG,c=e.shadowType;return r.a.createElement(a.a,{accessibilityLabel:t,className:c||"",dataTestId:"lego-button",onClick:n,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"}},function(e){var n=e.active,a=e.hovered,c=e.focused;return r.a.createElement(s,{active:n,accessibilityLabel:t,hovered:a,focused:c,icon:o,isSVG:i})})}},nZV1:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var o=n("ePT2"),r=function(){};var a={complaint:function(e,t){o.a.create("PinFeedbackResource",e).callUpdate().then(function(){return t()})},enablePFY:function(e,t){o.a.create("PFYPreferenceResource",e).callCreate().then(function(){return t()})},followBoard:function(e,t){o.a.create("BoardFollowResource",e).callCreate().then(function(){return t()})},followPinner:function(e,t){o.a.create("UserFollowResource",e).callCreate().then(function(){return t()})},followTopic:function(e,t){o.a.create("InterestFollowResource",e).callCreate().then(function(){return t()})},newsHubPinHide:function(e,t){o.a.create("NewsHubPinFeedbackResource",e).callUpdate().then(function(){return t()})},promotedComplaint:function(e,t){o.a.create("PinFeedbackResource",e).callUpdate().then(function(){return t()})},relatedPinHide:function(e,t){o.a.create("RelatedPinFeedbackResource",e).callUpdate().then(function(){return t()})},reportPin:function(e,t){t()},unfollowBoard:function(e,t){o.a.create("BoardFollowResource",e).callDelete().then(function(){return t()})},unfollowPinner:function(e,t){o.a.create("UserFollowResource",e).callDelete().then(function(){return t()})},unfollowTopic:function(e,t){o.a.create("InterestFollowResource",e).callDelete().then(function(){return t()})},unrelatedSearchPin:function(e,t){o.a.create("SearchPinFeedbackResource",e).callUpdate().then(function(){return t()})}},i=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=a[e];return o?o(t,n):n()}},w8LQ:function(e,t,n){"use strict";n.r(t),n.d(t,"PinFeedbackButton",function(){return I});var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("Qo1m"),c=n("d9lF"),l=n("YOfJ"),u=n("wSOZ"),s=n("9Y9K"),d=n("UmN8"),p=n("NmcB"),f=n("aaO7"),b=n("OtLr"),m=n("+U6O");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return o=this,r=(e=y(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==_(r)&&"function"!=typeof r?h(o):r,O(h(h(n)),"state",{showPinFeedbackFlyout:!1}),O(h(h(n)),"setAnchor",function(e){n.anchor=e}),O(h(h(n)),"showConfirmation",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(f.a)(o,{title:i.a._("Pin reported.")}))}),O(h(h(n)),"handleFeedbackButtonClick",function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),n.state.showPinFeedbackFlyout?n.dismissFlyout():n.setState({showTooltipFlyout:!1},function(){n.setState({showPinFeedbackFlyout:!0})}),n.handleButtonClickLogging()}),O(h(h(n)),"dismissFlyout",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(f.c)(o)),n.setState({showPinFeedbackFlyout:!1,showTooltipFlyout:!1})}),O(h(h(n)),"dismissTooltipFlyout",function(){var e=n.props,t=e.isHomefeedContextualMenuTooltip,o=e.experienceClient;n.setState({showTooltipFlyout:!1,showPinFeedbackFlyout:!1},function(){n.setState({showPinFeedbackFlyout:!0})}),t&&o.completeExperience(1000116,501093),n.handleButtonClickLogging()}),O(h(h(n)),"handleLinkClick",function(){n.state.showPinFeedbackFlyout&&n.dismissFlyout()}),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,o["Component"]),n=t,s=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.isHomefeedContextualMenuTooltip,o=e.experienceClient;return n&&void 0===t.showTooltipFlyout?(o.viewExperience(1000116,501093),{showTooltipFlyout:!0}):null}}],(a=[{key:"handleButtonClickLogging",value:function(){var e=this.props,t=e.feedbackType,n=e.pinId,o=e.viewParameter,r=e.viewType;Object(p.a)(101,{objectId:n,view:r,viewParameter:o,element:981,component:0,feedback_type:t})}},{key:"renderPinFeedback",value:function(){var e=this,t=this.props,n=t.ad_match_reason,o=t.board,a=t.feedbackType,i=t.feedbackData,c=t.hideDownload,l=t.pinId,s=t.pinImage,p=t.bestPinImgSrc,f=t.pinDescription,b=t.pinTitle,m=t.pinCategory,_=t.pinner,E=t.promoter,y=t.recommendationReason,T=t.reportPin,h=t.sourceInterest,O=t.viewParameter,I=t.viewType;return r.a.createElement(d.a,{name:"web_homefeed_control_contextual_menu_v2"},function(t){var d=t.anyEnabled;return r.a.createElement(u.a,{ad_match_reason:n,board:o,feedbackType:a,feedbackData:i,hideDownload:!!c,isContextMenuV2Exp:d,onContentChanged:function(){return e.forceUpdate()},onLinkClick:e.handleLinkClick,onHide:e.dismissFlyout,pinId:l,pinImgSrc:s,bestPinImgSrc:p,pinDescription:f,pinCategory:m,pinTitle:b,pinner:_,promoter:E,recommendationReason:y,reportPin:T,sourceInterest:h,viewParameter:O,viewType:I})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.inLegoCloseupView,o=void 0!==n&&n,a=t.isPromoted,u=this.state,s=u.showTooltipFlyout,p=u.showPinFeedbackFlyout;return r.a.createElement(m.b,null,r.a.createElement(m.b,{ref:this.setAnchor},o&&a?r.a.createElement(c.a,{accessibilityLabel:i.a._("send feedback","accessibility lable to send feedback regarding the promoted pin"),handleClick:function(t){return e.handleFeedbackButtonClick({event:t})},icon:"ellipsis"}):r.a.createElement(m.o,{accessibilityLabel:i.a._("More information"),icon:"ellipsis",iconColor:"gray",onClick:this.handleFeedbackButtonClick,size:this.props.size})),!p&&s&&r.a.createElement(l.a,{anchor:this.anchor,idealDirection:"right",onDismiss:this.dismissTooltipFlyout,size:"sm",color:"blue"},r.a.createElement(m.b,{padding:4},r.a.createElement(m.K,{color:"white",bold:!0,size:"lg"},i.a._("Click here to hide a Pin you don't like","Tooltip text showing how to hide a Pin")),r.a.createElement(m.b,{marginTop:5},r.a.createElement(m.c,{color:"white",text:i.a._("Got it!","Dismiss button for tooltip"),onClick:this.dismissTooltipFlyout,size:"sm"})))),p&&r.a.createElement(l.a,{anchor:this.anchor,idealDirection:"right",onDismiss:this.dismissFlyout,size:"md"},this.renderPinFeedback()),s&&r.a.createElement(d.a,{name:"web_homefeed_control_contextual_menu_v2",activate:!1},function(t){var n=t.group;return n.includes("enabled")&&n.includes("pulsar")&&r.a.createElement(m.b,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(m.b,{shape:"circle",width:90,height:90,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}}},r.a.createElement(m.P,{onTouch:e.dismissTooltipFlyout,shape:"circle"},r.a.createElement(m.A,{size:90}))))}))}}])&&E(n.prototype,a),s&&E(n,s),t}();O(I,"defaultProps",{size:"xs"}),t.default=Object(s.compose)(Object(a.connect)(),b.a)(I)},wSOZ:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("wxfF"),c=n("Kb0Y"),l=n("rSK6"),u=n("Qo1m"),s=n("iJ35"),d=n("E/Qu"),p=n("9Y9K"),f=n("JU/q"),b=n("Irlq"),m=n("VUfZ"),_=n("NmcB"),E=n("JsRk"),y=n("aaO7"),T=n("2YES"),h=n("+U6O"),O=n("nZV1");function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){v(e,t,n[t])})}return e}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={color:"white",textDecorationColor:"white"},C=function(e){function t(e){var n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=R(t).call(this,e),n=!a||"object"!==I(a)&&"function"!=typeof a?N(o):a,v(N(N(n)),"getRecommendationDescription",function(){var e=n.props,t=e.ad_match_reason,o=e.board,r=e.feedbackType,a=e.pinner,i=e.promoter,c=e.recommendationReason,l=e.sourceInterest;return n.feedbackHelpers.getRecommendationDescription({ad_match_reason:t,board:o,feedbackType:r,makeNavigateLink:n.makeNavigateLink,pinner:a,promoter:i,recommendationReason:c,sourceInterest:l})}),v(N(N(n)),"getRecommendationDescriptionImage",function(){var e,t,o,a=n.props,i=a.board,c=a.feedbackType,l=a.pinner,u=a.recommendationReason;return"followed"!==c&&"pfyBoard"!==c?null:(l&&l.explicitly_followed_by_me?(e=l.image_small_url,t="50%",o="/".concat(l.username)):i&&i.image_thumbnail_url&&(e=i.image_thumbnail_url,t="4px",o=u&&u.board&&u.board.url||i.url),e?r.a.createElement(h.b,{marginStart:3,flex:"none",dangerouslySetInlineStyle:{__style:{borderRadius:t}},overflow:"hidden"},r.a.createElement(h.P,{onTouch:function(){return n.props.router.push(o)}},r.a.createElement(h.u,{width:40,height:40,wash:!0},r.a.createElement(h.p,{src:e,naturalHeight:1,naturalWidth:1,alt:"",fit:"cover"})))):null)}),v(N(N(n)),"getUnfollowAction",function(){var e=n.props,t=e.board,o=e.feedbackType,r=e.pinner,a=e.sourceInterest;return n.feedbackHelpers.getUnfollowAction({board:t,feedbackType:o,makeNavigateLink:n.makeNavigateLink,pinner:r,sourceInterest:a})}),v(N(N(n)),"getUndoText",function(e){return"unfollowPinner"===e||"unfollowBoard"===e?u.a._("Follow again","Caption for button to undo a unfollowing of a topic"):""}),v(N(N(n)),"generateUndoHideCallback",function(e,t){return function(){var o=n.props,r=o.dispatch,a=o.pinId,i=o.viewType,c=o.viewParameter,l=P({},e,{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),Object(O.a)(u,l),r(Object(y.b)(a)),Object(_.a)(101,{component:0,element:11181,view:i,viewParameter:c})}}),v(N(N(n)),"feedbackHelpers",Object(l.a)({i18n:u.a,interpolateNamedTemplate:b.b,isContextMenuV2Exp:n.props.isContextMenuV2Exp})),v(N(N(n)),"makeNavigateLink",function(e,t,o,a){var i=P({display:"inline"},a?k:{});return r.a.createElement(s.b,{className:"underlineLink",key:e,to:t,onClick:n.props.onLinkClick},r.a.createElement(h.b,{dangerouslySetInlineStyle:{__style:i}},o))}),v(N(N(n)),"reportPinOption",function(){return{action:"reportPin",elementType:974,icon:"report",text:n.props.isContextMenuV2Exp?u.a._("Report Pin","Report a pin in the dropdown"):u.a._("Report","Report a pin in the dropdown"),description:u.a._("This goes against Pinterest's community guidelines","Description for the report pin option"),callback:n.props.reportPin}}),v(N(N(n)),"hidePinOption",function(e){var t=n.props,o=t.feedbackData,r=t.feedbackType,a=t.pinId,i=t.isContextMenuV2Exp,c=t.recommendationReason,l="search"===r?973:982,s=n.feedbackHelpers.getHidePinAction({feedbackData:o,feedbackType:r,pinId:a,recommendationReasonId:i&&c&&c.reason&&m.ReasonToChoose[c.reason],pinFeedbackType:i&&("pfy"===r?4:10),throughId:c&&n.getThroughId()}),d=s.action,p=s.actionOptions;u.a._("Hide","message displayed in pin feedback list");var f=i&&"promoted"!==r?u.a._("I don't like this Pin","message displayed in pin feedback list"):u.a._("Hide","message for the hide pin option");return{action:d,actionOptions:p,feedbackText:n.pinHiddenFeedbackText(e),icon:"cancel",text:f,description:u.a._("See fewer Pins like this","Description for the hide pin option"),elementType:l}}),v(N(N(n)),"stopRecommendationOption",function(){var e=n.props,t=e.feedbackData,o=e.feedbackType,r=e.pinId,a=e.recommendationReason,i=a.board,c=a.reason,l=c&&m.ReasonToChoose[c],s=a&&n.getThroughId(),d="pfyBoard"===o,p=n.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:o,pinId:r,recommendationReasonId:l,pinFeedbackType:d?2:4,throughId:s}),f=p.action,_=p.actionOptions,E=!!i&&n.makeNavigateLink("boardUrl",i.url,i.name,!0);return{action:f,actionOptions:_,feedbackText:{subTitle:d&&i?Object(b.b)(u.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:E}):u.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin")},text:d&&i?Object(b.b)(u.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:i.name}):u.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin"),elementType:284}}),v(N(N(n)),"unfollowBoardOption",function(){var e=n.props,t=e.board,o=e.isContextMenuV2Exp,r=n.makeNavigateLink("boardUrl",t.url,t.name,!0),a=o?Object(b.b)(u.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:t.name}):u.a._("Unfollow board","Primary caption displayed in pin feedback list to unfollow a board"),i=o?Object(b.b)(u.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board"),{formattedBoard:r}):Object(b.b)(u.a._("You’ve unfollowed the board {{ formattedBoard }}.\n         You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedBoard:r});return{action:"unfollowBoard",actionOptions:{board_id:t.id},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain board"),subTitle:i},icon:"unfollow",text:a,description:Object(b.b)(u.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:t.name}),elementType:10614}}),v(N(N(n)),"unfollowTopicOption",function(){var e=n.props,t=e.sourceInterest,o=e.isContextMenuV2Exp;if(t){var r=t.id,a=t.name,i=t.url_name,c="/topics/".concat(i),l=n.makeNavigateLink("topicUrl",c,a,!0),s=o?Object(b.b)(u.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:a}):u.a._("Unfollow topic","Primary caption displayed in pin feedback list to unfollow a topic"),d=o?Object(b.b)(u.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:l}):Object(b.b)(u.a._("Got it! We won’t show you Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:r,interest_list:f.a},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain topic"),subTitle:d},icon:"unfollow",text:s,description:Object(b.b)(u.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:t.name}),elementType:976}}return null}),v(N(N(n)),"unfollowUserOption",function(){var e=n.props,t=e.pinner,o=e.isContextMenuV2Exp,r=t.id,a=t.username,i=t.full_name,c="/".concat(a),l=n.makeNavigateLink("pinnerUrl",c,i,!0),s=o?Object(b.b)(u.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user"),{formattedUser:l}):Object(b.b)(u.a._("You’ve unfollowed {{ formattedUser }}. You can follow again by searching for them.","Confirmation text after unfollowing a user"),{formattedUser:l});return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain user"),subTitle:s},icon:"person",text:Object(b.b)(u.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:u.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}}),v(N(N(n)),"downloadPinOption",function(){return{action:"downloadPin",icon:"download",text:u.a._("Download image","Button to download Pin image"),elementType:10836}}),v(N(N(n)),"_pinFeedbackText",function(){var e=n.props,t=e.location,o=e.feedbackType,r=e.hideDownload,a=e.isContextMenuV2Exp,i=e.pinner,c="followed"===n.props.feedbackType,l=t.pathname.includes("following"),s=(c||"topic"===o)&&!l,d=n.hidePinOption(s),p=n.reportPinOption(),f="promoted"!==o&&!r;switch(o){case"followed":var b=l,m=!b&&n.getRecommendationDescription(),_=i.explicitly_followed_by_me?n.unfollowUserOption():n.unfollowBoardOption();return P({},m?{description:m}:{},{options:a?[d].concat(w(s||b?[_]:[]),w("promoted"!==o?[n.downloadPinOption()]:[]),[p]):w(s?[n.unfollowBoardOption()]:[]).concat(w("promoted"!==o?[n.downloadPinOption()]:[]),[d,p],w(b?[n.unfollowBoardOption(),n.unfollowUserOption()]:[]))});case"promoted":var E=n.props.ad_match_reason,y=[d,{icon:"question-mark",link:n.feedbackHelpers.getLearnMoreUrl(E),text:u.a._("Why am I seeing this ad?","Link to promoted pins explanation page")},p];return{description:n.getRecommendationDescription(),options:y};case"topic":var T=n.unfollowTopicOption(),h=a?[d].concat(w(s&&T?[T]:[]),w(f?[n.downloadPinOption()]:[]),[p]):w(s&&T?[T]:[]).concat(w(f?[n.downloadPinOption()]:[]),[d,p]);return{description:n.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":var O=a?[d].concat(w("pfyBoard"===o?[n.stopRecommendationOption()]:[]),w(f?[n.downloadPinOption()]:[]),[p]):w(f?[n.downloadPinOption()]:[]).concat([d,p]);return{description:n.getRecommendationDescription(),options:O};default:var I=a?[d].concat(w(f?[n.downloadPinOption()]:[]),[p]):w(f?[n.downloadPinOption()]:[]).concat([d,p]);return{description:n.getRecommendationDescription(),options:I}}}),v(N(N(n)),"handleSecondaryFeedbackItemClick",function(e,t){var o=n.props,r=o.feedbackData,a=o.feedbackType,i=o.pinId,c=o.onHide,l=o.recommendationReason,u=l&&l.reason&&m.ReasonToChoose[l.reason],s=l&&n.getThroughId(),d=n.feedbackHelpers.getHidePinAction({feedbackData:r,feedbackType:a,pinId:i,recommendationReasonId:u,throughId:s,complaintReason:e}),p=d.action,f=d.actionOptions;n.handleClickLogging(t),Object(O.a)(p,f),c()}),v(N(N(n)),"pinHiddenFeedbackText",function(e){var t=n.props.isContextMenuV2Exp,o=e?null:n.getUnfollowAction();return o?{title:t?"":u.a._("Pin hidden","Pin feedback"),subTitle:n.getRecommendationDescription(),unfollow:o}:{title:t?"":u.a._("Pin hidden","message displayed after hiding a pin"),subTitle:t?u.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin"):u.a._("Got it! We'll try to show you more relevant Pins in the future.","message displayed after hiding a pin")}}),v(N(N(n)),"renderSecondaryFeedbackItem",function(e){var t=e.text,o=e.reason,a=e.elementType,i=n.props.isContextMenuV2Exp;return r.a.createElement(h.P,{onTouch:function(){return n.handleSecondaryFeedbackItemClick(o,a)},fullWidth:!1,key:t},r.a.createElement(c.a,{text:t,isContextMenuV2Exp:i}))}),v(N(N(n)),"renderSecondaryFeedback",function(){var e=n.props.feedbackType;u.a._("Blurry or pixelated image","low quality picture");var t="promoted"===e?[{text:u.a._("Not my taste","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Low-quality image",""),reason:13,elementType:10898},{text:u.a._("Seen Pin too many times",""),reason:3,elementType:11172}]:[{text:u.a._("Not my taste","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Not in a language I understand",""),reason:15,elementType:11178},{text:u.a._("Low-quality image",""),reason:13,elementType:10898},{text:u.a._("Seen Pin too many times",""),reason:3,elementType:295},{text:u.a._("Other",""),reason:8,elementType:11179}];return r.a.createElement(h.b,{overflow:"hidden",width:"100%",shape:"rounded"},r.a.createElement(h.b,{paddingX:4,paddingY:4},r.a.createElement(h.K,{color:"darkGray",size:"sm"},u.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback"))),r.a.createElement(h.j,null),r.a.createElement(h.b,{paddingY:2},t.map(n.renderSecondaryFeedbackItem)))});var i=n._pinFeedbackText();return n.state={pinFeedbackConfig:i,showSecondary:!1},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),n=t,(o=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(O.a)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,o){var r=this.props,a=r.dispatch,i=r.onHide,c=r.pinId,l=r.isContextMenuV2Exp;a(t&&n&&o?Object(y.e)(c,e,this.generateUndoHideCallback(n,o),this.getUndoText(o)):Object(y.a)(c,e)),!l||!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?i():(this.setState({showSecondary:!0}),a(Object(y.d)(c)))}},{key:"getThroughId",value:function(){var e=this.props.recommendationReason;return e.reason_id?e.reason_id:e.board?e.board.id:e.pin?e.pin.id:e.interest?e.interest.id:""}},{key:"getComponentType",value:function(){switch(this.props.feedbackType){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}},{key:"makeStrongText",value:function(e,t){return r.a.createElement("strong",{key:e},t)}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.viewParameter,r=n.viewType;Object(_.a)(101,P({},t,{view:r,viewParameter:o,element:e,component:this.getComponentType()}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.bestPinImgSrc,n=e.pinTitle,o=e.pinDescription,a=e.pinCategory,l=e.isContextMenuV2Exp;return r.a.createElement(i.a,{imgSrc:t,filename:n||o,category:a},function(e){return r.a.createElement(h.P,{onTouch:e,fullWidth:!1},r.a.createElement(c.a,{text:u.a._("Download image","Button to download Pin image"),icon:"download",isContextMenuV2Exp:l}))})}},{key:"renderButtons",value:function(){for(var e=this,t=this.props.isContextMenuV2Exp,n=this.state.pinFeedbackConfig.options,o=[],a=n.length,i=function(i){var l=n[i],u=!t&&i<a-1,p=O.b.includes(l.action),f=l.callback?l.callback:function(){return e.onPinHide(l.feedbackText,p,l.actionOptions,l.action)};"downloadPin"!==l.action?o.push(r.a.createElement(h.b,{key:i},l.link?r.a.createElement(s.b,{external:!0,to:l.link},r.a.createElement(c.a,{text:l.text,icon:l.icon,description:l.description,isContextMenuV2Exp:t})):r.a.createElement(h.P,{onTouch:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,l,f)},fullWidth:!1},r.a.createElement(c.a,{text:l.text,icon:l.icon,description:l.description,isContextMenuV2Exp:t})),u&&r.a.createElement(h.j,null))):"undefined"!=typeof window&&"windows"!==Object(d.b)(window)&&o.push(r.a.createElement(h.b,{key:i},e.renderDownloadButton(),u&&r.a.createElement(h.j,null)))},l=0;l<a;l+=1)i(l);return o}},{key:"render",value:function(){var e=this.props.isContextMenuV2Exp,t=this.state,n=t.pinFeedbackConfig,o=t.showSecondary,a=n.description,i=this.getRecommendationDescriptionImage();return e?r.a.createElement(h.b,{overflow:"hidden",width:"100%"},o?this.renderSecondaryFeedback():r.a.createElement(h.b,null,a&&r.a.createElement(h.b,null,r.a.createElement(h.b,{padding:4,display:"flex",alignItems:"center"},r.a.createElement(h.b,{maxHeight:52,overflow:"hidden"},r.a.createElement(h.K,{color:"darkGray",size:"sm",overflow:"normal"},a)),i),r.a.createElement(h.j,null)),r.a.createElement(h.b,{marginTop:2,marginBottom:3},this.renderButtons()))):r.a.createElement(h.b,{overflow:"hidden",width:"100%"},this.renderButtons(),a&&r.a.createElement(h.b,null,r.a.createElement(h.j,null),r.a.createElement(h.b,{paddingX:4,paddingY:3},r.a.createElement(h.K,{color:"darkGray"},a))))}}])&&S(n.prototype,o),a&&S(n,a),t}();t.a=Object(p.compose)(Object(a.connect)(),T.e,E.withRouter)(C)},wxfF:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("GyhR"),r=n("ggpB"),a=n("+U6O");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=new Array(c),p=0;p<c;p++)u[p]=arguments[p];return o=this,a=(e=l(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==i(a)&&"function"!=typeof a?s(o):a,d(s(s(n)),"state",{href:void 0}),d(s(s(n)),"onEvent",function(){if("undefined"!=typeof window){var e=n.props,t=e.imgSrc,o=e.isUnauth,a=e.category;null==n.state.href&&fetch(t,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then(function(e){return e.blob()}).then(function(e){n.setState({href:window.URL.createObjectURL(e)},function(){n.imageDownload&&n.imageDownload.click()})}).catch(function(){return n.setState({href:n.DOWNLOAD_ERROR})}),Object(r.a)("web.".concat(o?"unauth":"auth",".download.click.").concat(a||"no_category"))}}),d(s(s(n)),"DOWNLOAD_ERROR","error"),n}var n,p,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["Component"]),n=t,(p=[{key:"render",value:function(){var e=this,t=this.props.children,n=this.props.filename,r=this.state.href,i=null!=r&&r!==this.DOWNLOAD_ERROR;return o.createElement(o.Fragment,null,t(this.onEvent),i&&o.createElement(a.b,{display:"none"},o.createElement("a",{ref:function(t){return e.imageDownload=t},tabIndex:-1,download:n,href:r})))}}])&&c(n.prototype,p),f&&c(n,f),t}()}}]);