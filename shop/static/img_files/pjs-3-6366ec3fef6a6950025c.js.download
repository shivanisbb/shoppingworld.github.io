(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[3],{"19Gw":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("GyhR"),o=n.n(r),i=n("Qo1m"),a=n("yXM0"),c=n("z/1d"),l=n("+U6O");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){function t(){var e,n,r,o,a,c,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=new Array(s),m=0;m<s;m++)p[m]=arguments[m];return r=this,n=!(o=(e=d(t)).call.apply(e,[this].concat(p)))||"object"!==u(o)&&"function"!=typeof o?f(r):o,a=f(f(n)),c="statsList",l=n.props.isVideo?[{iconType:"play",displayText:i.a._("Video views","Label for views of a video pin on closeup page"),field:"video_views",align:"start"},{iconType:"clock",displayText:i.a._("Avg. time","Label for average time of a video pin on closeup page"),field:"video_average_time",align:"center",valueFormat:"TIME"},{iconType:"angled-pin",displayText:i.a._("Saves","Label for saves of a video pin on closeup page"),field:"save",align:"end"}]:[{iconType:"eye",displayText:i.a._("Impressions","Label for impressions of a pin on closeup page"),field:"impression",align:"start"},{iconType:"angled-pin",displayText:i.a._("Saves","Label for saves of a pin on closeup page"),field:"save",align:"center"},{iconType:"arrow-up-right",displayText:i.a._("Link clicks","Label for click-throughs of a pin on closeup page"),field:"clickthrough",iconSize:10,align:"end"}],c in a?Object.defineProperty(a,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[c]=l,n}var n,m,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(m=[{key:"renderValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"COUNT";return Number.isInteger(e)?"TIME"===t?Object(a.a)(e):o.a.createElement(c.a,{value:e,shortform:!0,shortformMaximumFractionDigits:1}):"-"}},{key:"render",value:function(){var e=this,t=this.props,n=t.isVideo,r=t.stats,i=t.isStoryPin;if(!r)return null;var a=(n||i)&&r.all_time?r.all_time:r["30d"];return a&&0!==Object.keys(a).length?o.a.createElement(l.b,{display:"flex"},this.statsList.map(function(t,n){var r=t.align,i=t.iconType,c=t.iconSize,u=void 0===c?12:c,s=t.field,d=t.displayText,p=t.valueFormat;return o.a.createElement(l.b,{key:n,column:4,display:"flex",justifyContent:r,alignItems:"center"},o.a.createElement(l.b,{display:"inlineBlock",marginRight:1},o.a.createElement(l.n,{accessibilityLabel:d,color:"darkGray",icon:i,size:u})),o.a.createElement(l.K,{inline:!0,size:"sm"},e.renderValue(a[s],p)))})):null}}])&&s(n.prototype,m),y&&s(n,y),t}()},"3BJc":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=function(e){return{type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}}};function o(e,t){return{type:"SET_CURRENT_VIDEO",payload:{pinId:e,currentTime:t}}}function i(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}},AZKp:function(e,t,n){"use strict";t.a={normal:"normal",semibold:600,bold:700}},CwDa:function(e,t,n){"use strict";var r=n("GyhR"),o=n("Mr4W"),i=n("Ivf5"),a=n("dg2R"),c=n("NmcB");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},HybridSearchHero:{impressionType:"hybridSearchHeroImpressions",idType:"hybridSearchHero",eventType:7308},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573}},b=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=new Array(s),b=0;b<s;b++)p[b]=arguments[b];return r=this,i=(e=d(t)).call.apply(e,[this].concat(p)),n=!i||"object"!==l(i)&&"function"!=typeof i?f(r):i,m(f(f(n)),"trackImpression",function(){try{n.node=Object(o.findDOMNode)(f(f(n))),n.node instanceof HTMLElement&&a.b.start(n.node).onExitViewport(n.logImpression).setDebugId(n.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),m(f(f(n)),"logImpression",function(e){var t,r=n.props,o=r.carousel_data,i=r.impressionType,a=r.trackCarousel,l=r.contextLogData,s=r.viewData,d=r.viewType,p=r.viewParameter,f=r.componentType,b=r.objectIdStr,h=r.loggingId,v=r.slotIndex,g=r.impressionAuxFields,_=y[i],w=_.idType,E=u((m(t={endTime:e.endTime},w,h),m(t,"slotIndex",v),m(t,"time",e.startTime),m(t,"renderDuration",e.endTime-e.startTime),t),g);if(a||Object(c.a)(_.eventType,u({viewData:s||{},view:d,viewParameter:p,component:f,objectIdStr:b,eventData:m({},_.impressionType,[E])},l)),o&&a){var O=o.carousel_slots,T=o.index,P=o.id;Object(c.a)(7352,u({viewData:s||{},view:d,viewParameter:p,component:f,objectIdStr:b,eventData:{pinCarouselSlotImpressions:[u({},E,{carouselDataId:Number(P),carouselSlotId:O[T]&&Number(O[T].id),slotIndex:T})]}},l))}}),n}var n,i,b;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){this.props.inImpressionExp&&!a.b.inExperiment&&a.b.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}},{key:"componentDidUpdate",value:function(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}},{key:"componentWillUnmount",value:function(){this.node instanceof HTMLElement&&a.b.stop(this.node)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}])&&s(n.prototype,i),b&&s(n,b),t}();t.a=Object(i.connect)(function(e,t){var n=e.pins,r=t.loggingId;return{carousel_data:n[r]&&n[r].carousel_data}})(b)},E1Qe:function(e,t,n){"use strict";var r=n("hvnN"),o=n.n(r);t.a=o.a.shape({access:o.a.arrayOf(o.a.string),ad_match_reason:o.a.number,aggregated_pin_data:o.a.shape({aggregated_stats:o.a.shape({done:o.a.number,likes:o.a.number,saves:o.a.number}),pin_tags:o.a.arrayOf(o.a.shape({pin_tag_key:o.a.string.isRequired,x_percent:o.a.number.isRequired,y_percent:o.a.number.isRequired}))}),attribution:o.a.shape({embed:o.a.shape({src:o.a.string})}),board:o.a.shape({followed_by_me:o.a.bool,id:o.a.string,url:o.a.string,name:o.a.string}),buyable_product:o.a.shape({display_active_max_price:o.a.string,display_active_min_price:o.a.string,short_description:o.a.string,title:o.a.string}),debug_info_html:o.a.string,description:o.a.string,domain:o.a.string,dominant_color:o.a.string,done_by_me:o.a.bool,embed:o.a.shape({src:o.a.string,type:o.a.string}),id:o.a.string,images:o.a.shape({"236x":o.a.shape({url:o.a.string,height:o.a.number}),"474x":o.a.shape({url:o.a.string,height:o.a.number})}),image_signature:o.a.string,is_quick_promotable:o.a.bool,is_eligible_for_web_closeup:o.a.bool,is_native:o.a.bool,link:o.a.string,native_creator:o.a.shape({username:o.a.string,full_name:o.a.string,id:o.a.string,image_small_url:o.a.string}),per_pin_analytics:o.a.shape({clickthrough:o.a.number,closeup:o.a.number,id:o.a.string,impression:o.a.number,repin:o.a.number,total_engagement:o.a.number,type:o.a.string}),pinner:o.a.shape({explicitly_followed_by_me:o.a.bool,full_name:o.a.string,id:o.a.string,image_small_url:o.a.string}),promoter:o.a.shape({username:o.a.string,full_name:o.a.string,image_small_url:o.a.string}),recommendationReason:o.a.shape({reason:o.a.string,board:o.a.shape({id:o.a.string,name:o.a.string,url:o.a.string}),interest:o.a.shape({id:o.a.string}),pin:o.a.shape({id:o.a.string})}),repin_count:o.a.number,rich_summary:o.a.shape({display_name:o.a.string}),source_interest:o.a.shape({name:o.a.string,url_name:o.a.string,id:o.a.string}),tracked_link:o.a.string,title:o.a.string,type:o.a.string,videos:o.a.shape({}),saved:o.a.bool})},EQo2:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("IqQH"),a=n("PNko"),c=n.n(a),l=n("/Mjl"),u=n("+U6O");function s(e){var t=e.onError,n=e.onLoad,r=e.pin,i=r.title,a=void 0===i?"":i,c=r.dominant_color,s=r.images,d=void 0===s?{}:s,p="".concat(16/9*100,"%"),f=d["236x"].width>d["236x"].height?d["736x"]:d["236x"];return o.a.createElement(u.b,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:p}}},o.a.createElement(u.b,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:l.a.storyPinImage}}},o.a.createElement(u.p,{alt:a,color:c,naturalHeight:f.height,naturalWidth:f.width,onError:t,onLoad:n,src:f.url,fit:"cover"})))}var d=n("UmN8");t.a=function(e){var t,n,r,a,l=e.highResOnly,p=e.lowResOnly,f=e.onError,m=e.onLoad,y=e.pin,b=e.saved,h=void 0!==b&&b,v=y.carousel_data,g=y.description,_=void 0===g?"":g,w=y.dominant_color,E=y.id,O=y.images;if(v)return o.a.createElement(i.a,{onError:f,onLoad:m,highResOnly:l,lowResOnly:p,pinId:E});if(O){var T=l&&(O["736x"]||O.orig||O["474x"])||O["236x"];r=T.height,a=T.width,t=T.url,n=p||l?"".concat(T.url," 1x"):["".concat(O["236x"].url," 1x"),O["474x"]&&"".concat(O["474x"].url," 2x"),O["736x"]&&"".concat(O["736x"].url," 3x"),O.orig&&"".concat(O.orig.url," 4x")].filter(Boolean).join(", ")}return o.a.createElement(u.b,{minHeight:120,display:"flex",alignItems:"center"},o.a.createElement(u.b,{flex:"grow"},o.a.createElement("div",{className:c()({savedGradient:h})},o.a.createElement(d.a,{name:"web_creators_story_pin_display",activate:!0,isEligible:!!y.story_pin_data_id},function(e){return e.anyEnabled?o.a.createElement(s,{pin:y,onError:f,onLoad:m}):o.a.createElement(u.p,{alt:_,color:w,naturalHeight:r,naturalWidth:a,onError:f,onLoad:m,src:t,srcSet:n})}))))}},FSbA:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var r,o=n("ePT2"),i=n("NoZx");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(a(r={},i.a.BOARD_ACTIVITY,"BoardActivityReactionResource"),a(r,i.a.BOARD_ACTIVITY_COMMENT,"BoardActivityCommentReactionResource"),r);function l(e,t,n){return function(r){var c=i.c[t],l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({activityId:e},n);return o.a.create(c,l).callUpdate().then(function(e){var t=e.resource_response.data;return r({type:"ACTIVITY_ITEM_UPDATED",payload:{data:t}}),t})}}function u(e,t,n,r){return function(i){var a=c[n];i(function(e,t){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}}}(e,!r,t));var l={activityId:e,reactionType:t},u=o.a.create(a,l);r?u.callDelete({showError:!1}):u.callCreate({showError:!1})}}},GB3e:function(e,t,n){},"HQ9/":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=function(e,t){return"".concat(e,":").concat(t||"")},o=function(e,t){return e.feeds.profileBoards[r(t.username,t.boardOrder)]},i=function(e,t){return t.isOverview?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"}},HW6o:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("Mr4W"),a=n.n(i),c=n("4+0X");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=new Map,y=null,b=function(e){e.forEach(function(e){var t=m.get(e.target);t&&t(e)})},h=function(e,t){var n={root:document.querySelector("#mainContainer"),rootMargin:"-64px 0px 0px 0px",threshold:[0,1]};y=y||new window.IntersectionObserver(b,n),m.set(e,t),y.observe(e)},v=function(e){return m.has(e)};t.a=function(e){var t=function(t){function n(){var e,t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,u=new Array(i),d=0;d<i;d++)u[d]=arguments[d];return r=this,o=(e=s(n)).call.apply(e,[this].concat(u)),t=!o||"object"!==l(o)&&"function"!=typeof o?p(r):o,f(p(p(t)),"seen",!1),f(p(p(t)),"flushTimeout",null),f(p(p(t)),"attachDenzelNavigateListener",function(){t.denzelNavigateListener=c.a.instance.subscribe("site","navigateStarted",function(e,n,r,o){var i=new RegExp("/pin/[\\w|-]+/$");!o&&r&&"string"==typeof r.url&&i.test(r.url)&&t.leave()})}),f(p(p(t)),"detachDenzelNavigateListener",function(){t.denzelNavigateListener&&(t.denzelNavigateListener.unsubscribe(),delete t.denzelNavigateListener)}),f(p(p(t)),"enter",function(e){var n=e.intersectionRatio>0||e.isIntersecting;t.seen=n,t.seen&&(t.props.onVisibilityChanged(!0),t.attachDenzelNavigateListener())}),f(p(p(t)),"leave",function(){var e=t._node;e&&v(e)&&t.seen&&(t.props.onVisibilityChanged(!1),t.seen=!1,t.detachDenzelNavigateListener())}),f(p(p(t)),"observe",function(){try{t._node=a.a.findDOMNode(p(p(t)))}catch(e){return}if(t._node){var e=t._node;h(e,function(n){if(m.has(e)){var r=t.props.trackFullVisible?n.intersectionRatio>=1:n.intersectionRatio>0||n.isIntersecting,o=t.props.trackFullVisible?0===n.intersectionRatio:!r;!t.seen&&r?t.enter(n):t.seen&&o&&t.leave()}})}}),t}var i,b,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,r.Component),i=n,(b=[{key:"componentDidMount",value:function(){this.observe()}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),function(e){y.unobserve(e),m.delete(e)}(e))}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}])&&u(i.prototype,b),g&&u(i,g),n}();return f(t,"displayName","WithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},Ii6Q:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("ePT2"),o=n("7m1P");function i(e,t){return r.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function a(e,t){return{type:o.a.USER_FOLLOW,payload:{id:e,value:t}}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){i(e,t).callCreate().catch(function(){return n(a(e,!1))}),n(a(e,!0))}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){i(e,t).callDelete().catch(function(){return n(a(e,!0))}),n(a(e,!1))}}},IqQH:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("Ivf5"),a=n("CwDa"),c=n("+U6O");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return r=this,i=(e=s(t)).call.apply(e,[this].concat(u)),n=!i||"object"!==l(i)&&"function"!=typeof i?p(r):i,f(p(p(n)),"state",{showBadge:!0}),f(p(p(n)),"renderBadge",function(){var e=n.props,t=e.carousel_data,r=e.isCloseup,i=e.showCarouselBadge,a=n.state.showBadge,l=t.carousel_slots,u=t.index,s=a?.8:0;return!r&&i?o.a.createElement(c.b,{display:"flex",justifyContent:"center",alignItems:"center",color:"darkGray",position:"absolute",right:!0,height:35,width:35,marginRight:5,marginTop:5,shape:"rounded",dangerouslySetInlineStyle:{__style:{zIndex:1,opacity:s,transition:"opacity .3s"}}},o.a.createElement(c.K,{color:"white",size:"md"},"".concat(u+1,"/").concat(l.length))):null}),n}var n,i,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout(function(){return e.setState({showBadge:!1})},3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carousel_data.index,o=this.props.carousel_data.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(function(){return t.setState({showBadge:!1})},3e3)),r!==o&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e,t=this.props,n=t.isCloseup,r=t.carouselIndex,i=t.closeupHeight,l=t.closeupWidth,u=void 0===l?0:l,s=t.carousel_data,d=t.highResOnly,p=t.lowResOnly,f=t.onError,m=t.onLoad,y=t.pinId,b=t.isEditMode,h=s.carousel_slots,v=void 0===h?[]:h,g=s.index,_=void 0!==r?r:g;return e=n?u:d?474:236,o.a.createElement(c.b,{height:i||"100%",width:e,overflow:"hidden"},!b&&this.renderBadge(),o.a.createElement(a.a,{trackCarousel:!0,key:"carousel-impression-key-".concat(_),impressionType:"Pin",loggingId:y,slotIndex:g,viewParameter:72,viewType:1},o.a.createElement(c.b,{position:"absolute",height:i||"100%",width:e,overflow:"hidden"})),o.a.createElement(c.b,{width:e*v.length,dangerouslySetInlineStyle:{__style:{left:_*e*-1+"px",transition:"left .3s"}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative"},v.map(function(e,t){return function(e,t,n,r,i,a,l,u,s,d){var p,f,m,y,b=e.images,h=e.details,v=void 0===h?"":h;return u?(p=d||0,f=s||0,m=b&&b["564x"].url):r?(p=474,f=b&&Math.min(p/.8,p/(b["564x"].width/b["564x"].height)),m=b&&b["564x"].url):(f=b&&b["236x"].height,p=b&&b["236x"].width,m=b&&b["236x"].url),y=i?"".concat(b["236x"].url," 1x"):r?"".concat(b["564x"].url," 1x"):[b["474x"]&&"".concat(b["474x"].url," 2x"),b["736x"]&&"".concat(b["736x"].url," 3x"),b.orig&&"".concat(b.orig.url," 4x")].filter(Boolean).join(", "),o.a.createElement(c.b,{key:"carousel slot ".concat(t+n),height:f,width:p},o.a.createElement(c.p,{alt:v||"carousel image ".concat(n),naturalHeight:f,naturalWidth:p,onError:a,onLoad:l,src:m,srcSet:y}))}(e,y,t,d,p,f,m,n,u,i)})))}}])&&u(n.prototype,i),m&&u(n,m),t}();f(m,"defaultProps",{showCarouselBadge:!0});t.a=Object(i.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}})(m)},"JU/q":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="favorited"},NoZx:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var r,o=n("Q6EP"),i=n.n(o),a=n("mjrg"),c=n.n(a),l=n("eB/M");function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},p={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},f=(s(r={},p.BOARD,l.a.BOARD_ACTIVITYITEMS),s(r,p.BOARD_ACTIVITY,l.a.BOARD_ACTIVITYCOMMENTS),s(r,p.BOARD_ACTIVITY_COMMENT,l.a.BOARD_ACTIVITYCOMMENTS),r),m={},y=function(e,t){var n=u({},c()({},e,t),t.content?{content:t.content}:{},t.reaction_counts?{reaction_counts:t.reaction_counts}:{});return i()(e,n)?e:n},b=function(e){return e.reduce(function(e,t){if(11===t.activity_type&&t.comment&&t.ref_board_activity){var n=t.comment,r=t.ref_board_activity;n&&r&&(e.push(u({},n,{user:t.user})),e.push(r),e.push(u({},t,{comment:{id:n.id},ref_board_activity:{id:r.id}})))}else e.push(t);return e},[])};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){var n=t.payload,r=n.data,o=n.name,i=n.options;if("BoardActivityCommentFeedResource"===o){var a=(r||[]).reduce(function(t,n){return t[n.id]=y(e[n.id],n),t},{});return u({},e,a)}if("BoardActivityFeedResource"===o){var c=b(r||[]).reduce(function(t,n){return t[n.id]=y(e[n.id],n),t},{});return u({},e,c)}if("BoardActivityResource"===o&&r){var l=r;return u({},e,s({},l.id,y(e[l.id],l)))}if("BoardActivityCommentResource"===o&&r){var d=r,f=s({},d.id,y(e[d.id],d));if(d.root_board_activity){var h=d.root_board_activity.id;f[h]=y(e[h],d.root_board_activity)}return u({},e,f)}if("NewsHubDetailsResource"===o&&r&&r.length>0&&r[0].content_items){var v={};return r.forEach(function(e){e.content_items.forEach(function(e){var t=e.content_object&&e.content_object.type;if(t===p.BOARD_ACTIVITY_COMMENT||t===p.BOARD_ACTIVITY){var n=e.content_object;b([n]).forEach(function(e){return v[e.id]=e})}})}),u({},e,v)}if(["PinResource","PinPageResource"].includes(o)&&r&&r.board_activity){var g=r.board_activity;return g.board=r.board,u({},e,s({},g.id,y(e[g.id],g)))}if(("BoardFeedResource"===o||"BoardSectionPinsResource"===o)&&("react_grid_pin_with_board_activity"===i.field_set_key||"partner_react_grid_pin_with_board_activity"===i.field_set_key)||"BoardActivityPinsFeedResource"===o){var _=(r||[]).reduce(function(t,n){var r=n.board_activity;return r&&r.id&&(t[r.id]=y(e[r.id],r)),t},{});return u({},e,_)}}else{if("ACTIVITY_ITEM_CREATED"===t.type){var w=t.payload.activityItem;return u({},e,s({},w.id,w))}if("ACTIVITY_ITEM_DELETED"===t.type){var E=t.payload,O=E.activityId,T=E.activityType;if(T===p.BOARD_ACTIVITY_COMMENT||T===p.BOARD_ACTIVITY){var P=u({},e);return delete P[O],P}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){var S=t.payload.data;return u({},e,s({},S.id,y(e[S.id],S)))}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){var C=t.payload,I=C.increment,k=C.id,j=e[k];if(j&&[p.BOARD_ACTIVITY_COMMENT,p.BOARD_ACTIVITY].includes(j.type)){var x=u({},j,{comment_count:I?j.comment_count+1:j.comment_count-1});return u({},e,s({},k,x))}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){var R=t.payload,A=R.increment,D=R.id,L=R.reactionType,M=e[D],B=M&&M.reaction_counts&&M.reaction_counts[L]||0,N=A?L:0,U=u({},M,{reaction_counts:s({},L,A?B+1:B-1),reaction_by_me:N});return u({},e,s({},D,U))}}}return e}},VI9K:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return{type:"MOST_RECENT_PIN",payload:{id:e}}}},VPPQ:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("+U6O");function a(e){var t=e.accessibilityLabel;return o.a.createElement(i.b,{display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(i.G,{accessibilityLabel:t,show:!0}))}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,n,r,o,i,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=new Array(s),f=0;f<s;f++)p[f]=arguments[f];return r=this,n=!(o=(e=u(t)).call.apply(e,[this].concat(p)))||"object"!==c(o)&&"function"!=typeof o?d(r):o,i=d(d(n)),l={LoadedComponent:null},(a="state")in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.props.loader().then(function(t){e._isMounted&&t.default!==e.state.LoadedComponent&&e.setState({LoadedComponent:t.default})})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;e.loader!==this.props.loader&&(e.loader().then(function(e){t._isMounted&&e.default!==t.state.LoadedComponent&&t.setState({LoadedComponent:e.default})}),this.setState({LoadedComponent:null}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state.LoadedComponent;return t?e(t):this.props.showSpinner?r.createElement(a,{accessibilityLabel:this.props.spinnerLabel}):this.props.fallback||null}}])&&l(n.prototype,o),i&&l(n,i),t}();t.a=p},"Ww6/":function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("Ivf5"),a=(n("GB3e"),n("Fpqi")),c=n("PNko"),l=n.n(c),u=n("/Mjl"),s=n("+U6O");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.debugImpressionStarted,n=e.debugImpressionLogged,o=e.slotIndex,i=n||t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},n&&!t?{opacity:.1}:{},t?{backgroundColor:"#adebad"}:{},{height:"100%",width:"100%"}):null;return r.createElement("div",{style:i},(t||n)&&r.createElement(s.b,{position:"absolute",padding:2,color:"darkGray",dangerouslySetInlineStyle:{__style:{zIndex:u.a.debugPinImpressions}}},r.createElement(s.K,{size:"xl",color:"white"},o)),e.children)}var f=n("Uc2O"),m=n("m2OL"),y=n("UgxU"),b=n("rSK6"),h=n("Qo1m"),v=n("E56J"),g=n("9Y9K"),_=n("oTtv"),w=n("NoZx"),E=n("FSbA");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k=function(e){function t(){var e,n,r,o,i,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return r=this,o=(e=S(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==O(o)&&"function"!=typeof o?I(r):o,i=I(I(n)),c=function(e,t){var r=n.props,o=r.activityId,i=r.toggleReaction;e&&e.stopPropagation&&e.stopPropagation(),i(o,t,w.a.BOARD_ACTIVITY,!1)},(a="handleReactionClick")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,r["PureComponent"]),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props.onMouseLeave;return r.createElement(s.b,{shape:"pill",height:40,width:"100%",color:"white",display:"flex",alignItems:"center",justifyContent:"center",direction:"row",onMouseLeave:t},Array.from(_.a.entries()).map(function(t){var n=T(t,2),o=n[0],i=n[1];return r.createElement(s.b,{paddingX:3,key:o},r.createElement(s.P,{onTouch:function(t){var n=t.event;return e.handleReactionClick(n,o)}},r.createElement(s.K,{inline:!0},i)))}))}}])&&P(n.prototype,o),i&&P(n,i),t}(),j=Object(i.connect)(null,function(e,t){return{toggleReaction:Object(g.bindActionCreators)(E.a,e)}})(k);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){var t=e.emoji,n=void 0===t?_.a.get(1)||"":t;return o.a.createElement(s.b,{display:"flex",justifyContent:"center",alignItems:"center",color:"white",shape:"circle",height:40,width:40},o.a.createElement(s.K,{inline:!0},n))},N=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=A(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==x(o)&&"function"!=typeof o?L(r):o,M(L(L(n)),"state",{showReactionsBar:!1}),M(L(L(n)),"handleClick",function(e){var t=e.event,r=n.props,o=r.activityId,i=r.toggleLike,a=r.isLikedByMe;t&&t.stopPropagation&&(t.stopPropagation(),i(o,1,w.a.BOARD_ACTIVITY,a))}),M(L(L(n)),"handleOnMouseEnter",function(){var e=n.props.activateReactionsExperiment;e&&((e()||"").startsWith("enabled")&&n.setState({showReactionsBar:!0}))}),M(L(L(n)),"handleOnMouseLeave",function(){n.setState({showReactionsBar:!1})}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activityId,n=e.isLikedByMe,r=e.inReactionsExperiment,i=this.state.showReactionsBar,a=r&&n?o.a.createElement(B,{emoji:_.a.get(n)}):o.a.createElement(s.o,{accessibilityLabel:h.a._("Like pin button","accessibility label for a button to like a pin"),bgColor:"transparentDarkGray",icon:"heart",iconColor:n?"red":"white",onClick:this.handleClick});return o.a.createElement(s.b,{onMouseEnter:this.handleOnMouseEnter,position:"relative"},i?o.a.createElement(j,{activityId:t,onMouseLeave:this.handleOnMouseLeave}):a)}}])&&R(n.prototype,r),i&&R(n,i),t}(),U=Object(i.connect)(function(e,t){var n=e.activityItems[t.activityId];return{isLikedByMe:n&&n.reaction_by_me||!1}},function(e,t){return{toggleLike:Object(g.bindActionCreators)(E.a,e)}})(N),H=n("exzK"),V=n("VPPQ"),F=n("iJ35"),z=function(e){var t=e.pinId,n=e.sourceUrl,o=e.domain,i=e.onClick,a=e.bgColor,c=e.size,l=e.iconColor;return n?r.createElement(F.b,{external:!0,onClick:i,pinId:t,stopPropagation:!0,to:n},r.createElement(s.o,{bgColor:a,icon:"arrow-up-right",accessibilityLabel:o,size:c,iconColor:l})):null},G=n("hvnN"),W=n.n(G),Y=n("fifU"),q=n("Mce2"),K=n("s3m5"),Q=n("buVl"),X=n("zBQm"),J=n("UmN8"),Z=n("nI4G"),$=n("k9eC"),ee=n("lixz"),te=n("NmcB"),ne=80,re="â€¦";function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){se(e,t,n[t])})}return e}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=23,pe=15,fe=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return o=this,i=(e=ce(t)).call.apply(e,[this].concat(c)),n=!i||"object"!==oe(i)&&"function"!=typeof i?ue(o):i,se(ue(ue(n)),"state",{hovered:!1,focused:!1,active:!1}),se(ue(ue(n)),"handleFocus",function(){n.setState({focused:!0})}),se(ue(ue(n)),"handleMouseDown",function(){n.setState({active:!0})}),se(ue(ue(n)),"handleMouseUp",function(){n.setState({active:!1})}),se(ue(ue(n)),"handleMouseEnter",function(){n.setState({hovered:!0})}),se(ue(ue(n)),"handleMouseLeave",function(){n.setState({active:!1,hovered:!1})}),se(ue(ue(n)),"renderRightArrowClickthrough",function(){var e=n.props,t=e.backgroundColor,o=e.borderRadius,i=e.denseViewSelected,a=e.domain,c=e.textColor,l=e.maxHeight,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxLength,r=void 0===n?ne:n,o=t.suffix,i=void 0===o?re:o;return e.length<=r?e:e.substring(0,r-1).replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,"")+i}(a,{maxLength:i?pe:de});return r.createElement(s.b,{padding:2,color:t,display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:o}},maxHeight:l},r.createElement(s.b,{display:"flex",flex:"none"},r.createElement(s.n,{icon:"arrow-up-right",accessibilityLabel:h.a._("link","Website url link"),size:14,color:c})),r.createElement(s.b,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},r.createElement(s.K,{bold:!0,size:"sm",color:c,truncate:!0},u)))}),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.borderRadius,n=e.bottom,o=e.hoverStyle,i=e.isEligibleForWebCloseup,a=e.onClick,c=e.pinId,l=e.position,u=e.sourceUrl,d=e.paddingX;if(!u)return null;var p=this.state.hovered||this.state.focused||this.state.active?o:{};return r.createElement(s.b,{position:l,bottom:n},r.createElement(s.b,{alignItems:"end",display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1,padding:2},r.createElement(s.b,{minWidth:0,paddingX:d},!i&&r.createElement(s.b,{position:"relative",dangerouslySetInlineStyle:{__style:ie({borderRadius:t},p)},onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp},r.createElement(F.b,{external:!0,onClick:a,pinId:c,stopPropagation:!0,to:u},this.renderRightArrowClickthrough())))))}}])&&ae(n.prototype,o),i&&ae(n,i),t}();se(fe,"defaultProps",{textColor:"darkGray",backgroundColor:"lightGray",borderRadius:4,position:"absolute",bottom:!0,hoverStyle:{},paddingX:1});var me=n("2YES");function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){we(e,t,n[t])})}return e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=Object(r.lazy)(function(){return n.e("NuxOneClickSaveButtonCommon").then(n.bind(null,"/zC8"))}),Oe=function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardSectionPageDesktop~BrowserButtonCreatePinPageDesktop~Bus~76242007"),n.e(7),n.e(8),n.e("PinBetterSaveCommon~PinFeedbackPageDesktop~PinRepEditButtonCommon"),n.e("PinBetterSaveCommon")]).then(n.bind(null,"qoD0"))},Te=function(){return n.e("PinPromoteButtonCommon").then(n.bind(null,"Is9E"))},Pe=Object(r.lazy)(function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardSectionPageDesktop~BrowserButtonCreatePinPageDesktop~Bus~76242007"),n.e(7),n.e("PinBetterSaveCommon~PinFeedbackPageDesktop~PinRepEditButtonCommon"),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"24KF"))}),Se=Object(r.lazy)(function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardSectionPageDesktop~BrowserButtonCreatePinPageDesktop~Bus~76242007"),n.e(8),n.e("PinSaveButtonCommon")]).then(n.bind(null,"odTJ"))}),Ce=Object(r.lazy)(function(){return n.e("PinRepSendShareFlyoutButtonCommon").then(n.bind(null,"pi5b"))}),Ie=function(e){var t=_e({},e.style,{zIndex:u.a.pinActionWrapper});return o.a.createElement(s.b,Object.assign({},e,{dangerouslySetInlineStyle:{__style:t}}))};Ie.defaultProps={style:{}};var ke=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=he(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==ye(o)&&"function"!=typeof o?ge(r):o,we(ge(ge(n)),"onToggleFlyout",function(){var e=n.props,t=e.isFlyoutOpen;(0,e.onToggleFlyout)(!t)}),we(ge(ge(n)),"handleOnSourceImageClick",function(){var e=n.props,t=e.imageSignature,r=e.requestContext,o=e.slotIndex;Object(ee.e)(13),new $.d(r,"smb_pin_stats_from_business_profile").enabled(),n.handleClickLogging(35,{grid_index:o,image_signature:t})}),we(ge(ge(n)),"handleToggleHover",function(e){n.props.onToggleFlyout(!1,e)}),we(ge(ge(n)),"handleToggleSubmenu",function(e,t){n.props.onToggleFlyout(e,t,"save")}),we(ge(ge(n)),"handleDropdownClose",function(){n.props.onToggleFlyout(!1)}),we(ge(ge(n)),"handleClickthroughLogging",function(){var e=n.props,t=e.componentType,r=e.contextLogData,o=e.pin,i=e.slotIndex,a=e.viewType,c=e.viewParameter,l=o.id;Object(te.a)(12,_e({},r,{view:a,viewParameter:c,component:t,objectId:l,grid_index:i})),n.handleClickLogging(162)}),we(ge(ge(n)),"handleSaveButtonClick",function(){n.handleClickLogging(0),Object(Z.b)("Lead",function(){v.default.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Repin Click"})})}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,o.a.Component),n=t,(i=[{key:"getViewInfo",value:function(){var e=this.props,t=e.viewType,n=e.showEditPinButton,r=5===t,o=2===t,i=4===t;return{isBoardView:r,isSearchView:o,isProfileView:i,isOwnProfileView:i&&n,isOwnBoardView:(r||164===t)&&n,isOwnPinSearchView:o&&n}}},{key:"cropImageStyles",value:function(){var e=this.props,t=e.imageHeight,n=e.pin,r=e.truncatePinHeight,o={},i=n.story_pin_data_id;if(n.image_crop&&r&&!i&&(0!==n.image_crop.min_y||1!==n.image_crop.max_y)){var a=n.image_crop.min_y,c=n.image_crop.max_y;o={marginTop:a>0?-1*a*t+"px":"0px",marginBottom:c<1?Math.round(-1*(1-c)*t)+"px":"0px"}}return o}},{key:"handleClickLogging",value:function(e,t){var n=this.props,r=n.componentType,o=n.contextLogData,i=n.viewParameter,a=n.viewType,c=n.pin.id;Object(te.a)(101,_e({},o,t,{component:r,view:a,viewParameter:i,element:e,objectId:c}))}},{key:"renderSendShareButton",value:function(e){var t=this,n=this.props,r=n.images,i=n.pin.id,a=n.viewType;return o.a.createElement(q.a,{id:"share-button"},o.a.createElement(Y.a,null,o.a.createElement(Ce,{imageSrc:r&&r["236x"].url,onClick:function(){return t.handleClickLogging(98)},onToggleFlyout:this.onToggleFlyout,onFlyoutDismiss:this.handleDropdownClose,pinId:i,sendType:"pin",shownWithinMasonry:!0,isFlyoutOpen:this.props.isFlyoutOpen,viewType:a,backgroundColor:"transparentDarkGray",iconColor:"white",iconSize:e})))}},{key:"renderEditButton",value:function(e){var t=this.props,n=t.pin,r=n.id,i=n.carousel_data,a=t.viewParameter,c=t.viewType;return o.a.createElement(q.a,{id:"edit-button"},o.a.createElement(Y.a,null,o.a.createElement(Pe,{component:0,pinId:r,onToggleModal:this.handleToggleHover,view:c,viewParameter:a,carouselSlotCurrentIndex:i&&i.index,style:e})))}},{key:"renderEditAndSendRow",value:function(e,t){var n={bgColor:"transparentDarkGray",iconColor:"white",size:"md"};return o.a.createElement(Ie,{padding:1,position:"absolute",top:!0,left:!0,display:"flex"},e&&o.a.createElement(s.b,{padding:1},this.renderSendShareButton("md")),t&&o.a.createElement(s.b,{padding:1},this.renderEditButton(n)))}},{key:"renderPrimaryButtons",value:function(){var e=this,t=this.props,n=t.hideSaveButton,r=t.inNewUserOneTapExperiment,i=t.onSave,a=t.pin,c=t.showRepinButton,l=t.showPromoteButton,u=t.showPersistentPromoteButton,d=t.showCondensedInfo,p=t.showButtons,f=t.viewer,m=t.saveOptions,y=t.viewParameter,b=t.showClickthroughButton,h="controlled"===m.type,g=h&&m.saved&&m.save,_=c||l,w=m&&"none"!==m.type?m.renderPinSaveTooltip:void 0;if(!(g||u||p&&_||!!w))return b?o.a.createElement(s.b,{position:"absolute",bottom:!0,color:"transparentDarkGray",right:!0,marginBottom:2,marginRight:2,shape:"pill"},o.a.createElement(s.b,{paddingX:3,paddingY:1},o.a.createElement(s.K,{color:"white",bold:!0,size:"xs"},"Open"))):null;if(n)return null;var E=null,O=o.a.createElement(q.a,{id:"pin-save-button"},o.a.createElement(Y.a,null,o.a.createElement(Se,{onClickCallback:function(){e.handleClickLogging(0),Object(Z.b)("Lead",function(){v.default.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Repin Click"})})},onToggleModal:this.handleToggleHover,oneTapSave:h?m:void 0,pin:a,renderPinSaveTooltip:w})));l?E=o.a.createElement(q.a,{id:"promote-button"},o.a.createElement(V.a,{loader:Te},function(e){return o.a.createElement(e,{pin:a})})):"inline"===m.type?E=o.a.createElement(q.a,{id:"better-save"},o.a.createElement(V.a,{loader:Oe},function(t){return o.a.createElement(t,{initialSelection:m&&m.initialSelection,useMasonryFlyout:!0,onSave:function(){m&&m.onSave&&m.onSave(),i&&i()},onToggleFlyout:e.handleToggleSubmenu,onToggleModal:e.handleToggleHover,pin:a,renderPinSaveTooltip:w,viewParameter:y,renderSavedStatus:null})})):(g||c&&f.isAuth)&&(E=r?o.a.createElement(q.a,{id:"nux-one-click-save"},o.a.createElement(Y.a,null,o.a.createElement(Ee,{onClickCallback:this.handleSaveButtonClick,pin:a}))):O),d&&(E=O);var T="inline"!==m.type||d?"auto":"100%";return o.a.createElement(Ie,{padding:2,position:"absolute",top:!0,right:!0,width:T},E)}},{key:"renderGradientOverlay",value:function(e){var t=this.props.showButtons;return o.a.createElement(s.b,{position:"relative"},e,t&&o.a.createElement(s.b,{bottom:!0,left:!0,height:"100%",position:"absolute",right:!0,top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",opacity:.3}}}))}},{key:"renderClickThrough",value:function(e){var t=this.props,n=t.denseViewSelected,r=t.domain,i=t.isEligibleForWebCloseup,a=t.pin.id,c=t.sourceUrl;return o.a.createElement(fe,{denseViewSelected:n,domain:r,isEligibleForWebCloseup:i,sourceUrl:c,pinId:a,position:e,textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})}},{key:"renderHolisticHoverOwnPinViewCondensed",value:function(){var e=this.props,t=e.pin.id,n=e.domain,r=e.sourceUrl,i=e.showEditPinButton,a={size:"md",iconColor:"white",bgColor:"transparentDarkGray"},c=_e({pinId:t,domain:n,sourceUrl:r,bgColor:"transparentDarkGray"},a);return o.a.createElement(Ie,{padding:1,width:"100%",position:"absolute",bottom:!0,left:!0,display:"flex",alignItems:"center",justifyContent:"around"},o.a.createElement(s.b,{padding:1},o.a.createElement(s.b,{width:40,height:40},o.a.createElement(z,Object.assign({},c,{onClick:this.handleClickthroughLogging})))),o.a.createElement(s.b,{padding:1},i&&this.renderEditButton(a)),o.a.createElement(s.b,{padding:1},this.renderSendShareButton("md")))}},{key:"renderHolisticHoverOwnPinView",value:function(){var e=this.props,t=e.showSendButton,n=e.showEditPinButton,r=e.pin.id,i=e.domain,a=e.isEligibleForWebCloseup,c=e.sourceUrl,l={iconColor:"white",bgColor:"transparentDarkGray",size:"sm"};return o.a.createElement(Ie,{padding:1,position:"absolute",bottom:!0,left:!0,display:"flex",width:"100%",alignItems:"center",height:50},o.a.createElement(s.b,{width:"".concat(65,"%")},o.a.createElement(fe,{domain:i,isEligibleForWebCloseup:a,sourceUrl:c,pinId:r,position:"relative",textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})),o.a.createElement(s.b,{width:"".concat(35,"%"),display:"flex",justifyContent:"end"},n&&o.a.createElement(s.b,{padding:1},this.renderEditButton(l)),t&&o.a.createElement(s.b,{padding:1},this.renderSendShareButton("sm"))))}},{key:"renderSecondaryButtons",value:function(){return this.props.showCondensedInfo?this.renderHolisticHoverOwnPinViewCondensed():this.renderHolisticHoverOwnPinView()}},{key:"render",value:function(){var e=this.props,t=e.currentlyPlayingVideo,n=e.boardActivity,i=e.children,a=e.isEligibleForAnalyticsCloseup,c=e.showReactions,u=e.isEnabledPointerHoverCursorExp,d=e.pin,p=d.carousel_data,f=d.id,m=d.videos,y=e.selection,b=e.showButtons,h=e.viewParameter,v=e.viewType,g=e.componentType,_=this.cropImageStyles(),w=!!m&&!!m.video_list,E=(m&&m.video_list&&m.video_list[Object.keys(m.video_list)[0]]||{}).duration,O=void 0===E?0:E;return o.a.createElement(s.b,{"data-test-id":p?"carousel-pin":"",position:"relative"},b&&p&&o.a.createElement(H.a,{pinId:f,componentType:g,viewParameter:h,viewtype:v}),o.a.createElement(F.b,{deeplinkUrls:Object(Q.m)(f),onClick:this.handleOnSourceImageClick,forceRefresh:1,extraData:{isReact:!0,reactData:this.props.pin,searchOptions:this.props.searchOptions},style:{cursor:u?"pointer":"zoom-in",display:"block",position:"relative"},to:Object(X.a)(f,a||!1)},o.a.createElement(s.u,{shape:"rounded",wash:!0},o.a.createElement(s.b,{dangerouslySetInlineStyle:{__style:_},minHeight:55},this.renderGradientOverlay(i))),o.a.createElement(s.b,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0})),y!==Pt.NO_SELECTION&&o.a.createElement("div",{className:l()("pinSelectionBorder",{selected:y===Pt.SELECTED})}),o.a.createElement(r.Fragment,null,c&&b?o.a.createElement(r.Fragment,null,o.a.createElement(Ie,{position:"absolute",top:!0,left:!0,padding:2},o.a.createElement(J.a,{name:"web_group_board_reactions",activate:!1},function(e){var t=e.anyEnabled,r=e.customActivate;return o.a.createElement(U,{activityId:n&&n.id||f,activateReactionsExperiment:r,inReactionsExperiment:t})})),this.renderSecondaryButtons()):o.a.createElement(r.Fragment,null,b&&this.renderSecondaryButtons(),this.renderPrimaryButtons()),b||!w||t?null:o.a.createElement(Ie,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},o.a.createElement(K.a,{duration:O}))))}}])&&be(n.prototype,i),a&&be(n,a),t}();we(ke,"defaultProps",{onToggleFlyout:function(){},pinsBoardEditableByViewer:!1,showCondensedInfo:!1,showOnPinAnalyticsNUX:!1,showPromoteButton:!1,showPersistentPromoteButton:!1});var je=Object(i.connect)(function(e,t){return{currentlyPlayingVideo:e.ui.app.currentVideo.pinId===t.pin.id}})(ke),xe=n("vl7u");function Re(e){var t=e.feedbackType,n=e.topic,r=e.pinner||{},i=r.full_name,a="topic"===t,c=!a&&"followed"===t,l="/".concat(r.username,"/"),u=Object(xe.g)(n),d="/search/pins/?q=".concat(encodeURIComponent(u),"&rs=image_only_attribution"),p=a?d:l,f={topic:h.a._("From {topic}","attribution on pin rep"),followed:h.a._("From {pinnerName}","attribution on pin rep"),pfyBoard:h.a._("Picked for you","attribution on pin rep"),pfy:h.a._("Picked for you","attribution on pin rep")}[t];if(!f)return null;if(c||a){var m=0===f.indexOf("{"),y=a?n:i,b=m?f.slice(f.indexOf("}")+1):f.slice(0,f.indexOf("{"));return m?o.a.createElement(s.b,{display:"inlineBlock",marginTop:1},o.a.createElement(F.b,{to:p},o.a.createElement(s.K,{bold:!0,inline:!0,size:"xs",truncate:!0},y)),o.a.createElement(s.K,{inline:!0,size:"xs"},b)):o.a.createElement(s.b,{display:"inlineBlock",marginTop:1},o.a.createElement(s.K,{inline:!0,size:"xs"},b),o.a.createElement(F.b,{to:p},o.a.createElement(s.K,{bold:!0,inline:!0,size:"xs",truncate:!0},y)))}return o.a.createElement(s.b,{display:"inlineBlock",marginTop:1},o.a.createElement(s.K,{inline:!0,size:"xs"},f))}var Ae=n("Irlq");function De(e){var t=e.pin,n=e.feedbackType,r=e.imageOnlyAttribution,i=e.isHovering,a=e.isVideo,c=e.onClickThrough,l=e.sourceUrl,u=Object(Q.m)(t.id),d=t.attribution||{},p=d.author_url||d.provider_url,f=d.author_name,m=d.rich_site_name||d.provider_name,y=f?Object(Ae.b)(h.a._("by {{ authorName }}","attribution on pin rep"),{authorName:f}):m,b=!y&&t.has_required_attribution_provider?t.domain:y,v=p||l,g=v&&b,_=i&&!g&&r&&!a&&!t.is_native&&"followed"!==n,w=(t.source_interest||{}).name,E="io-topic-attr-"+w;return o.a.createElement(o.a.Fragment,null,g&&o.a.createElement(s.b,{paddingY:1},o.a.createElement(s.K,{size:"sm",bold:!0},o.a.createElement(F.b,{deeplinkUrls:u,external:!0,onClick:c,pinId:t.id,stopPropagation:!0,style:{color:"#898989"},to:v},b))),r&&n&&o.a.createElement(s.b,{"data-test-id":E}),_&&n&&o.a.createElement(Re,{feedbackType:n,pinner:t.pinner,topic:w}))}var Le=n("xP02");function Me(e){var t=e.avatarUrl,n=e.creditNameLink,r=e.name,i=void 0===r?"":r;return n?o.a.createElement(F.b,{className:"underlineLink",stopPropagation:!0,to:n},o.a.createElement(s.a,{name:i,src:t,size:"sm"})):o.a.createElement(s.a,{name:i,src:t,size:"sm"})}function Be(e){var t=e.name,n=e.creditNameLink;return o.a.createElement(s.b,null,n?o.a.createElement(F.b,{className:"underlineLink",stopPropagation:!0,to:n},o.a.createElement(s.K,{truncate:!0,size:"xs",bold:!0},t)):o.a.createElement(s.K,{truncate:!0,size:"xs",bold:!0},t))}function Ne(e){var t=e.title,n=e.link;return t?o.a.createElement(s.b,null,n?o.a.createElement(F.b,{className:"underlineLink",stopPropagation:!0,to:n},o.a.createElement(s.K,{truncate:!0,size:"xs"},t)):o.a.createElement(s.K,{truncate:!0,size:"xs"},t)):null}var Ue=n("VI9K"),He=function(e){return!!e.promoter&&!e.is_downstream_promotion};var Ve=Object(g.compose)(me.e,Object(i.connect)(null,function(e){return{setMostRecentPin:function(t){return e(Object(Ue.a)(t))}}}))(function(e){var t,n,r,i,a,c,l=e.hideTitle,u=e.pin,d=e.viewType,p=e.viewParameter,f=e.setMostRecentPin,m=e.requestContext,y=u.board,b=u.promoter,v=u.pinner||{},g=He(u);g&&b?(t="/".concat(b.username,"/"),n=h.a._("Promoted by"),i=b.full_name,c=b.image_small_url):(t=y&&y.url,n=v.full_name,i=y&&y.name&&"protected"!==y.privacy?y.name:"",c=v.image_small_url,r="/".concat(v.username,"/"),a=y?y.url:"");var _=new $.b(m,"web_avatar_hover_cards"),w=!g&&(_.check("enabled")||_.check("enabled_credits")||_.check("employees")),E=o.a.createElement(s.b,{display:"flex",direction:"row",alignItems:"center",marginLeft:-1,marginRight:-1},o.a.createElement(s.b,{paddingX:1},o.a.createElement(Me,{avatarUrl:c,creditNameLink:r,name:n})),o.a.createElement(s.b,{paddingX:1,overflow:"hidden"},o.a.createElement(Be,{creditNameLink:r,name:n}),!l&&o.a.createElement(Ne,{link:a,title:i}))),O=w?o.a.createElement(Le.a,{user:v},E):E;return!t||r||a?O:o.a.createElement(F.b,{className:"underlineLink",stopPropagation:!0,onClick:function(){f(u.id),Object(te.a)(101,{view:d,viewParameter:p,element:g?283:27,objectId:u.id})},to:t},O)}),Fe=Object(r.lazy)(function(){return n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"sB4Q"))});function ze(e){var t=e.pin,n=e.feedbackType,r=e.hideAttribution,i=e.imageOnlyAttribution,a=e.isHovering,c=e.imageOnly,l=e.isVideo,d=e.onClickThrough,p=(e.onReactionReplyClick,e.showCredits),f=e.showPinReactionsReply,m=e.sourceUrl,y=e.viewParameter,b=e.viewType,h=t.promoter||!c&&(p||"followed"===n),v=t.board&&t.board.should_show_board_activity,g=h&&!r,_=t&&t.board_activity&&t.board_activity.id||t.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(De,{pin:t,feedbackType:n,imageOnlyAttribution:i,isHovering:a,isVideo:l,onClickThrough:d,sourceUrl:m}),(h||v)&&o.a.createElement(s.b,{dangerouslySetInlineStyle:{__style:{zIndex:u.a.max,position:"relative"}},paddingY:1},!v&&g&&o.a.createElement(Ve,{hideTitle:!!v,pin:t,viewParameter:y,viewType:b}),v&&o.a.createElement(s.b,{position:"relative","data-test-id":"board-activity-reactions",minHeight:16},o.a.createElement(J.a,{name:"web_group_board_reactions"},function(e){var t=e.anyEnabled;return o.a.createElement(Y.a,null,o.a.createElement(Fe,{activityId:_,showReply:f,inReactionsExperiment:t}))}))))}var Ge=n("HcgI"),We=Object(i.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}})(function(e){var t=e.carousel_data,n=e.description;if(t){var r=t.carousel_slots,i=void 0===r?[]:r,a=t.index;i[a]&&i[a].details&&(n=i[a].details)}var c=t?{height:"39px",overflow:"hidden"}:{};return o.a.createElement(s.b,{dangerouslySetInlineStyle:{__style:c},paddingY:1},o.a.createElement(s.K,{size:"sm",bold:!0},o.a.createElement(Ge.a,{text:n,options:{hashtags:{appendText:"".concat(n),source:"hashtag_pinrep"}}})))}),Ye=n("EQo2"),qe=Object(i.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}})(function(e){var t,n=e.carousel_data,r=e.pinId,i=e.sourceUrl,a=e.pinDeeplinkUrls,c=e.handleOneTapLogging,l="one-tap-desktop",u=i;if(n){var s=n.carousel_slots,d=void 0===s?[]:s,p=n.id,f=n.index;d[f]&&d[f].link&&(u=d[f].link),t={carousel_slot_id:d[f]&&d[f].id,carousel_data_id:p,carousel_slot_index:f},l+="-carousel"}return o.a.createElement("div",{"data-test-id":"oneTapPromotedPin"},o.a.createElement(q.a,{id:l},o.a.createElement(F.b,{auxData:t&&t,className:"oneTapNavigateLink",deeplinkUrls:a,external:!0,onClick:c,pinId:r,stopPropagation:!0,to:u})))});function Ke(e){var t,n,r=e.buyableProduct,i=e.showProductInfo,a=e.richSummary;if(!i)return null;if(r){var c=r.display_active_min_price,l=r.display_active_max_price;n=r.is_available,t=c===l?c:"".concat(c," - ").concat(l)}else if(a&&(a.products||[]).length>0){var u=a.products[0].offer_summary||{},d=u.availability;t=u.price,1===d?n=!0:2===d&&(n=!1)}return t?o.a.createElement(s.b,{display:"flex",paddingY:1},o.a.createElement(s.b,{marginRight:2},o.a.createElement(s.K,{size:"sm"},t)),void 0!==n&&o.a.createElement(s.K,{size:"sm",color:n?"darkGray":"gray"},n?h.a._("In stock","A product Pin that is available"):h.a._("Out of stock","A product Pin that is out of stock"))):null}var Qe=76;var Xe=function(e){var t=e.chips;return o.a.createElement(s.b,{display:"flex",direction:"row",justifyContent:"between"},t.map(function(e){var t=e.images["750x"]||{};return o.a.createElement(s.b,{marginTop:1,key:e.id},o.a.createElement(F.b,{stopPropagation:!0,to:"/pin/".concat(e.id,"/")},o.a.createElement(s.u,{shape:"rounded",width:Qe,height:Qe,wash:!0},o.a.createElement(s.p,{alt:"",naturalHeight:t.height,naturalWidth:t.width,src:t.url,fit:"cover"}))))}))},Je=n("E1Qe"),Ze=n("19Gw"),$e=n("4081"),et=n("cNuv"),tt=n("k3nM"),nt=n("bUMO"),rt=n("mcMS");function ot(e){var t=e.richSummary;return o.a.createElement(s.b,{display:"flex"},!!t.display_cook_time&&o.a.createElement(s.b,{alignItems:"center",display:"flex"},o.a.createElement(s.n,{icon:"clock",accessibilityLabel:h.a._("cooking time","time it takes to cook a recipe"),color:"darkGray",size:10,inline:!0}),o.a.createElement(s.b,{paddingX:1},o.a.createElement(s.K,{inline:!0,size:"sm"},!!t.display_cook_time&&Object(nt.a)(Object(rt.b)(t.display_cook_time))))))}var it=n("LCmp"),at=n("q579"),ct=n("kR61"),lt=n("dmID"),ut=n("wHKh"),st=n("3BJc"),dt=n("JsRk"),pt=n("kIql"),ft=n("hCBh");function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_t(e,t,n[t])})}return e}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return Pt});var wt=Object(r.lazy)(function(){return n.e("PinFeedbackButtonCommon").then(n.bind(null,"w8LQ"))}),Et=Object(r.lazy)(function(){return n.e("PinFeedbackConfirmationCommon").then(n.bind(null,"+LSA"))}),Ot=Object(r.lazy)(function(){return Promise.resolve().then(n.bind(null,"dmID"))}),Tt=Object(r.lazy)(function(){return n.e("PinRepSavedCommon").then(n.bind(null,"mnfC"))}),Pt={NO_SELECTION:"NO_SELECTION",SELECTED:"SELECTED",UNSELECTED:"UNSELECTED"},St=function(e){var t=e.aggregated_pin_data.creator_analytics,n=e.creator_analytics,r=e.story_pin_data_id;return!n||!!!r&&t?t:n},Ct=(W.a.number,W.a.number,W.a.number,W.a.shape({}),W.a.string,W.a.bool,W.a.bool,W.a.func,W.a.shape({title:W.a.oneOfType([W.a.string,W.a.arrayOf(W.a.node)]),subTitle:W.a.oneOfType([W.a.string,W.a.arrayOf(W.a.node)])}),W.a.bool,W.a.bool,W.a.bool,W.a.bool,W.a.bool,W.a.shape({type:W.a.oneOf(["promoted","followed","topic","pfyBoard","pfy","search","newsHub","default"]).isRequired,data:W.a.shape({})}),W.a.bool,W.a.bool,W.a.func,W.a.func,Je.a.isRequired,W.a.bool,W.a.shape({push:W.a.func.isRequired}),W.a.shape({type:W.a.oneOf(["classic","inline","controlled"]).isRequired}),W.a.shape({boardId:W.a.string,localPinId:W.a.string,sectionId:W.a.string,title:W.a.string,url:W.a.string}),W.a.shape({query:W.a.string.isRequired,scope:W.a.string.isRequired}),W.a.oneOf([Pt.NO_SELECTION,Pt.SELECTED,Pt.UNSELECTED]),me.b,W.a.bool,W.a.bool,W.a.bool,W.a.bool,W.a.number.isRequired,W.a.bool,W.a.shape({id:W.a.string,isAuth:W.a.bool,isPartner:W.a.bool,username:W.a.string}),W.a.number,W.a.number,W.a.bool,function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,o=(e=ht(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==mt(o)&&"function"!=typeof o?gt(r):o,_t(gt(gt(n)),"state",{isHovering:!1,flyoutShown:!1,flyoutSource:"send",isNewlySaved:!1,savedInfo:n.props.savedInfo}),_t(gt(gt(n)),"onPinRepClick",function(e){var t=n.props,r=t.currentVideoPinId,o=t.pin.id,i=t.requestContext,a=t.router,c=t.viewer,l=t.setCurrentVideo,u=Object(X.a)(o,n.isEligibleForAnalyticsCloseup());r&&(0===n.currentVideoCurrentTime||n.currentVideoCurrentTime)&&l(r,n.currentVideoCurrentTime),Object(Z.b)("Lead",function(){v.default.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Pin Click"})});var s=e.target;if(s&&s.nodeName&&s.parentElement){var d=new f.b(n.context.userAgent.raw,n.context.userAgent.platform);if(d.shouldDeepLink(document.referrer,n.context.userAgent,c.isAuth))return e.preventDefault(),void d.navigateToDeepLink(n.context.unauthId,Object(Q.m)(o));var p=s.parentElement,m=s.nodeName,y=p.nodeName,b=p.parentElement&&p.parentElement.nodeName;"A"!==m&&"A"!==y&&"BUTTON"!==m&&"BUTTON"!==y&&"A"!==b&&"BUTTON"!==b&&(new $.d(i,"smb_pin_stats_from_business_profile").enabled(),e.metaKey||e.ctrlKey?(e.preventDefault(),window.open(u)):a.push(u))}}),_t(gt(gt(n)),"getComponentType",function(){return n.props.componentType||0}),_t(gt(gt(n)),"getSourceURL",function(){var e=n.props.pin,t=e.link;return e.tracked_link||t}),_t(gt(gt(n)),"getPinTypes",function(){var e=n.props.pin,t=e.attribution,r=e.buyable_product,o=e.carousel_data,i=e.embed,a=e.is_collage_pin,c=e.is_eligible_for_web_closeup,l=e.rich_summary,u=e.videos,s=[];o&&s.push("carousel"),c&&s.push("oneTap"),Object(X.e)(i,t,u)&&s.push("video");var d=i||t&&t.embed||null;return d&&"gif"===d.type&&s.push("gif"),d&&d.src&&!d.type&&s.push("embeddedVideo"),(r||l&&"product"===l.type_name)&&s.push("product"),l&&"recipe"===l.type_name&&s.push("recipe"),a&&s.push("collage"),s}),_t(gt(gt(n)),"feedbackHelpers",Object(b.a)({i18n:h.a,interpolateNamedTemplate:Ae.b})),_t(gt(gt(n)),"handleSave",function(){n.setState({isHovering:!0})}),_t(gt(gt(n)),"handleOneTapLogging",function(){var e=n.props,t=e.contextLogData,r=e.pin.id,o=a.a.getInstance(),i=o.getViewFromContext();n.handleClickthroughLogging(!0),Object(te.a)(13,yt({},t,{closeup_navigation_type:"web_closeup",objectId:r,component:0,view:3})),o.addViewToContext(i)}),_t(gt(gt(n)),"_getPrefetchCompletionPercent",function(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}),_t(gt(gt(n)),"handleClickthroughLogging",function(e){var t=n.props,r=t.contextLogData,o=t.pin,i=o.id,a=o.link,c=t.slotIndex,l=t.viewType,u=t.viewParameter;Object(te.a)(12,yt({},r,{view:l,viewParameter:u,component:n.getComponentType(),objectId:i,grid_index:c,pin_id:i,prefetch_percentage_complete:e?n._getPrefetchCompletionPercent(a):null})),e&&Object(te.a)(7946,yt({},r,{view:l,viewParameter:u,component:n.getComponentType(),objectId:i}))}),_t(gt(gt(n)),"handleReactionReplyClick",function(e){return function(){return n.props.router.push(e)}}),_t(gt(gt(n)),"handleToggleFlyout",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=!(!e&&!t);n.setState({flyoutShown:e,isHovering:o,flyoutSource:r})}),_t(gt(gt(n)),"handleMouseOver",function(){n.state.isHovering||n.setState(function(){return{isHovering:!0}})}),_t(gt(gt(n)),"handleMouseLeave",function(){n.state.isHovering&&n.setState(function(){return{isHovering:!1}})}),_t(gt(gt(n)),"handleCurrentVideoCurrentTimeChanged",function(e){var t=n.props;t.currentVideoPinId===t.pin.id&&(n.currentVideoCurrentTime=e.time)}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,o.a.Component),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.savedInfo&&t.savedInfo!==e.savedInfo?{isNewlySaved:!0,savedInfo:e.savedInfo}:null}}],(r=[{key:"getTruncatedString",value:function(e){var t=this.props.pin.is_promoted?60:50;return e&&Object(it.a)(e.trim(),t)||""}},{key:"getPinTitle",value:function(){var e=this.props.pin,t=e.carousel_data,n=e.title,r=e.buyable_product,o=e.rich_summary,i=o&&"mobile application"!==o.type_name;if(this.isOwnPin&&!t)return"";if(t){var a=t.carousel_slots,c=void 0===a?[]:a,l=t.index;if(c[l]&&c[l].title)return c[l].title.trim()}return this.getTruncatedString(n||i&&o.display_name||r&&r.title)}},{key:"getFeedbackType",value:function(){var e=this.props,t=e.feedback,n=e.viewParameter,r=e.pin;return this.feedbackHelpers.getFeedbackType({board:r.board,feedback:t,viewParameter:n,pin:r,pinner:r.pinner})}},{key:"isEligibleForAnalyticsCloseup",value:function(){var e=this.props,t=e.requestContext,n=e.viewParameter,r=e.viewer,o=92===n,i=43===n,a=!1;return this.isOwnPin&&r.isPartner&&!o&&!i&&(a=new $.d(t,"smb_pin_stats_from_business_profile").enabledWithNoActivation()),a}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardCount,r=t.carouselIndex,i=t.contextLogData,a=t.createdAt,c=t.debugImpressionLogged,d=t.debugImpressionStarted,f=t.denseViewSelected,b=t.feedback,v=t.feedbackText,g=t.isHomefeedContextualMenuTooltipExperience,_=t.isNewOrResurrectedNonPartner,w=t.hideAttribution,E=t.hideFeedbackButton,O=t.showCondensedInfo,T=t.showFeedbackOverlay,P=t.isShareable,S=t.hideHover,C=t.hideSaveButton,I=t.lowResOnly,k=t.highResOnly,j=t.onError,x=t.onLoad,R=t.pin,A=t.pinsBoardEditableByViewer,D=t.saveOptions,L=t.savedInfo,M=t.searchOptions,B=t.selection,N=void 0===B?Pt.NO_SELECTION:B,U=t.showImageOnly,H=t.slotIndex,V=t.truncatePinHeight,F=t.viewer,z=t.viewParameter,G=t.viewType,W=t.showCredits,K=t.showFeedback,Z=t.showPersistentPromoteButton,ee=t.showProductInfo,te=t.showPinReactionsReply,ne=t.showPinStats,re=t.showSavedInfo,oe=t.undoAction,ie=t.undoText,ae=t.requestContext,ce="boolean"==typeof U?U:_,le=_,ue=R.ad_match_reason,se=R.aggregated_pin_data,de=R.board,pe=R.board_activity,fe=R.buyable_product,me=R.carousel_data,ye=R.creator_analytics,be=R.debug_info_html,he=R.description,ve=void 0===he?"":he,ge=R.domain,_e=R.dominant_color,we=R.grid_title,Ee=R.id,Oe=R.image_signature,Te=R.images,Pe=R.is_quick_promotable,Se=R.is_eligible_for_web_closeup,Ce=R.pinner,Ie=void 0===Ce?{}:Ce,ke=R.promoted_is_removable,xe=R.promoter,Re=R.recommendation_reason,Ae=R.rich_summary,De=R.source_interest,Le=R.category,Me=this.state,Be=Me.flyoutShown,Ne=Me.flyoutSource,Ue=Me.isHovering,He=Me.isNewlySaved,Fe=this.getSourceURL(),Qe=((y.a.instance.getPlacedExperience(12)||{}).display_data||{}).lite,Je=(this.isOwnPin||this.canDelete)&&!Qe,nt=!Qe&&P,rt=yt({},i,Object(ct.a)(R,i)),it=((se||{}).aggregated_stats||{}).done,st=(se||{}).pin_tags_chips,dt=Te&&Te["236x"].height,pt=Te&&Te["236x"].width,mt=this.getPinTypes(),bt=Object(X.c)(R),ht=Object(lt.getEligiblePinTypes)(mt),vt=ht.isCarousel,gt=ht.isOneTap,_t=ht.isRecipe,Ct=ht.isStoryPin,It=ht.isVideo,kt=Ct?"":this.getTruncatedString(we),jt=this.getPinTitle(),xt=this.getTruncatedString(ve),Rt=ce,At=!1,Dt=!Rt&&"string"==typeof we&&!me;if(F.isAuth&&Rt&&Ae&&jt&&jt.length>0&&!Dt){var Lt=92===z,Mt=43===z;Object(ft.d)({user:F})?Lt?At=new $.d(ae,"web_pin_grid_attribution_homefeed_news").enabled():Mt&&(Rt=!0):Object(ft.e)({user:F})?Lt?At=new $.d(ae,"web_pin_grid_attribution_homefeed_res").enabled():Mt&&(Rt=!1):Lt?At=new $.d(ae,"web_pin_grid_attribution_homefeed_lows").enabled():Mt&&(Rt=!1)}var Bt=!Rt&&!jt&&!Dt,Nt=!Rt&&jt&&!Dt,Ut=l()("PinRep","Module","Pin","hasAttribution","summary","fullWidth",{flyoutShown:Be}),Ht=Object(ut.j)(R),Vt=mt.length>0,Ft=!gt&&!vt&&It||_t&&(!R.rich_summary||!R.rich_summary.aggregate_rating||!R.rich_summary.aggregate_rating.review_count),zt=Nt&&jt.length>0,Gt=Bt&&xt.length>0,Wt=F.isAuth&&F.isEmployee&&be,Yt=0!==Object.keys(ye||{}).length||0!==Object.keys(se||{}).length&&0!==Object.keys(se.creator_analytics||{}).length,qt=D||(!Je&&void 0!==n&&n>1?{type:"inline"}:{type:"classic"}),Kt="inline"===qt.type||"classic"===qt.type,Qt=F.isAuth&&nt&&P&&Kt,Xt=this.getFeedbackType(),Jt=ge;if(me){var Zt=r||me.index||0,$t=me.carousel_slots,en=void 0===$t?[]:$t,tn=en[Zt]&&en[Zt].link||"";Jt=(Jt=tn&&at.a.parse(tn).hostname)&&Jt.replace("www.","")||ge}var nn=R.is_native||R.promoter||!Rt&&(W||"followed"===Xt),rn=R.board&&R.board.should_show_board_activity,on=rn&&nn&&!w,an=1===H&&!!g;return o.a.createElement(s.b,{position:"relative"},o.a.createElement("div",{className:Ut,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"pin"},L&&re&&o.a.createElement(q.a,{id:"savedInfo"},o.a.createElement(Y.a,null,o.a.createElement(s.b,{width:"172px",marginTop:2,paddingY:3,paddingX:3,position:"absolute",left:!0,top:!0,dangerouslySetInlineStyle:{__style:{zIndex:u.a.saved}}},o.a.createElement(Tt,{isNewlySaved:He,name:L.title,url:L.url})))),o.a.createElement(p,{debugImpressionLogged:c,debugImpressionStarted:d,slotIndex:this.props.slotIndex},o.a.createElement(J.a,{name:"web_eg_pin_hover_cursor"},function(t){var n=t.anyEnabled;return o.a.createElement("div",{className:l()("pinWrapper",K&&"disableHover"),"data-test-id":"pinWrapper",onClick:e.onPinRepClick,style:{cursor:n?"pointer":null}},on&&rn&&o.a.createElement(s.b,{marginBottom:2},o.a.createElement(Ve,{hideTitle:!!rn,pin:R,viewParameter:z,viewType:G})),Se&&o.a.createElement(qe,{pinDeeplinkUrls:Object(Q.m)(Ee),handleOneTapLogging:e.handleOneTapLogging,pinId:Ee,sourceUrl:Fe}),o.a.createElement(J.a,{name:"web_nux_one_tap_save",isEligible:F.isAuth&&Object(ft.d)({user:F,days:7})},function(t){var r=t.anyEnabled;return o.a.createElement(je,{boardActivity:pe,buyableProduct:fe,componentType:e.getComponentType(),contextLogData:rt,denseViewSelected:f,description:ve,domain:Jt,dominantColor:_e,doneCount:it,hideSaveButton:C,imageHeight:dt,imageSignature:Oe,images:Te,imageWidth:pt,showReactions:rn,isEligibleForWebCloseup:Se,isEligibleForAnalyticsCloseup:e.isEligibleForAnalyticsCloseup(),isEnabledPointerHoverCursorExp:n,inNewUserOneTapExperiment:r,onSave:e.handleSave,onToggleFlyout:e.handleToggleFlyout,pin:R,pinsBoardEditableByViewer:A,pinTitle:jt,requestContext:ae,saveOptions:qt,searchOptions:M,selection:N,showButtons:!!(Ue&&!S||Be),showCondensedInfo:O,showEditPinButton:Je,showPromoteButton:Pe,showRepinButton:!Pe&&!ke,showSendButton:Qt,showPersistentPromoteButton:Z,slotIndex:H,sourceUrl:Fe,truncatePinHeight:V,viewer:F,viewParameter:z,viewType:G,isFlyoutOpen:Be&&"save"!==Ne},o.a.createElement(J.a,{name:"web_grid_video_autoplay_v2",isEligible:It&&!bt},function(t){var n=t.anyEnabled,r=o.a.createElement(Ye.a,{lowResOnly:I,highResOnly:k,onLoad:x,onError:j,pin:R,saved:!!L});return n?o.a.createElement(tt.a,{image:r,onLoad:x,onTimeChange:e.handleCurrentVideoCurrentTimeChanged,pin:R,viewType:G,viewParameter:z}):r}))}),!!st&&!O&&o.a.createElement(Xe,{chips:st}),(!Rt||Xt)&&!O&&(Vt||ne||zt||Gt||ee||a||Dt||Wt||Xt)&&o.a.createElement(s.b,{display:"flex",direction:"row",marginTop:1},o.a.createElement(s.b,{paddingX:2,flex:"grow",width:"100%"},ne&&Yt&&o.a.createElement(Ze.a,{stats:St(R),isVideo:It,isStoryPin:!!R.story_pin_data_id}),a&&!bt&&o.a.createElement(s.b,{paddingY:1},o.a.createElement(s.K,{color:"darkGray",size:"xs"},h.a.getHumanizedTimesince(a))),Vt&&!Ft&&o.a.createElement(s.b,{"data-test-id":"pin-type",minHeight:vt&&gt?40:24},o.a.createElement(Y.a,null,o.a.createElement(Ot,{componentType:0,viewParameter:z,viewType:G,pinId:Ee,pin:R,types:mt}))),o.a.createElement(s.b,{display:"flex",justifyContent:"between"},o.a.createElement(s.b,{column:12},o.a.createElement(J.a,{name:"web_creators_story_pin_display",activate:!0,isEligible:!!R.story_pin_data_id},function(e){return e.anyEnabled&&o.a.createElement(s.b,{paddingY:1},o.a.createElement(et.a,{icon:"story-pin",pinId:Ee}))}),o.a.createElement(Ke,{buyableProduct:fe,richSummary:Ae,showProductInfo:ee}),Dt&&kt.length>0&&o.a.createElement(s.b,{paddingY:1},o.a.createElement(s.K,{size:"sm",bold:!0},o.a.createElement(Ge.a,{text:kt,options:{hashtags:{appendText:kt,source:"hashtag_pinrep"}}}))),Nt&&jt.length>0&&o.a.createElement($e.a,{title:jt,pinId:Ee}),Bt&&xt.length>0&&o.a.createElement(We,{description:xt,pinId:Ee}),_t&&o.a.createElement(ot,{richSummary:Ae}),o.a.createElement(J.a,{name:"web_avatar_hover_cards"},function(t){var n=t.group;return o.a.createElement(ze,{feedbackType:Xt,hideAttribution:w,imageOnly:Rt,imageOnlyAttribution:le,isHovering:Ue,isVideo:It,onClickThrough:e.handleClickthroughLogging,onReactionReplyClick:e.handleReactionReplyClick,pin:R,showCredits:W||"enabled_credits"===n||"employees"===n,showPinReactionsReply:te,sourceUrl:Fe,viewParameter:z,viewType:G})}))),Wt&&o.a.createElement(s.b,{paddingY:1},o.a.createElement("pre",null,be))),o.a.createElement(s.b,{display:"flex",direction:"column",alignItems:"center"},!E&&Xt&&o.a.createElement(s.b,{"data-test-id":"feedback-button",display:"flex",justifyContent:"end",position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:u.a.max}},width:24,height:24},o.a.createElement(Y.a,null,o.a.createElement(wt,{ad_match_reason:ue,bestPinImgSrc:Ht,board:de,feedbackData:b&&b.data||{},feedbackType:Xt,hideDownload:It,isHomefeedContextualMenuTooltip:an,pinDescription:xt,pinTitle:jt,pinId:Ee,pinCategory:Le,pinImage:Te&&Te["236x"].url,pinner:Ie,promoter:xe,recommendationReason:Re,reportPin:Object(m.a)({pin:R,viewParameter:z,viewType:G}),sourceInterest:De,viewParameter:z,viewType:G}))))),At&&o.a.createElement(s.b,{display:"flex",direction:"row",marginTop:1},o.a.createElement(s.b,{paddingX:2,flex:"grow",width:"100%"},o.a.createElement(s.b,{display:"flex",justifyContent:"between"},o.a.createElement(s.b,{column:12},o.a.createElement($e.a,{title:jt,pinId:Ee}))))))}))),o.a.createElement(J.a,{name:"web_homefeed_control_panel_nag",activate:!1},function(e){var t=e.anyEnabled;return o.a.createElement(J.a,{name:"web_homefeed_control_panel_pin_feedback"},function(e){var n=e.anyEnabled;return o.a.createElement(J.a,{name:"web_homefeed_control_contextual_menu_v2"},function(e){var r=e.anyEnabled;return!!K&&o.a.createElement(Y.a,null,o.a.createElement(Et,{feedbackText:v,feedbackType:Xt,pinId:Ee,pinImage:Te&&Te["236x"].url,undoAction:oe,undoText:ie,isContextMenuV2Exp:r,isHomefeedControlPanelExp:t||n,showFeedbackOverlay:T}))})})}))}},{key:"canDelete",get:function(){return(this.props.pin.access||[]).includes("delete")}},{key:"isOwnPin",get:function(){return(this.props.pin.access||[]).includes("write")}}])&&bt(n.prototype,r),i&&bt(n,i),t}());_t(Ct,"contextTypes",{unauthId:W.a.string.isRequired,userAgent:W.a.shape({platform:W.a.string.isRequired,platformVersion:W.a.arrayOf(W.a.number),raw:W.a.string.isRequired})}),_t(Ct,"defaultProps",{pinsBoardEditableByViewer:!1,showCondensedInfo:!1,showPersistentPromoteButton:!1,truncatePinHeight:!0,showSavedInfo:!0});t.b=Object(g.compose)(dt.withRouter,pt.a,me.e,Object(i.connect)(function(e,t){var n,r=e.boards,o=e.experiences,i=e.pins,a=e.ui,c=e.viewer,l=t.pin,u=l.id,s=l.board,d=i[u],p=c.isAuth?c.boardCount:void 0,f=s&&s.id,m=r.content[f],y=m&&(m.access||[]).includes("write"),b=c.isAuth&&(Object(ft.d)({user:c})||Object(ft.e)({user:c}))&&!c.isPartner;if(d){var h=d.carousel_data;n=h&&h.index}var v=o&&o.eligibleExperiences&&o.eligibleExperiences[1000116]&&501093===o.eligibleExperiences[1000116].experience_id;return{currentVideoPinId:a.app.currentVideo.pinId,boardCount:p,carouselIndex:n,isHomefeedContextualMenuTooltipExperience:v,feedbackText:d&&d.feedbackText,hideSaveButton:d&&d.pinner&&d.pinner.blocked_by_me,isNewOrResurrectedNonPartner:b,isShareable:!m||"secret"!==m.privacy,pinsBoardEditableByViewer:y,savedInfo:d&&d.savedInfo,showFeedback:d&&d.showFeedback,showFeedbackOverlay:d&&d.showFeedbackOverlay,undoAction:d&&d.undoAction,undoText:d&&d.undoText}},function(e,t){return{setCurrentVideo:function(t,n){return e(Object(st.a)(t,n))}}}))(Ct)},XHfN:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("Ivf5"),a=n("jJRE"),c=n("8gFa"),l=n.n(c),u=n("vR+M"),s=n("jmSR"),d=n.n(s),p=n("+U6O");function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=function(e){if(Array.isArray(e)){var t=e.find(function(e){return"video/m3u8"===e.type});return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0},w=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=y(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==g(o)&&"function"!=typeof o?h(r):o,v(h(h(n)),"state",{canPlayVideo:!1,isManifestParsed:!1}),v(h(h(n)),"setVideoPlayerRef",function(e){n.videoPlayerRef=e,n.videoPlayerRef&&n.videoPlayerRef.video&&n.videoPlayerRef.video.addEventListener("canplay",function(){n.setState({canPlayVideo:!0})})}),v(h(h(n)),"hls",null),v(h(h(n)),"initializeHls",function(){n.destroyHls();var e=n.props,t=e.src,r=e.hlsConfig,o=new d.a(r);o.loadSource(t),n.videoPlayerRef&&o.attachMedia(n.videoPlayerRef.video),o.on(d.a.Events.MANIFEST_PARSED,function(){n.setState({isManifestParsed:!0})}),n.hls=o}),v(h(h(n)),"destroyHls",function(){var e=h(h(n)).hls;e&&e.destroy()}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.initializeHls()}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props.src;t=e.src,n=r,(g(t)!==g(n)||(Array.isArray(n)?t.length!==n.length||n.some(function(e,n){return!Array.isArray(t)||e.type!==t[n].type||e.src!==t[n].src}):n!==t))&&this.initializeHls()}},{key:"componentWillUnmount",value:function(){this.destroyHls()}},{key:"render",value:function(){var e=this.props,t=e.playing,n=(e.hlsConfig,e.src),r=f(e,["playing","hlsConfig","src"]),i=this.state,a=i.canPlayVideo,c=i.isManifestParsed;return o.a.createElement(p.Q,Object.assign({},r,{ref:this.setVideoPlayerRef,playing:c&&a&&t,src:n}))}}])&&m(n.prototype,r),i&&m(n,i),t}();function E(e){var t=e.hlsConfig,n=e.src,r=f(e,["hlsConfig","src"]),i=_(n);return u.a.isSafari()?o.a.createElement(p.Q,Object.assign({},r,{src:i})):o.a.createElement(w,Object.assign({},r,{hlsConfig:t,src:i}))}var O=n("tcFq");function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e){var t=e.eventData.videoEvent,n=t.videoDuration,r=t.startTime,o=t.endTime,i=t.videoStartTime,a=t.videoEndTime,c=t.isAudible,l=t.height,u=t.width,s=t.playbackState,d=t.quartile,p=t.quartilePercentValue,f=t.windowHeight,m=t.windowWidth,y=t.viewability;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){T(e,t,n[t])})}return e}({},P(e,["eventData"]),{eventData:{videoEventData:{videoDuration:n,time:r,endTime:o,videoTime:i,endVideoTime:a,isAudible:c,height:l,width:u,playbackState:s,quartile:d,quartilePercentValue:p,windowHeight:f,windowWidth:m,viewability:y}}})}function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){D(e,t,n[t])})}return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=[0,.25,.5,.75,.95,.97,1],M=[0,.5,.8,1],B={threshold:M},N=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function U(){return(new Date).getTime()}function H(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],o=t[n+1];if(null==o)return r;if(r<=e&&e<o)return r}return null}function V(e){return e.volume>0}var F=function(e){function t(e){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=x(t).call(this,e),n=!i||"object"!==I(i)&&"function"!=typeof i?A(r):i,D(A(A(n)),"handleWindowResize",function(){var e=n.getDimensions(),t=n.currentInterval,r=t.height,o=t.width;e.height!==r||e.width!==o?n.startNewInterval(e):(n.currentInterval.windowHeight=e.windowHeight,n.currentInterval.windowWidth=e.windowWidth)}),D(A(A(n)),"handleTimeChange",function(e){var t=H(e.time/n.currentInterval.videoDuration,L);if(n.props.playing&&null!=t&&L.includes(t)&&!n.seenQuartiles.has(t)){var r=U();n.logVideoEvent(6906,k({},n.currentInterval,{startTime:r,endTime:r,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*t),quartilePercentValue:t})),n.seenQuartiles.add(t)}n.videoTime=e.time,n.props.onTimeChange&&n.props.onTimeChange(e)}),D(A(A(n)),"handleDurationChange",function(e){n.currentInterval.videoDuration=e.duration,n.props.onDurationChange&&n.props.onDurationChange(e)}),D(A(A(n)),"handleReady",function(e){n.ready||(n.ready=!0,n.startNewInterval({playbackState:n.getPlaybackState(n.props)})),n.props.onReady&&n.props.onReady(e)}),D(A(A(n)),"handleVisibilityChange",function(e,t){if(0!==e.length){var r=e.slice(-1)[0],o=H(r.intersectionRatio,M);null!=o&&o!==n.currentInterval.viewability&&n.startNewInterval({viewability:o})}}),D(A(A(n)),"handleContextMenu",function(e){e.preventDefault()});var a=U();return n.ready=!1,n.handleWindowResize=l()(n.handleWindowResize,1e3),n.videoWrapperRef=o.a.createRef(),n.currentInterval={videoDuration:0,startTime:a,endTime:a,videoStartTime:0,videoEndTime:0,isAudible:V(e),playbackState:n.getPlaybackState(e),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},n.videoTime=0,n.seenQuartiles=new Set,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.currentInterval=k({},this.currentInterval,this.getDimensions()),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e){var t={};V(e)&&!V(this.props)?t.isAudible=!1:!V(e)&&V(this.props)&&(t.isAudible=!0);var n=this.getPlaybackState(this.props);this.getPlaybackState(e)!==n&&(t.playbackState=n),Object.keys(t).length>0&&this.startNewInterval(t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),this.startNewInterval()}},{key:"getPlaybackState",value:function(e){return this.ready?e.playing?N.PLAYING:N.PAUSED:N.LOADING}},{key:"getDimensions",value:function(){var e,t;if("object"===I(this.videoWrapperRef)&&this.videoWrapperRef.current){var n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function(e,t){var n=t.height,r=t.width,o=t.windowHeight,i=t.windowWidth,a=t.viewability,c=C(t,["height","width","windowHeight","windowWidth","viewability"]);if(this.props.onLogVideoEvent&&null!=n&&null!=r&&null!=o&&null!=i&&null!=a){var l=k({},c,{height:n,width:r,windowHeight:o,windowWidth:i,viewability:a});this.props.onLogVideoEvent(e,k({},this.props.contextLogData,{eventData:{videoEvent:l}}))}}},{key:"startNewInterval",value:function(e){var t=U();this.logVideoEvent(6904,k({},this.currentInterval,{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=k({},this.currentInterval,e,{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this.props,t=(e.contextLogData,e.onLogVideoEvent,C(e,["contextLogData","onLogVideoEvent"]));return t.onDurationChange=this.handleDurationChange,t.onReady=this.handleReady,t.onTimeChange=this.handleTimeChange,o.a.createElement(O.a,{options:B,onVisibilityChange:this.handleVisibilityChange},o.a.createElement("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu},o.a.createElement(E,t)))}}])&&j(n.prototype,r),i&&j(n,i),t}();D(F,"defaultProps",p.Q.defaultProps);t.a=Object(i.connect)(void 0,function(e){return{onLogVideoEvent:function(t,n){return e(Object(a.a)(t,S(n)))}}})(F)},YOfJ:function(e,t,n){"use strict";var r=n("GyhR"),o=n("jE+E");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(){var e,n,r,o,c,u,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var p=arguments.length,f=new Array(p),m=0;m<p;m++)f[m]=arguments[m];return r=this,o=(e=l(t)).call.apply(e,[this].concat(f)),n=!o||"object"!==i(o)&&"function"!=typeof o?s(r):o,c=s(s(n)),d=function(){var e=n.props,t=e.setActive,r=e.showOnTopOfModal;t("flyout",a(e,["setActive","showOnTopOfModal"]),r||!1)},(u="renderFlyout")in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d,n}var n,o,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.renderFlyout()}},{key:"componentDidUpdate",value:function(){this.renderFlyout()}},{key:"componentWillUnmount",value:function(){this.props.setActive()}},{key:"render",value:function(){return null}}])&&c(n.prototype,o),d&&c(n,d),t}(),p=function(e){return r.createElement(o.a.Consumer,null,function(t){return r.createElement(d,Object.assign({},e,{setActive:t}))})};p.displayName="MasonryFlyout",t.a=p},b7z0:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("GyhR"),o=n.n(r),i=n("qQ1r"),a=n("fyXL"),c=n("AZKp");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={xs:"12px",sm:"14px",md:"16px",lg:"18px",xl:"21px"},y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,n=!(o=(e=s(t)).call.apply(e,[this].concat(a)))||"object"!==l(o)&&"function"!=typeof o?p(r):o,f(p(p(n)),"state",{isRTL:!1}),n}var n,r,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.setState(function(){return{isRTL:Boolean(document&&document.body&&document.body.style&&"rtl"===document.body.style.direction)}})}},{key:"render",value:function(){var e=this.props,t=e.align,n=void 0===t?"left":t,r=e.children,l=e.color,u=void 0===l?"darkGray":l,s=e["data-test-id"],d=e.inline,p=void 0!==d&&d,y=e.italic,b=void 0!==y&&y,h=e.leading,v=e.overflow,g=void 0===v?"breakWord":v,_=e.size,w=void 0===_?"md":_,E=e.truncate,O=void 0!==E&&E,T=e.weight,P=void 0===T?"normal":T,S=e.__dangerouslyIncreaseLineHeight,C=void 0!==S&&S,I=this.state.isRTL,k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({},a.a,{fontSize:m[w],color:i.a[u],fontWeight:c.a[P]},"short"===h?{lineHeight:1.2}:{},"tall"===h||C?{lineHeight:1.5}:{},"center"===n?{textAlign:"center"}:{},"justify"===n?{textAlign:"justify"}:{},"left"===n?{textAlign:I?"right":"left"}:{},"right"===n?{textAlign:I?"left":"right"}:{},"breakWord"===g?{hyphens:"auto",wordWrap:"break-word"}:{},b?{fontStyle:"italic"}:{},b?{}:{fontStyle:"normal"},O?{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}),j=p?"span":"div";return o.a.createElement(j,Object.assign({style:k},s?{"data-test-id":s}:{},O&&"string"==typeof r?{title:r}:{}),r)}}])&&u(n.prototype,r),y&&u(n,y),t}();t.b=y},bUMO:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("Qo1m"),o=n("Irlq");function i(e){var t=e.m,n=e.h,i=e.rm,a=e.rh;return t&&(!n||a<=0)?Object(o.b)(r.a.ngettext("{{mins}} minute","{{mins}} minutes",i),{mins:i.toString()}):n?Object(o.b)(r.a.ngettext("{{hrs}} hour","{{hrs}} hours",a),{hrs:a.toString()}):null}},"eB/M":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d});var r=n("HQ9/");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=["search_banner_story","search_articles_story","hashtag_pins_story"],l={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARD_SECTIONS:"boardSections",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",USER_DID_IT_DATA:"userDidItData",PROFILE_BOARDS:"profileBoards"},u={AggregatedActivityFeedResource:function(e){var t=e.options.aggregated_pin_data_id;return{type:l.USER_DID_IT_DATA,id:t}},AggregatedCommentFeedResource:function(e){var t=e.options.objectId;return{type:l.AGGREGATED_COMMENTS,id:t}},AggregatedCommentReplyFeedResource:function(e){var t=e.options.objectId;return{type:l.AGGREGATED_COMMENTS,id:t,reversed:!0}},BoardActivityFeedResource:function(e){var t=e.options.board_id;return{type:l.BOARD_ACTIVITYITEMS,id:t}},BoardActivityCommentFeedResource:function(e){var t=e.options,n=t.activityId,r=t.parentType;return{type:l.BOARD_ACTIVITYCOMMENTS,id:n,reversed:"boardactivitycomment"===r}},BoardFeedResource:function(e){var t=e.options.board_id;return{type:l.BOARD_PINS,id:t}},BoardSectionPinsResource:function(e){var t=e.options.section_id;return{type:l.SECTION_PINS,id:t}},BoardSectionsResource:function(e){var t=e.options.board_id;return{type:l.BOARD_SECTIONS,id:t}},BoardsResource:function(e){var t=e.options,n=t.username,o=t.sort;return{type:l.PROFILE_BOARDS,id:Object(r.c)(n,o)}},BaseSearchResource:function(e){var t=e.options,n=t.auto_correction_disabled,r=t.scope,o=t.filters,i=t.query_pin_sigs,a=t.query,u=e.data;return{type:l.SEARCH_PINS,id:n?"auto-correction-disabled:".concat(r,":").concat(o||"",":").concat(i||"",":").concat(a):"".concat(r,":").concat(o||"",":").concat(i||"",":").concat(a),items:u&&u.results&&u.results.filter(function(e){return!(e.story_type&&c.includes(e.story_type))})||[]}},DidItCommentsResource:function(e){var t=e.options.objectId;return{type:l.AGGREGATED_COMMENTS,id:t,reversed:!0}},DidItUserFeedResource:function(e){var t=e.options.username;return{type:l.USER_DID_IT_DATA,id:t}},MoreIdeasTabsResource:function(){return{type:l.HOMEFEED_MORE_IDEAS_TABS,id:"hf"}}},s={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardPins:{},boardSections:{},homefeedMoreIdeasTabs:{},searchPins:{},sectionPins:{},userDidItData:{},profileBoards:{}};function d(e,t,n){var r=a(e),o=r.splice(t,1)[0];return r.splice(n,0,o),r}t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESOURCE_FETCH_COMPLETE":case"RESOURCE_FETCH_MORE_COMPLETE":var n=t.payload;if(!n.options.redux_normalize_feed)return e;var r=u[n.name](n),c=r.type,p=r.id,f=r.items,m=r.reversed,y=(f||n.data||[]).map(function(e){return function(e,t){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===l.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};default:return{type:"pin",id:e.id}}}(e,c)});m&&(y=y.reverse());var b=e[c][p];if(b||"RESOURCE_FETCH_MORE_COMPLETE"!==t.type){var h=b||[],v=y;return"RESOURCE_FETCH_MORE_COMPLETE"===t.type&&(v=m?y.concat(h):h.concat(y)),o({},e,i({},c,o({},e[c],i({},p,v))))}break;case"FEED_ITEM_REORDERED":var g=t.payload,_=g.feedType,w=g.feedId,E=g.itemType,O=g.targetItemId,T=g.sourceItemId,P=e[_]||{},S=P[w]||[],C=-1,I=-1;if([l.BOARD_PINS,l.SECTION_PINS,l.BOARD_SECTIONS,"profileBoards"].includes(_)&&(C=S.findIndex(function(e){return e.type===E&&e.id===T}),I=S.findIndex(function(e){return e.type===E&&e.id===O})),-1!==C&&-1!==I)return o({},e,i({},_,o({},P,i({},w,d(S,C,I)))));break;case"FEED_ITEMS_REMOVED":var k=t.payload,j=k.feedType,x=k.feedId,R=k.inverseSelection,A=k.itemType,D=k.itemIds,L=void 0===D?[]:D,M=e[j]||{},B=M[x];if(B&&B.length>0&&(j===l.SECTION_PINS||j===l.BOARD_PINS)){var N=B.filter(function(e){var t=L.includes(e.id);return!(e.type===A&&(R&&!t||!R&&t))});return o({},e,i({},j,o({},M,i({},x,N.find(function(e){return"pin"===e.type})?N:[]))))}if(B&&B.length>0&&j===l.BOARD_SECTIONS)return o({},e,i({},j,o({},M,i({},x,B.filter(function(e){var t=L.includes(e.id);return!(e.type===A&&t)})))));if(B&&B.length>0&&(j===l.BOARD_ACTIVITYITEMS||j===l.AGGREGATED_COMMENTS||j===l.BOARD_ACTIVITYCOMMENTS||j===l.USER_DID_IT_DATA))return o({},e,i({},j,o({},M,i({},x,B.filter(function(e){var t=L.includes(e.id);return!(e.type===A&&t)})))));break;case"FEED_ITEMS_ADDED":var U=t.payload,H=U.feedType,V=U.feedId,F=U.itemType,z=U.itemIds,G=void 0===z?[]:z,W=U.prepend,Y=e[H]||{},q=Y[V];if(q&&(H===l.SECTION_PINS||H===l.BOARD_PINS)){var K=G.map(function(e){return{id:e,type:F}}),Q=0;return"story"===(q[0]||{}).type&&(Q=1),"story"===(q[1]||{}).type&&(Q=2),o({},e,i({},H,o({},Y,i({},V,a(q.slice(0,Q)).concat(a(K),a(q.slice(Q)))))))}if(q&&H===l.BOARD_SECTIONS){var X=G.reverse().map(function(e){return{id:e,type:"board_section"}});return o({},e,i({},H,o({},Y,i({},V,q?a(X).concat(a(q)):a(X)))))}if(H===l.BOARD_ACTIVITYITEMS||H===l.AGGREGATED_COMMENTS||H===l.BOARD_ACTIVITYCOMMENTS){var J=G.map(function(e){return{id:e,type:F}});return o({},e,i({},H,o({},Y,i({},V,q?a(W?J:q).concat(a(W?q:J)):J))))}if(H===l.USER_DID_IT_DATA){var Z=G.map(function(e){return{id:e,type:F}}),$=q?a(Z).concat(a(q)):Z;return o({},e,i({},H,o({},e[H],i({},V,$))))}break;case"FEED_INVALIDATE":var ee=t.payload,te=ee.feedType,ne=ee.feedId,re=e[te]||{};if(re[ne])return o({},e,i({},te,o({},re,i({},ne,null))))}return e}},exzK:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("Ivf5"),a=n("oko/"),c=n("Qo1m"),l=n("9Y9K"),u=n("2Npu"),s=n("+U6O");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={slider:{cursor:"pointer",height:"100%",position:"relative",width:"10%",zIndex:"105",pointerEvents:"auto"}},f=function(e,t,n,r,o,i,a,c,l,u){if(!u||!o){var s=o.carousel_slots,p=o.id;t&&t(108,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},l,{objectId:e,component:c,view:a,viewParameter:i,eventData:{pinCarouselSlotEventData:{carouselSlotId:s[n]&&Number(s[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:r}}}))}},m=function(e,t,n,r,o,i){i||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==o&&o(n)};t.a=Object(l.compose)(u.a,Object(i.connect)(function(e,t){var n=e.pins,r=t.pinId;return{carousel_data:n[r]&&n[r].carousel_data}},function(e){return{changeCarouselSlotIndex:function(t,n){return e(Object(a.a)(t,n))}}}))(function(e){var t=e.carouselIndex,n=e.carousel_data,r=e.changeCarouselSlotIndex,i=e.handleCarouselSwipe,a=e.pinId,l=e.contextLog,u=e.contextLogData,d=e.viewParameter,y=e.viewType,b=e.componentType,h=e.isEditMode,v=n.carousel_slots,g=n.index,_=void 0!==t?t:g,w=Math.max(0,_-1),E=Math.min(v.length-1,_+1);return o.a.createElement(s.b,{display:"flex",justifyContent:"between",position:"absolute",left:!0,right:!0,bottom:!0,top:!0},o.a.createElement("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:function(e){m(e,a,w,r,i,h),f(a,l,_,w,n,d,y,b,u,h)},onKeyUp:function(e){m(e,a,w,r,i,h),f(a,l,_,w,n,d,y,b,u,h)},style:p.slider},_>0&&o.a.createElement(s.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(s.n,{color:"white",icon:"arrow-back",accessibilityLabel:c.a._("View Previous","Button to advance carousel to the previous image")}))),o.a.createElement("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:function(e){m(e,a,E,r,i,h),f(a,l,_,E,n,d,y,b,u,h)},onKeyUp:function(e){m(e,a,E,r,i,h),f(a,l,_,E,n,d,y,b,u,h)},style:p.slider},_<v.length-1&&o.a.createElement(s.b,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(s.n,{color:"white",icon:"arrow-forward",accessibilityLabel:c.a._("View Next","Button to advance carousel to the next image")}))))})},fyXL:function(e,t,n){"use strict";t.a={MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Helvetica, "ãƒ’ãƒ©ã‚®ãƒŽè§’ã‚´ Pro W3", "Hiragino Kaku Gothic Pro", "ãƒ¡ã‚¤ãƒªã‚ª", Meiryo, "ï¼­ï¼³ ï¼°ã‚´ã‚·ãƒƒã‚¯", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',letterSpacing:"-0.4px"}},hX7C:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=/[\- _,.<>:;+=*&@~\/\|!]*$/,o=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"â€¦";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n])t=e.substring(0,n);else{var i=e.lastIndexOf(" ",n);t=e.substring(0,i)}return(t=t.replace(r,""))+o},i=/\s\s+/g,a=function(e){return e.replace(i," ")}},"jE+E":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("GyhR"),o=n.n(r),i=(n("hvnN"),n("+U6O"));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=o.a.createContext(function(){}),f=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,o=(e=l(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==a(o)&&"function"!=typeof o?s(r):o,d(s(s(n)),"state",{flyout:void 0,showOnTopOfModal:!1,tooltip:void 0}),d(s(s(n)),"setActive",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var o,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}({},t,{onDismiss:function(){t&&t.onDismiss&&(t.onDismiss(),n.setState({flyout:void 0,tooltip:void 0}))}});"flyout"===e&&(i.positionRelativeToAnchor=!1),n.setState((d(o={},e,{props:i}),d(o,"showOnTopOfModal",r),o))}else n.setState({flyout:void 0,tooltip:void 0})}),n}var n,f,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(f=[{key:"render",value:function(){var e=this.state,t=e.flyout,n=e.tooltip,r=e.showOnTopOfModal;return o.a.createElement("div",null,o.a.createElement(p.Provider,{value:this.setActive},this.props.children),o.a.createElement("div",(t||n)&&r?{style:{zIndex:752,position:"absolute",top:0}}:{},t&&o.a.createElement(i.k,t.props),n&&o.a.createElement(i.k,Object.assign({},n.props,{color:"darkGray",shouldFocus:!1,size:"md"}),o.a.createElement(i.b,{column:12,padding:3},n.props.children))))}}])&&c(n.prototype,f),m&&c(n,m),t}();t.b=f},k3nM:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("Ivf5"),a=n("Qo1m"),c=n("XHfN"),l=n("+U6O");var u=n("HW6o"),s=n("3BJc");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=Object(u.a)(function(e){var t=e.image,n=e.onTimeChange,r=e.pin,i=e.playing,u=e.viewType,s=e.viewParameter,d=r.videos.video_list.V_HLSV4,p=d&&[{type:"video/m3u8",src:d.url}],f=(r.images["236x"]||{}).url,m=d||{},y=m.height,b=m.thumbnail,h=m.width;return o.a.createElement(l.b,null,i?o.a.createElement(c.a,{contextLogData:{component:0,view:u,viewParameter:s,objectId:r.id,video_id:r.videos.id},accessibilityMaximizeLabel:a.a._("Maximize","Maximize button on video"),accessibilityMinimizeLabel:a.a._("Minimize","Minimize button on video"),accessibilityMuteLabel:a.a._("Mute","Mute button on video"),accessibilityPauseLabel:a.a._("Pause","Pause button on video"),accessibilityPlayLabel:a.a._("Play","Play button on video"),accessibilityUnmuteLabel:a.a._("Unmute","Unmute button on video"),aspectRatio:h/y,captions:"",hlsConfig:{capLevelToPlayerSize:!0},loop:!0,onTimeChange:n,playing:i,poster:f||b,src:p,volume:0}):t)}),h=function(e){function t(){var e,n,r,o,i,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return r=this,o=(e=f(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==d(o)&&"function"!=typeof o?y(r):o,i=y(y(n)),c=function(e){var t=n.props,r=t.currentVideoPinId,o=t.pin,i=t.setCurrentVideo;e&&null===r?i(o.id):e||r!==o.id||i(null)},(a="handleVisibilityChanged")in i?Object.defineProperty(i,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[a]=c,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.currentVideoPinId,n=e.image,r=e.isAutoplay,i=e.onTimeChange,a=e.pin,c=e.viewParameter,l=e.viewType;return o.a.createElement(b,{image:n,viewParameter:c,viewType:l,onTimeChange:i,onVisibilityChanged:this.handleVisibilityChanged,pin:a,playing:t===a.id&&r,trackFullVisible:!1})}}])&&p(n.prototype,r),i&&p(n,i),t}();t.a=Object(i.connect)(function(e,t){return{currentVideoPinId:e.ui.app.currentVideo.pinId,isAutoplay:e.ui.app.currentVideo.isAutoplay}},function(e,t){return{setCurrentVideo:function(t){return e(Object(s.a)(t))}}})(h)},m2OL:function(e,t,n){"use strict";var r=n("ptua"),o=n("rUah"),i=n("zBQm");t.a=function(e){var t,n=e.pin,a=e.viewParameter,c=e.viewType,l=n.attribution,u=n.embed,s=n.id,d=n.videos,p=Object(i.c)(n);if(Object(i.e)(u,l,d)&&d){var f=d.video_list,m=f[Object.keys(f)[0]];t=m&&m.duration}return function(){r.a.instance.dispatch(Object(o.b)({id:s,isPromoted:p,videoDuration:t,viewParameter:a,viewType:c,type:"pin"}))}}},mcMS:function(e,t,n){"use strict";function r(e){var t=e.m,n=void 0===t?0:t,r=e.h,o=void 0===r?0:r;return{m:n,h:o,rm:o>0?0:n,rh:o<=0?o:n>45?o+1:n>15?o+.5:o}}function o(e){var t=Math.floor(e/3600);return r({m:Math.floor(e%3600/60),h:t})}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},nI4G:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){var o=Math.floor(3e3/n);setTimeout(function(){r(e,t,n-1)},o)}}function o(e,t){return function(n){r(e,t),window.removeEventListener("load",o)}}function i(e,t){"complete"===document.readyState?r(e,t):window.addEventListener("load",o(e,t))}function a(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){var e=function(e){var t=document.createElement("iframe");for(var n in e)t.setAttribute(n,e[n]);return t}({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",function(){return window._sendFacebookPixel=e.contentWindow.fbq})}(),window.addEventListener("load",a))}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a})},oTtv:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=new Map([[1,"â¤"],[6,"ðŸ‘"],[7,"ðŸ’¡"],[8,"ðŸ¤”"],[9,"ðŸ‘Ž"]])},qQ1r:function(e,t,n){"use strict";t.a={green:"#0fa573",pine:"#0a6955",olive:"#364a4c",blue:"#4a90e2",navy:"#004b91",midnight:"#133a5e",purple:"#b469eb",orchid:"#8046a5",eggplant:"#5b2677",maroon:"#6e0f3c",watermelon:"#f13535",orange:"#e3780c",darkGray:"#333",gray:"#8e8e8e",lightGray:"#efefef",red:"#e60023",white:"#fff"}},rSK6:function(e,t,n){"use strict";var r=n("QJ2d"),o=n("JU/q");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};t.a=function(e){var t=e.i18n,n=e.interpolateNamedTemplate,c=e.isContextMenuV2Exp;return{getLearnMoreUrl:function(e){switch(e){case 1:return r.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return r.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return r.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:function(e){var r=e.ad_match_reason,o=e.board,i=e.feedbackType,l=e.makeNavigateLink,u=e.pinner,s=e.promoter,d=e.recommendationReason,p=e.sourceInterest;switch(i){case"pfy":return c?t._("This Pin was inspired by your recent activity","Pin feedback reason"):t._("This Pin is inspired by your recent activity.","Pin feedback reason");case"pfyBoard":var f=d.board,m=f.name,y=l("navigation",f.url,m);return n(c?t._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board"):t._("This Pin is inspired by your board {{ boardLink }}.","Pin feedback - inspired by your board"),{boardLink:y});case"topic":var b=p.name,h=p.url_name,v=l("topicUrl","/topics/".concat(h),b);return n(c?t._("This Pin was inspired by {{ formattedTopic }}","Pin feedback"):t._("Youâ€™re seeing this Pin because you follow the Topic {{ formattedTopic }}.","Pin feedback"),{formattedTopic:v});case"followed":var g="/".concat(u.username),_=l("boardUrl",o.url,a(o.name)),w=l("pinnerUrl",g,a(u.full_name));return c?u.explicitly_followed_by_me?n(t._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback"),{formattedPinner:w}):n(t._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback"),{formattedBoard:_}):u.explicitly_followed_by_me?n(t._("Youâ€™re seeing this Pin because you follow {{ formattedPinner }}â€™s Board {{ formattedBoard }}.","Pin feedback"),{formattedPinner:w,formattedBoard:_}):n(t._("Youâ€™re seeing this Pin because you follow the Board {{ formattedBoard }}.","Pin feedback"),{formattedBoard:_});case"promoted":switch(r){case 1:case 2:case 3:return c?t._("This ad was personalized for you using info from one of our partners","Pin feedback"):t._("This ad was personalized for you using info from one of our partners.","Pin feedback");default:var E=s.full_name,O=s.username,T=l("promotedLink",O?"/"+O+"/":"/",E);return n(c?t._("{{ promoterLink }} paid to have this Pin show up where\n                youâ€™d be more likely to notice it","Pin feedback"):t._("{{ promoterLink }} paid to have this Pin show up where\n                youâ€™d be more likely to notice it.","Pin feedback"),{promoterLink:T})}default:return null}},getFeedbackType:function(e){var t=e.board,n=e.feedback,r=e.viewParameter,o=e.pin,i=o.promoter,a=o.is_downstream_promotion,c=o.recommendation_reason,l=e.pinner,u=n&&n.type;return i&&!a?"promoted":u||(c?"FOLLOWED_INTEREST"===c.reason?"topic":c.board?"pfyBoard":"pfy":t&&t.followed_by_me||l&&l.explicitly_followed_by_me?"followed":140===r||144===r||141===r||145===r||139===r||3173===r?"related":92===r?"default":3082===r?"newsHub":null)},getHidePinAction:function(e){var t,n,r=e.feedbackData,o=e.feedbackType,a=e.pinId,c=e.recommendationReasonId,l=e.pinFeedbackType,u=e.complaintReason,s=e.throughId,d="promoted"===o;switch(o){case"promoted":t="promotedComplaint";break;case"search":t="unrelatedSearchPin";break;case"related":t="relatedPinHide";break;case"newsHub":t="newsHubPinHide";break;default:t="complaint"}switch(o){case"search":n={query:r.query,pin_id:a};break;case"related":n={pin:a};break;case"newsHub":n={pinId:a,newsId:r.newsId};break;default:n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}({complaint_reason:u||0,pin_id:a},c?{recommendation_reason_id:c}:{},{feedback_type:l||1,promoted:d},s?{through_id:s}:{})}return{action:t,actionOptions:n}},getUnfollowAction:function(e){var r=e.board,i=e.feedbackType,a=e.makeNavigateLink,l=e.pinner,u=e.sourceInterest;if("topic"===i){if(u){var s=u.id,d=u.name,p=u.url_name,f=a("topicUrl","/topics/".concat(p),d,!0);return{action:"unfollowTopic",actionOptions:{interest_id:s,interest_list:o.a},title:c?"":t._("Unfollowed","Title shown when unfollowing a certain topic / pin / board"),subTitle:n(c?t._("We'll show you less Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"):t._("Youâ€™ve unfollowed {{ formattedTopic }}. You can follow it again by searching for it.","Confirmation text after unfollowing a topic"),{formattedTopic:f})}}}else if("followed"===i){var m=r||{},y=m.id,b=m.name,h=m.url,v=l.explicitly_followed_by_me,g=l.full_name,_=l.username,w="/".concat(_);if(r&&l){var E=a("boardUrl",h,b,!0),O=a("pinnerUrl",w,g,!0),T=v?n(t._("Youâ€™ve unfollowed {{ formattedPinner }}â€™s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedPinner:O,formattedBoard:E}):n(t._("Youâ€™ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedBoard:E});return c&&(T=v?n(t._("You unfollowed {{ formattedPinner }} and wonâ€™t see Pins they save anymore.","Confirmation text after unfollowing a user"),{formattedPinner:O}):n(t._("You unfollowed the board {{ formattedBoard }} and wonâ€™t see Pins saved to it anymore.","Confirmation text after unfollowing a board"),{formattedBoard:E})),{action:"unfollowBoard",actionOptions:{board_id:y},title:c?"":t._("Unfollowed","Title shown when unfollowing a certain topic / pin / board"),subTitle:T}}}return null}}}},rUah:function(e,t,n){"use strict";function r(e){return{type:"REPORT_CONTENT_SHOW",payload:{id:e.id,isPromoted:e.isPromoted,videoDuration:e.videoDuration,viewParameter:e.viewParameter,viewType:e.viewType,type:e.type}}}function o(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},vl7u:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f});var r=n("D+W/"),o=n("Aa8G"),i=n("q579"),a={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function c(e){return(e||"").trim().replace(/\s+/g," ")}function l(e){var t=e.type,n=e.term,r=void 0===n?"":n,o=e.index;switch(t){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return"".concat(r,"|").concat(t);case a.AUTO_COMPLETE_DEFAULT:return"".concat(r,"|autocomplete|").concat(o);case a.AUTO_COMPLETE_RECENT_SEARCH:return"".concat(r,"|recentsearch|").concat(o);case a.AUTO_COMPLETE_TRENDING:return"".concat(r,"|trending|").concat(o);case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:return"".concat(r,"|recommended|").concat(o);case a.SEARCH_GUIDE:return"".concat(r,"|guide|word|").concat(o);default:return""}}function u(e){var t=e.queryStates;return 0===t.length?"":"&"+i.a.getQueryStringFromObject({term_meta:t.map(function(e){return l(e)})})}function s(e){if(e){var t=e.trim().split(/\s+/);return t.find(function(e){return r.a.SEARCH_FILTER_CONJUNCTIONS.includes(e.toLowerCase())})?[e]:t}return[]}function d(e){var t=e.type,n=e.query,r=void 0===n?"":n,o=e.index;switch(t){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return s(r).map(function(e){return{index:o,term:e,type:t}});case a.AUTO_COMPLETE_RECENT_SEARCH:case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:case a.AUTO_COMPLETE_TRENDING:case a.AUTO_COMPLETE_DEFAULT:return s(r).map(function(e){return{term:e,type:t,index:o}});default:return[]}}function p(e){var t=e.query,n=e.rs,r=e.scope,a=e.guideAdded,c=e.filters,l=e.termMeta;if(!t)return"/";var u={q:t,rs:n,term_meta:l};if(c&&(u.filters=c),a&&a.term&&(u.add_refine="".concat(a.term,"|guide|word|").concat(a.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat(i.a.getQueryStringFromObject(u));var s=r;["pins","buyable_pins","my_pins","boards","users"].includes(s)||((o.a.getInstance().activate("web_search_scope_holdout")||"").startsWith("enabled")||(s="pins"));return s?"/search/".concat(s,"/?").concat(i.a.getQueryStringFromObject(u)):"".concat(window.location.pathname,"?").concat(i.a.getQueryStringFromObject(u))}function f(e,t,n,r){var o=i.a.getQueryStringParams();o.add_refine&&(o["term_meta[]"]?o["term_meta[]"].push(o.add_refine):o["term_meta[]"]=[o.add_refine]);var a=o["term_meta[]"];return p({query:e,rs:r,termMeta:"string"==typeof a?[a]:a,guideAdded:{term:t,index:n}})}},wHKh:function(e,t,n){"use strict";n.d(t,"n",function(){return a}),n.d(t,"l",function(){return c}),n.d(t,"m",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"g",function(){return d}),n.d(t,"o",function(){return m}),n.d(t,"h",function(){return b}),n.d(t,"q",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"p",function(){return _}),n.d(t,"d",function(){return E}),n.d(t,"k",function(){return O}),n.d(t,"j",function(){return T}),n.d(t,"c",function(){return P}),n.d(t,"e",function(){return S}),n.d(t,"f",function(){return C});n("Qo1m"),n("VSY/");var r=n("3KWM"),o=n("hX7C");function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=function(e,t){var n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},c=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{seeMoreButtonHeight:15,seeMoreButtonBottomMargin:3,vaseCarouselHeight:30,descriptionLineHeight:17,descriptionVerticalMargin:10,maxNumTitleLines:1,maxNumDescriptionLines:2}},l=function(e){return"ja"===e?23:19},u=function(e,t){return l(e)*c(t).maxNumTitleLines},s=function(e,t,n){var r=0;if(e){var o=27;"ja"===t&&(o=14);var i=c(n).maxNumTitleLines;(r=Math.floor(e.length/o)+1)>i&&(r=i)}return r},d=function(e){var t=function(e){var t=e.place_summary,n=e.rich_summary,r=n&&"mobile application"!==n.type_name;return{hasRichSummary:r,hasRichAttributionTitle:r&&n.display_name,hasPlaceInfo:!!t}}(e),n=t.hasRichAttributionTitle,r=t.hasPlaceInfo;return n?function(e){var t=e.rich_summary,n=t.apple_touch_icon_images,r=t.favicon_images;return r=r||{},{faviconLink:(n=n||{})["50x"]||r["50x"]||n.orig||r.orig,siteName:t.site_name||e.domain,title:t.display_name}}(e).title:r?function(e){var t=e.place_summary;return{faviconLink:t.source_icon,siteName:t.source_name||e.domain,title:t.name}}(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:null},p=function(e,t,n){return function(e,t,n){if(e){var r=s(e,t,n);return l(t)*r}return 0}(d(e),t.locale,n)+8},f=function(e){return e.visual_descriptions&&e.visual_descriptions.length>0?e.visual_descriptions:e.i18n_visual_descriptions&&e.i18n_visual_descriptions.length>0?e.i18n_visual_descriptions:void 0},m=function(e){var t=function(e){var t=e.rich_summary,n=t&&"mobile application"!==t.type_name;return{hasRichSummary:n,hasRichAttributionTitle:n&&t.display_name,hasPlaceInfo:!!e.place_summary}}(e),n=t.hasRichAttributionTitle,r=t.hasPlaceInfo;return!(!n&&!r)||!(!e.rich_metadata||!e.rich_metadata.title)},y=function(e){return e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||""},b=function(e,t,n){var r="";return"pin"===n&&(r=t&&t.v2ActivateExperiment("meta_pin_title_description")||""),r.startsWith("enabled_meta_description")?function(e){var t=e.pin_join||{},n=t.visual_annotation||[],r=f(t)||[],a=e.description||"",c=(e.rich_metadata||{}).description||"",l=n.map(function(e){return(t.annotations_with_links||{})[e]||{name:e,url:""}}),u=y(e).toLocaleLowerCase().trim(),s=a.toLocaleLowerCase().trim(),d=c.toLocaleLowerCase().trim(),p=r.length>0?r[0].toLocaleLowerCase().trim():"";return c&&c.length>3&&d!==u?(s!==d&&s!==p&&(r=i(r).concat([a])),a=c):r.length>0&&r[0].length>=3&&p!==u?(a&&a.length>3&&s!==u&&s!==p&&(r=i(r).concat([a])),a=r[0],r.shift()):(!a||a.length<3||s===u)&&(n.length?(a=n.join(", "),n=[]):a=""),a&&(a=Object(o.a)(Object(o.b)(a,496)).trim()),{description:a,vaseAnnotations:n,vaseDescriptions:r,annotationsWithLinks:l}}(e):function(e,t){var n=e.pin_join||{},r=n.visual_annotation||[],a=f(n)||[],c=e.description||"",l=r.map(function(e){return(n.annotations_with_links||{})[e]||{name:e,url:""}}),u=y(e).toLocaleLowerCase().trim(),s=c.toLocaleLowerCase().trim(),d=a.length>0&&a[0].toLocaleLowerCase().trim()===u,p=s===u;if(a.length>0&&a[0].length>=3&&!d?!c||c.length<3||p?(c=a[0],a=a.slice(1)):((t||"").startsWith("enabled_meta_vase_description")?a.length>0&&a[0].toLocaleLowerCase().trim()!==s&&(a=i(a).concat([c])):a=i(a).concat([c]),c=a.shift()):(!c||c.length<3||p)&&(r.length?(c=r.join(", "),r=[]):c=""),(t||"").startsWith("enabled_meta_vase_description")){var m=(e.rich_metadata||{}).description||"",b=m.toLocaleLowerCase().trim();m&&m.length>3&&b!==u&&b!==s&&(a=i(a).concat([m]))}return c&&(c=Object(o.a)(Object(o.b)(c,496)).trim()),{description:c,vaseAnnotations:r,vaseDescriptions:a,annotationsWithLinks:l}}(e,r)},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t&&t.length>0&&!e.userAgent.isMobile&&!r},v=function(e,t){var n=0;if(e){e=Object(o.a)(e);var r=c(t).maxNumDescriptionLines;(n=Math.floor(e.length/35)+1)>r&&(n=r)}return n},g=function(e,t){var n=c(t);return n.descriptionLineHeight*n.maxNumDescriptionLines},_=function(e,t,n,r,o,i){var a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!r)return null;if(a){var c=h(o,n,i);return e&&e.length>0||o.userAgent.isMobile&&t||!c&&n&&n.length>0}return!1},w=function(e,t,n,r){arguments.length>4&&void 0!==arguments[4]&&arguments[4];var o=0,i=b(e,n,t.pageType),a=i.description,l=i.vaseAnnotations,u=i.vaseDescriptions,s=c(n);if(_(u,a,l,e,t,n)&&(o+=s.seeMoreButtonHeight,o+=s.seeMoreButtonBottomMargin),h(t,l,n,r)&&(o+=s.vaseCarouselHeight),!r){var d=v(a,n);o+=s.descriptionVerticalMargin+s.descriptionLineHeight*d}(e.pinner&&e.board&&(o+=28),e.expandedVASE)&&(u&&u.length>0&&(o+=function(e,t,n){var r=b(e,t,n).vaseDescriptions,o=0;return r&&r.length>0&&r.forEach(function(e,t){o+=Math.ceil(e.length/49)}),11*o+5*r.length}(e,n,t.pageType)));return o},E=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=m(e)?p(e,t,n):0,c=r?0:w(e,t,n,o,i);return a||c?c+a+10:0},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"orig",n=["orig","736x","564x","474x","236x","170x"],r=e.images[t];if(r)return r;var o=n.indexOf(t);if(o>=0)for(var i=o+1;i<n.length;i+=1){var a=n[i];if(r=e.images[a])return r}return e.images["236x"]};function T(e){if(e.embed&&"gif"===e.embed.type)return e.embed.src;if(e.images){var t=e.images,n=Object.keys(t).map(function(e){var n=e.split("x")[0];return Number.isNaN(Number(n))?e:(t[n]=t[e],n)});n.sort();var r=n.pop();return t[r].url}return e.image_large_url||""}var P=function(e,t){if(!e||!e.images||!e.images["236x"])return 0;var n=e.images["236x"].height,o=n<t?n:t,i=600;n>600&&!e.fullImage&&(i=500);var a=O(e,"orig");if(a){var c=Math.floor(a.height*r.e/a.width);o=c>i?i:c}return o},S=function(e){var t={relatedKlpPillHeight:38,pillMargin:12,storyTitleHeight:17,storyTitleBottomMargin:18,maxRelatedInterests:6},n=Math.min(e,t.maxRelatedInterests);return n*t.relatedKlpPillHeight+(n-1)*t.pillMargin+t.storyTitleHeight+t.storyTitleBottomMargin},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=[];if(e.length>0)for(var r=new Set,o=0;n.length<t&&o<e.length;){var i=e[o];i.images&&(!i.link||i.link&&!r.has(i.link))&&(n.push(i),r.add(i.link)),o+=1}return n}},xP02:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),i=n("+U6O");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(){var e,n,r,c,u,d,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,m=new Array(f),y=0;y<f;y++)m[y]=arguments[y];return r=this,n=!(c=(e=l(t)).call.apply(e,[this].concat(m)))||"object"!==a(c)&&"function"!=typeof c?s(r):c,u=s(s(n)),p=function(e){return e?o.a.createElement(i.p,{naturalHeight:1,src:e,fit:"cover",naturalWidth:1,alt:"https://i.pinimg.com/564x/d8/a4/5c/d8a45cbb4a459525e34beb84fc445f7b.jpg",color:"lightGray"}):o.a.createElement(i.b,{color:"lightGray"})},(d="getImage")in u?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p,n}var n,d,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["PureComponent"]),n=t,(d=[{key:"render",value:function(){var e=this.props.images;return e&&0!==e.length?1===e.length?o.a.createElement(i.b,{height:146.87,display:"flex",direction:"row"},this.getImage(e[0])):o.a.createElement(i.b,{height:146.87,display:"flex",direction:"row"},this.getImage(e[0]),o.a.createElement(i.b,{color:"white",width:"2px",flex:"none"}),this.getImage(e[1])):o.a.createElement(i.b,{height:146.87,display:"flex",direction:"row"},o.a.createElement(i.b,{color:"lightGray"}),o.a.createElement(i.b,{color:"darkWash"}))}}])&&c(n.prototype,d),p&&c(n,p),t}(),p=n("YOfJ"),f=n("Y2BC"),m=n("kIql"),y=n("Ivf5"),b=n("Qo1m"),h=n("z/1d"),v=n("Irlq"),g=function(e){var t=e.followText,n=e.followerCount,r=e.userFollowed;return Object(v.b)(b.a._("{{ followCount }} {{ followText }}"),{followCount:o.a.createElement(i.b,{"data-test-id":"followCount",key:"followCount",dangerouslySetInlineStyle:{__style:r?null:{opacity:.75}},paddingX:2},o.a.createElement(i.K,{color:r?"gray":"white",size:"md",align:"center"},o.a.createElement(h.a,{value:n||0,shortform:!0,shortformMaximumFractionDigits:0}))),followText:o.a.createElement(i.b,{"data-test-id":"followText",key:"followText"},o.a.createElement(i.K,{bold:!0,color:r?"darkGray":"white",size:"md",overflow:"normal",align:"center"},t))})},_=n("KCDi"),w=n("KsVg"),E=n("9Y9K"),O=n("Ii6Q");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return r=this,i=(e=S(t)).call.apply(e,[this].concat(c)),n=!i||"object"!==T(i)&&"function"!=typeof i?I(r):i,k(I(I(n)),"handleClick",function(){n.props.userFollowed?n.unfollow():n.follow()}),k(I(I(n)),"follow",function(){var e=n.props;(0,e.follow)(e.id),n.showConfirmation()}),k(I(I(n)),"showConfirmation",function(){var e=n.props,t=e.fullName,r=e.imageUrl,i=e.profileUrl,a=e.showToast;(0,e.hideAllToasts)(),a(function(e){var n=e.onHide;return o.a.createElement(_.a,{onHide:n,text:[b.a._("Now following","text that comes before a board/user name in toast"),t],href:i,imageUrl:r})})}),k(I(I(n)),"unfollow",function(){var e=n.props,t=e.id;(0,e.unfollow)(t)}),n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"renderButton",value:function(){var e=this.props,t=e.followerCount,n=e.showFollowerCount,r=e.userFollowed,a=this.props.userFollowed?b.a._("Following","User follow button"):b.a._("Follow","User follow button");return n?o.a.createElement(i.P,{onTouch:this.handleClick,fullWidth:!0,fullHeight:!0},o.a.createElement(i.b,{color:r?"lightGray":"red",dangerouslySetInlineStyle:{__style:{borderRadius:"8px"}},paddingX:12,paddingY:2,display:"flex",direction:"row",alignItems:"center",justifyContent:"center",width:"100%",height:40},o.a.createElement(g,{followerCount:t,userFollowed:r,followText:a}))):o.a.createElement(i.c,{text:a,onClick:this.handleClick,color:r?"gray":"red"})}},{key:"render",value:function(){return o.a.createElement(i.b,{position:"relative",display:"flex",width:"100%",alignItems:"center",justifyContent:"center"},this.renderButton())}}])&&P(n.prototype,a),c&&P(n,c),t}(),x=Object(E.compose)(w.a,Object(y.connect)(function(e,t){var n=t.id,r=(e.users||{})[n];return{followerCount:r?r.follower_count:0,userFollowed:!!r&&r.explicitly_followed_by_me}},function(e){return{follow:function(t){return e(Object(O.a)(t))},unfollow:function(t){return e(Object(O.b)(t))}}}))(j),R=n("LCmp"),A=n("b7z0");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,B(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r["PureComponent"]),n=t,(i=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.isTitle,r=e.numLines*e.singleLineMaxLength,i=Object(R.a)(t,r);return n?o.a.createElement(A.b,{align:"center",overflow:"normal",size:"md",weight:"bold"},i):o.a.createElement(A.b,{align:"center",overflow:"normal",size:"sm",weight:"normal"},i)}}])&&L(n.prototype,i),a&&L(n,a),t}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,z(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.avatarUrl,n=e.userFullName,r=e.isCreator,a=e.followerCount,c=e.username,l=e.id,u="/".concat(c);return o.a.createElement(i.b,{display:"flex",direction:"column",alignItems:"center",padding:4,width:"100%"},o.a.createElement(i.b,{dangerouslySetInlineStyle:{__style:{marginTop:-58}},display:"flex",alignItems:"center",max:86,width:86},o.a.createElement(i.a,{src:t,name:n,outline:!0})),o.a.createElement(i.b,{marginTop:3,marginBottom:4,overflow:"hidden",maxHeight:44,width:214},o.a.createElement(U,{text:n,numLines:2,singleLineMaxLength:20,isTitle:!0})),o.a.createElement(i.b,{height:40,width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(x,{fullName:n,imageUrl:t,profileUrl:u,showFollowerCount:r,followerCount:a,id:l})))}}])&&V(n.prototype,a),c&&V(n,c),t}(),Y=n("JsRk");function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=236,ee=300,te=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];return r=this,a=(e=Q(t)).call.apply(e,[this].concat(l)),n=!a||"object"!==q(a)&&"function"!=typeof a?J(r):a,Z(J(J(n)),"anchorRef",o.a.createRef()),Z(J(J(n)),"state",{isHovering:!1,currentUserId:n.props.user.id,isVisible:!1}),Z(J(J(n)),"renderBackground",function(){var e=n.props,t=e.showcaseResource.data,r=e.pinResource.data;if(r&&0!==r.length){if(t&&0!==t.length){if(1===t.length){var i=t.filter(function(e){return"board"===e.type})[0].images["550x"].map(function(e){return e.url});return o.a.createElement(d,{images:i})}var a=t.filter(function(e){return"board"===e.type}).map(function(e){return e.image_cover_url});return o.a.createElement(d,{images:a})}var c=r.map(function(e){return(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url});return o.a.createElement(d,{images:c})}return o.a.createElement(d,{images:[]})}),Z(J(J(n)),"timeoutDismiss",function(){n.dismissTimeout=setTimeout(function(){return n.setState({isHovering:!1,isVisible:!1})},ee)}),Z(J(J(n)),"handleOpen",function(){var e=n.props.user;clearTimeout(n.openTimeout),clearTimeout(n.dismissTimeout),n.state.currentUserId!==e.id&&n.forceUpdate(),n.setState({isHovering:!0,currentUserId:e.id}),n.openTimeout=setTimeout(function(){return n.setState({isVisible:!0})},ee)}),Z(J(J(n)),"handleDismiss",function(){n.timeoutDismiss()}),Z(J(J(n)),"renderCard",function(){var e=n.props,t=e.user,r=e.detailedUserResource.data,a=t.full_name,c=t.username,l=t.id,u=t.image_medium_url,s=t.follower_count;return o.a.createElement(p.a,{anchor:n.anchorRef.current,color:"white",idealDirection:"left",onDismiss:n.handleDismiss,positionRelativeToAnchor:!1,shouldFocus:!0,showOnTopOfModal:!0,size:$},o.a.createElement(i.b,{onMouseOver:n.handleOpen,onFocus:n.handleOpen,onMouseLeave:n.handleDismiss,width:"100%"},o.a.createElement(i.b,{width:"100%"},n.renderBackground(),o.a.createElement(W,{avatarUrl:u,userFullName:a,isCreator:r&&r.show_creator_profile,username:c,followerCount:s,id:l}))))}),n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,r["PureComponent"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.user,r=e.viewer,a=this.state.isVisible,c=n.id,l=r.id===n.id;return o.a.createElement(i.b,{onMouseOver:this.handleOpen,onFocus:this.handleOpen,onMouseLeave:this.handleDismiss,key:c},o.a.createElement(i.b,{ref:this.anchorRef,marginLeft:-2,marginRight:-2,paddingX:2},t),!l&&a&&this.renderCard())}}])&&K(n.prototype,a),c&&K(n,c),t}();t.a=Object(E.compose)(Y.withRouter,m.a,Object(f.b)({name:"UserResource",key:"detailedUserResource",options:function(e){return{username:e.user.username,field_set_key:"profile"}}}),Object(f.b)({name:"UserPinsResource",key:"pinResource",options:function(e){return{username:e.user.username,page_size:2,field_set_key:"grid_item",isPrefetch:!1}}}),Object(f.b)({name:"ShowcaseResource",key:"showcaseResource",options:function(e){return{username:e.user.username,page_size:2,isPrefetch:!1}}}))(te)}}]);